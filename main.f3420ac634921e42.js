"use strict";(self.webpackChunkRemoveBG=self.webpackChunkRemoveBG||[]).push([[179],{2011:(ut,Ee,F)=>{F.d(Ee,{Dh:()=>ce,GT:()=>te,cc:()=>Ie,hO:()=>Be,on:()=>$,pX:()=>ie,xv:()=>le});var m=F(4650),ee=F(9260),L=F(2122);ut=F.hmd(ut);const re=["ngOnDestroy"],ie=(De,Se,Ne,Ce={})=>new Proxy(De,{get:(_e,Te)=>Ne.runOutsideAngular(()=>{var Fe;if(De[Te])return!(null===(Fe=Ce?.spy)||void 0===Fe)&&Fe.get&&Ce.spy.get(Te,De[Te]),De[Te];if(re.indexOf(Te)>-1)return()=>{};const xe=Se.toPromise().then(V=>{const ge=V&&V[Te];return"function"==typeof ge?ge.bind(V):ge&&ge.then?ge.then(Ue=>Ne.run(()=>Ue)):Ne.run(()=>ge)});return new Proxy(()=>{},{get:(V,ge)=>xe[ge],apply:(V,ge,Ue)=>xe.then($e=>{var dt;const Ye=$e&&$e(...Ue);return!(null===(dt=Ce?.spy)||void 0===dt)&&dt.apply&&Ce.spy.apply(Te,Ue,Ye),Ye})})})}),te=(De,Se)=>{Se.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Ce=>{Object.defineProperty(De.prototype,Ce,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Ce))})})};class de{constructor(Se){return Se}}const ce=new m.OlP("angularfire2.app.options"),le=new m.OlP("angularfire2.app.name");function $(De,Se,Ne){const _e="object"==typeof Ne&&Ne||{};_e.name=_e.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Fe=ee.Z.apps.filter(xe=>xe&&xe.name===_e.name)[0]||Se.runOutsideAngular(()=>ee.Z.initializeApp(De,_e));try{JSON.stringify(De)!==JSON.stringify(Fe.options)&&W("error",`${Fe.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Fe)}const W=(De,...Se)=>{(0,m.X6Q)()&&typeof console<"u"&&console[De](...Se)},Q={provide:de,useFactory:$,deps:[ce,m.R0b,[new m.FiY,le]]};let Be=(()=>{class De{constructor(Ne){ee.Z.registerVersion("angularfire",L.q4.full,"core"),ee.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ee.Z.registerVersion("angular",m.q4F.full,Ne.toString())}static initializeApp(Ne,Ce){return{ngModule:De,providers:[{provide:ce,useValue:Ne},{provide:le,useValue:Ce}]}}}return De.\u0275fac=function(Ne){return new(Ne||De)(m.LFG(m.Lbi))},De.\u0275mod=m.oAB({type:De}),De.\u0275inj=m.cJS({providers:[Q]}),De})();function Ie(De,Se,Ne,Ce,_e){const[,Te,Fe]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===De)||[];if(Te)return function je(De,Se){try{return De.toString()===Se.toString()}catch{return De===Se}}(_e,Fe)||(fe("error",`${Se} was already initialized on the ${Ne} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:_e,was:Fe})),Te;{const xe=Ce();return globalThis.\u0275AngularfireInstanceCache.push([De,xe,_e]),xe}}const nt=!!ut.hot,fe=(De,...Se)=>{(0,m.X6Q)()&&typeof console<"u"&&console[De](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ut,Ee,F)=>{F.d(Ee,{q4:()=>wl,iC:()=>us,HU:()=>bn,vb:()=>Vs,JM:()=>Ei});var m=F(4650),ee=F(259),L=F(5861),re=F(9681),ie=F(2090),te=F(4859),de=F(1877),ce=F(8766);const le="@firebase/installations",$="0.6.4",W=1e4,Q=`w:${$}`,Be="FIS_v2",Ie="https://firebaseinstallations.googleapis.com/v1",je=36e5,Se=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function Ce({projectId:I}){return`${Ie}/projects/${I}/installations`}function _e(I){return{token:I.token,requestStatus:2,expiresIn:$e(I.expiresIn),creationTime:Date.now()}}function Te(I,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,L.Z)(function*(I,S){const z=(yield S.json()).error;return Se.create("request-failed",{requestName:I,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function xe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ge(I){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,L.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function $e(I){return Number(I.replace("s","000"))}function oe(){return(oe=(0,L.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:x}){const z=Ce(I),X=xe(I),G=S.getImmediate({optional:!0});if(G){const st=yield G.getHeartbeatsHeader();st&&X.append("x-firebase-client",st)}const Je={method:"POST",headers:X,body:JSON.stringify({fid:x,authVersion:Be,appId:I.appId,sdkVersion:Q})},ct=yield ge(()=>fetch(z,Je));if(ct.ok){const st=yield ct.json();return{fid:st.fid||x,registrationStatus:2,refreshToken:st.refreshToken,authToken:_e(st.authToken)}}throw yield Te("Create Installation",ct)})).apply(this,arguments)}function ue(I){return new Promise(S=>{setTimeout(S,I)})}const Me=/^[cdef][\w-]{21}$/,ke="";function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const x=function Ze(I){return function me(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Me.test(x)?x:ke}catch{return ke}}function We(I){return`${I.appName}!${I.appId}`}const qt=new Map;function yt(I,S){const x=We(I);Dt(x,S),function Cn(I,S){const x=function ln(){return!Jt&&"BroadcastChannel"in self&&(Jt=new BroadcastChannel("[Firebase] FID Change"),Jt.onmessage=I=>{Dt(I.data.key,I.data.fid)}),Jt}();x&&x.postMessage({key:I,fid:S}),function hn(){0===qt.size&&Jt&&(Jt.close(),Jt=null)}()}(x,S)}function Dt(I,S){const x=qt.get(I);if(x)for(const z of x)z(S)}let Jt=null;const Mi="firebase-installations-database",Jr=1,$i="firebase-installations-store";let mi=null;function es(){return mi||(mi=(0,ce.X3)(Mi,Jr,{upgrade:(I,S)=>{0===S&&I.createObjectStore($i)}})),mi}function nn(I,S){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,L.Z)(function*(I,S){const x=We(I),X=(yield es()).transaction($i,"readwrite"),G=X.objectStore($i),Ae=yield G.get(x);return yield G.put(S,x),yield X.done,(!Ae||Ae.fid!==S.fid)&&yt(I,S.fid),S})).apply(this,arguments)}function ft(I){return ts.apply(this,arguments)}function ts(){return(ts=(0,L.Z)(function*(I){const S=We(I),z=(yield es()).transaction($i,"readwrite");yield z.objectStore($i).delete(S),yield z.done})).apply(this,arguments)}function nr(I,S){return fn.apply(this,arguments)}function fn(){return(fn=(0,L.Z)(function*(I,S){const x=We(I),X=(yield es()).transaction($i,"readwrite"),G=X.objectStore($i),Ae=yield G.get(x),Je=S(Ae);return void 0===Je?yield G.delete(x):yield G.put(Je,x),yield X.done,Je&&(!Ae||Ae.fid!==Je.fid)&&yt(I,Je.fid),Je})).apply(this,arguments)}function ii(I){return ns.apply(this,arguments)}function ns(){return ns=(0,L.Z)(function*(I){let S;const x=yield nr(I.appConfig,z=>{const X=function Mt(I){return si(I||{fid:ze(),registrationStatus:0})}(z),G=function gt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Se.create("app-offline"))};const x={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},z=function Ct(I,S){return is.apply(this,arguments)}(I,x);return{installationEntry:x,registrationPromise:z}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:rn(I)}:{installationEntry:S}}(I,X);return S=G.registrationPromise,G.installationEntry});return x.fid===ke?{installationEntry:yield S}:{installationEntry:x,registrationPromise:S}}),ns.apply(this,arguments)}function is(){return is=(0,L.Z)(function*(I,S){try{const x=yield function Ye(I,S){return oe.apply(this,arguments)}(I,S);return nn(I.appConfig,x)}catch(x){throw Ne(x)&&409===x.customData.serverCode?yield ft(I.appConfig):yield nn(I.appConfig,{fid:S.fid,registrationStatus:0}),x}}),is.apply(this,arguments)}function rn(I){return In.apply(this,arguments)}function In(){return(In=(0,L.Z)(function*(I){let S=yield ri(I.appConfig);for(;1===S.registrationStatus;)yield ue(100),S=yield ri(I.appConfig);if(0===S.registrationStatus){const{installationEntry:x,registrationPromise:z}=yield ii(I);return z||x}return S})).apply(this,arguments)}function ri(I){return nr(I,S=>{if(!S)throw Se.create("installation-not-found");return si(S)})}function si(I){return function so(I){return 1===I.registrationStatus&&I.registrationTime+W<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function yr(){return(yr=(0,L.Z)(function*({appConfig:I,heartbeatServiceProvider:S},x){const z=function Vt(I,{fid:S}){return`${Ce(I)}/${S}/authTokens:generate`}(I,x),X=function V(I,{refreshToken:S}){const x=xe(I);return x.append("Authorization",function dt(I){return`${Be} ${I}`}(S)),x}(I,x),G=S.getImmediate({optional:!0});if(G){const st=yield G.getHeartbeatsHeader();st&&X.append("x-firebase-client",st)}const Je={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:Q,appId:I.appId}})},ct=yield ge(()=>fetch(z,Je));if(ct.ok)return _e(yield ct.json());throw yield Te("Generate Auth Token",ct)})).apply(this,arguments)}function yi(I){return _r.apply(this,arguments)}function _r(){return _r=(0,L.Z)(function*(I,S=!1){let x;const z=yield nr(I.appConfig,G=>{if(!kt(G))throw Se.create("not-registered");const Ae=G.authToken;if(!S&&function oi(I){return 2===I.requestStatus&&!function j(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+je}(I)}(Ae))return G;if(1===Ae.requestStatus)return x=function Ve(I,S){return be.apply(this,arguments)}(I,S),G;{if(!navigator.onLine)throw Se.create("app-offline");const Je=function H(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}(G);return x=function wt(I,S){return Pt.apply(this,arguments)}(I,Je),Je}});return x?yield x:z.authToken}),_r.apply(this,arguments)}function be(){return(be=(0,L.Z)(function*(I,S){let x=yield Xe(I.appConfig);for(;1===x.authToken.requestStatus;)yield ue(100),x=yield Xe(I.appConfig);const z=x.authToken;return 0===z.requestStatus?yi(I,S):z})).apply(this,arguments)}function Xe(I){return nr(I,S=>{if(!kt(S))throw Se.create("not-registered");return function q(I){return 1===I.requestStatus&&I.requestTime+W<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Pt(){return Pt=(0,L.Z)(function*(I,S){try{const x=yield function Kt(I,S){return yr.apply(this,arguments)}(I,S),z=Object.assign(Object.assign({},S),{authToken:x});return yield nn(I.appConfig,z),x}catch(x){if(!Ne(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const z=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield nn(I.appConfig,z)}else yield ft(I.appConfig);throw x}}),Pt.apply(this,arguments)}function kt(I){return void 0!==I&&2===I.registrationStatus}function ne(){return(ne=(0,L.Z)(function*(I){const S=I,{installationEntry:x,registrationPromise:z}=yield ii(S);return z?z.catch(console.error):yi(S).catch(console.error),x.fid})).apply(this,arguments)}function _t(){return _t=(0,L.Z)(function*(I,S=!1){const x=I;return yield function Gt(I){return vt.apply(this,arguments)}(x),(yield yi(x,S)).token}),_t.apply(this,arguments)}function vt(){return(vt=(0,L.Z)(function*(I){const{registrationPromise:S}=yield ii(I);S&&(yield S)})).apply(this,arguments)}function Ka(I){return Se.create("missing-app-config-values",{valueName:I})}const Vl="installations",gn=I=>{const S=I.getProvider("app").getImmediate(),x=function na(I){if(!I||!I.options)throw Ka("App Configuration");if(!I.name)throw Ka("App Name");const S=["projectId","apiKey","appId"];for(const x of S)if(!I.options[x])throw Ka(x);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:x,heartbeatServiceProvider:(0,re._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},lu=I=>{const S=I.getProvider("app").getImmediate(),x=(0,re._getProvider)(S,Vl).getImmediate();return{getId:()=>function pe(I){return ne.apply(this,arguments)}(x),getToken:X=>function rt(I){return _t.apply(this,arguments)}(x,X)}};(function jl(){(0,re._registerComponent)(new te.wA(Vl,gn,"PUBLIC")),(0,re._registerComponent)(new te.wA("installations-internal",lu,"PRIVATE"))})(),(0,re.registerVersion)(le,$),(0,re.registerVersion)(le,$,"esm2017");const ia="@firebase/remote-config",On=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ts{constructor(S,x,z,X){this.client=S,this.storage=x,this.storageCache=z,this.logger=X}isCachedDataFresh(S,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-x,X=z<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${X}.`),X}fetch(S){var x=this;return(0,L.Z)(function*(){const[z,X]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(X&&x.isCachedDataFresh(S.cacheMaxAgeMillis,z))return X;S.eTag=X&&X.eTag;const G=yield x.client.fetch(S),Ae=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===G.status&&Ae.push(x.storage.setLastSuccessfulFetchResponse(G)),yield Promise.all(Ae),G})()}}function Zi(I=navigator){return I.languages&&I.languages[0]||I.language}class vr{constructor(S,x,z,X,G,Ae){this.firebaseInstallations=S,this.sdkVersion=x,this.namespace=z,this.projectId=X,this.apiKey=G,this.appId=Ae}fetch(S){var x=this;return(0,L.Z)(function*(){const[z,X]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ct={sdk_version:x.sdkVersion,app_instance_id:z,app_instance_id_token:X,app_id:x.appId,language_code:Zi()},st={method:"POST",headers:Je,body:JSON.stringify(ct)},at=fetch(Ae,st),Tt=new Promise((Ui,Bi)=>{S.signal.addEventListener(()=>{const ds=new Error("The operation was aborted.");ds.name="AbortError",Bi(ds)})});let Ii;try{yield Promise.race([at,Tt]),Ii=yield at}catch(Ui){let Bi="fetch-client-network";throw"AbortError"===Ui?.name&&(Bi="fetch-timeout"),On.create(Bi,{originalErrorMessage:Ui?.message})}let zn=Ii.status;const Po=Ii.headers.get("ETag")||void 0;let js,xo;if(200===Ii.status){let Ui;try{Ui=yield Ii.json()}catch(Bi){throw On.create("fetch-client-parse",{originalErrorMessage:Bi?.message})}js=Ui.entries,xo=Ui.state}if("INSTANCE_STATE_UNSPECIFIED"===xo?zn=500:"NO_CHANGE"===xo?zn=304:("NO_TEMPLATE"===xo||"EMPTY_CONFIG"===xo)&&(js={}),304!==zn&&200!==zn)throw On.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:Po,config:js}})()}}class br{constructor(S,x){this.client=S,this.storage=x}fetch(S){var x=this;return(0,L.Z)(function*(){const z=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(S,z)})()}attemptFetch(S,{throttleEndTimeMillis:x,backoffCount:z}){var X=this;return(0,L.Z)(function*(){yield function Fr(I,S){return new Promise((x,z)=>{const X=Math.max(S-Date.now(),0),G=setTimeout(x,X);I.addEventListener(()=>{clearTimeout(G),z(On.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,x);try{const G=yield X.client.fetch(S);return yield X.storage.deleteThrottleMetadata(),G}catch(G){if(!function en(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(G))throw G;const Ae={throttleEndTimeMillis:Date.now()+(0,ie.$s)(z),backoffCount:z+1};return yield X.storage.setThrottleMetadata(Ae),X.attemptFetch(S,Ae)}})()}}class lo{constructor(S,x,z,X,G){this.app=S,this._client=x,this._storageCache=z,this._storage=X,this._logger=G,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function As(I,S){const x=I.target.error||void 0;return On.create(S,{originalErrorMessage:x&&x?.message})}const vi="app_namespace_store";class sr{constructor(S,x,z,X=function xi(){return new Promise((I,S)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=z=>{S(As(z,"storage-open"))},x.onsuccess=z=>{I(z.target.result)},x.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(vi,{keyPath:"compositeKey"})}}catch(x){S(On.create("storage-open",{originalErrorMessage:x?.message}))}})}()){this.appId=S,this.appName=x,this.namespace=z,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var x=this;return(0,L.Z)(function*(){const z=yield x.openDbPromise;return new Promise((X,G)=>{const Je=z.transaction([vi],"readonly").objectStore(vi),ct=x.createCompositeKey(S);try{const st=Je.get(ct);st.onerror=at=>{G(As(at,"storage-get"))},st.onsuccess=at=>{const Tt=at.target.result;X(Tt?Tt.value:void 0)}}catch(st){G(On.create("storage-get",{originalErrorMessage:st?.message}))}})})()}set(S,x){var z=this;return(0,L.Z)(function*(){const X=yield z.openDbPromise;return new Promise((G,Ae)=>{const ct=X.transaction([vi],"readwrite").objectStore(vi),st=z.createCompositeKey(S);try{const at=ct.put({compositeKey:st,value:x});at.onerror=Tt=>{Ae(As(Tt,"storage-set"))},at.onsuccess=()=>{G()}}catch(at){Ae(On.create("storage-set",{originalErrorMessage:at?.message}))}})})()}delete(S){var x=this;return(0,L.Z)(function*(){const z=yield x.openDbPromise;return new Promise((X,G)=>{const Je=z.transaction([vi],"readwrite").objectStore(vi),ct=x.createCompositeKey(S);try{const st=Je.delete(ct);st.onerror=at=>{G(As(at,"storage-delete"))},st.onsuccess=()=>{X()}}catch(st){G(On.create("storage-delete",{originalErrorMessage:st?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class sa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,L.Z)(function*(){const x=S.storage.getLastFetchStatus(),z=S.storage.getLastSuccessfulFetchTimestampMillis(),X=S.storage.getActiveConfig(),G=yield x;G&&(S.lastFetchStatus=G);const Ae=yield z;Ae&&(S.lastSuccessfulFetchTimestampMillis=Ae);const Je=yield X;Je&&(S.activeConfig=Je)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function oa(){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,L.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function or(){(0,re._registerComponent)(new te.wA("remote-config",function I(S,{instanceIdentifier:x}){const z=S.getProvider("app").getImmediate(),X=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw On.create("registration-window");if(!(0,ie.hl)())throw On.create("indexed-db-unavailable");const{projectId:G,apiKey:Ae,appId:Je}=z.options;if(!G)throw On.create("registration-project-id");if(!Ae)throw On.create("registration-api-key");if(!Je)throw On.create("registration-app-id");const ct=new sr(Je,z.name,x=x||"firebase"),st=new sa(ct),at=new de.Yd(ia);at.logLevel=de.in.ERROR;const Tt=new vr(X,re.SDK_VERSION,x,G,Ae,Je),Ii=new br(Tt,ct),zn=new Ts(Ii,ct,st,at),Po=new lo(z,zn,st,ct,at);return function mn(I){const S=(0,ie.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Po),Po},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(ia,"0.4.4"),(0,re.registerVersion)(ia,"0.4.4","esm2017")}();const Zl="/firebase-messaging-sw.js",Ur="/firebase-cloud-messaging-push-scope",co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aa="https://fcmregistrations.googleapis.com/v1",ql="google.c.a.c_id",Ud="google.c.a.c_l",Bd="google.c.a.ts",gf="google.c.a.e";var Ms=(()=>{return(I=Ms||(Ms={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Ms;var I})();function wr(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mf(I){const x=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(x),X=new Uint8Array(z.length);for(let G=0;G<z.length;++G)X[G]=z.charCodeAt(G);return X}const Ya="fcm_token_details_db",Kl=5,bi="fcm_token_object_Store";function du(){return du=(0,L.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(Ya))return null;let S=null;return(yield(0,ce.X3)(Ya,Kl,{upgrade:(z=(0,L.Z)(function*(X,G,Ae,Je){var ct;if(G<2||!X.objectStoreNames.contains(bi))return;const st=Je.objectStore(bi),at=yield st.index("fcmSenderId").get(I);if(yield st.clear(),at)if(2===G){const Tt=at;if(!Tt.auth||!Tt.p256dh||!Tt.endpoint)return;S={token:Tt.fcmToken,createTime:null!==(ct=Tt.createTime)&&void 0!==ct?ct:Date.now(),subscriptionOptions:{auth:Tt.auth,p256dh:Tt.p256dh,endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:"string"==typeof Tt.vapidKey?Tt.vapidKey:wr(Tt.vapidKey)}}}else if(3===G){const Tt=at;S={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:wr(Tt.auth),p256dh:wr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:wr(Tt.vapidKey)}}}else if(4===G){const Tt=at;S={token:Tt.fcmToken,createTime:Tt.createTime,subscriptionOptions:{auth:wr(Tt.auth),p256dh:wr(Tt.p256dh),endpoint:Tt.endpoint,swScope:Tt.swScope,vapidKey:wr(Tt.vapidKey)}}}}),function(G,Ae,Je,ct){return z.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Ya),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),function zd(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var z}),du.apply(this,arguments)}const Qa="firebase-messaging-database",Ps=1,xs="firebase-messaging-store";let Xa=null;function ho(){return Xa||(Xa=(0,ce.X3)(Qa,Ps,{upgrade:(I,S)=>{0===S&&I.createObjectStore(xs)}})),Xa}function Ja(I){return fo.apply(this,arguments)}function fo(){return fo=(0,L.Z)(function*(I){const S=go(I),z=yield(yield ho()).transaction(xs).objectStore(xs).get(S);if(z)return z;{const X=yield function Yl(I){return du.apply(this,arguments)}(I.appConfig.senderId);if(X)return yield Rs(I,X),X}}),fo.apply(this,arguments)}function Rs(I,S){return la.apply(this,arguments)}function la(){return(la=(0,L.Z)(function*(I,S){const x=go(I),X=(yield ho()).transaction(xs,"readwrite");return yield X.objectStore(xs).put(S,x),yield X.done,S})).apply(this,arguments)}function po(){return(po=(0,L.Z)(function*(I){const S=go(I),z=(yield ho()).transaction(xs,"readwrite");yield z.objectStore(xs).delete(S),yield z.done})).apply(this,arguments)}function go({appConfig:I}){return I.appId}const vn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function el(I,S){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,L.Z)(function*(I,S){const x=yield ks(I),z=ca(S),X={method:"POST",headers:x,body:JSON.stringify(z)};let G;try{G=yield(yield fetch(yo(I.appConfig),X)).json()}catch(Ae){throw vn.create("token-subscribe-failed",{errorInfo:Ae?.toString()})}if(G.error)throw vn.create("token-subscribe-failed",{errorInfo:G.error.message});if(!G.token)throw vn.create("token-subscribe-no-token");return G.token})).apply(this,arguments)}function Os(){return(Os=(0,L.Z)(function*(I,S){const x=yield ks(I),z=ca(S.subscriptionOptions),X={method:"PATCH",headers:x,body:JSON.stringify(z)};let G;try{G=yield(yield fetch(`${yo(I.appConfig)}/${S.token}`,X)).json()}catch(Ae){throw vn.create("token-update-failed",{errorInfo:Ae?.toString()})}if(G.error)throw vn.create("token-update-failed",{errorInfo:G.error.message});if(!G.token)throw vn.create("token-update-no-token");return G.token})).apply(this,arguments)}function Nn(I,S){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,L.Z)(function*(I,S){const z={method:"DELETE",headers:yield ks(I)};try{const G=yield(yield fetch(`${yo(I.appConfig)}/${S}`,z)).json();if(G.error)throw vn.create("token-unsubscribe-failed",{errorInfo:G.error.message})}catch(X){throw vn.create("token-unsubscribe-failed",{errorInfo:X?.toString()})}})).apply(this,arguments)}function yo({projectId:I}){return`${aa}/projects/${I}/registrations`}function ks(I){return jn.apply(this,arguments)}function jn(){return(jn=(0,L.Z)(function*({appConfig:I,installations:S}){const x=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ca({p256dh:I,auth:S,endpoint:x,vapidKey:z}){const X={web:{endpoint:x,auth:S,p256dh:I}};return z!==co&&(X.web.applicationPubKey=z),X}const _o=6048e5;function Br(){return Br=(0,L.Z)(function*(I){const S=yield function Jl(I,S){return ec.apply(this,arguments)}(I.swRegistration,I.vapidKey),x={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:wr(S.getKey("auth")),p256dh:wr(S.getKey("p256dh"))},z=yield Ja(I.firebaseDependencies);if(z){if(function rl(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}(z.subscriptionOptions,x))return Date.now()>=z.createTime+_o?function St(I,S){return nl.apply(this,arguments)}(I,{token:z.token,createTime:Date.now(),subscriptionOptions:x}):z.token;try{yield Nn(I.firebaseDependencies,z.token)}catch(X){console.warn(X)}return hu(I.firebaseDependencies,x)}return hu(I.firebaseDependencies,x)}),Br.apply(this,arguments)}function da(){return da=(0,L.Z)(function*(I){const S=yield Ja(I.firebaseDependencies);S&&(yield Nn(I.firebaseDependencies,S.token),yield function Ql(I){return po.apply(this,arguments)}(I.firebaseDependencies));const x=yield I.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()}),da.apply(this,arguments)}function nl(){return nl=(0,L.Z)(function*(I,S){try{const x=yield function mo(I,S){return Os.apply(this,arguments)}(I.firebaseDependencies,S),z=Object.assign(Object.assign({},S),{token:x,createTime:Date.now()});return yield Rs(I.firebaseDependencies,z),x}catch(x){throw yield function ua(I){return da.apply(this,arguments)}(I),x}}),nl.apply(this,arguments)}function hu(I,S){return il.apply(this,arguments)}function il(){return(il=(0,L.Z)(function*(I,S){const z={token:yield el(I,S),createTime:Date.now(),subscriptionOptions:S};return yield Rs(I,z),z.token})).apply(this,arguments)}function ec(){return(ec=(0,L.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mf(S)})})).apply(this,arguments)}function Hd(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function tc(I,S){if(!S.notification)return;I.notification={};const x=S.notification.title;x&&(I.notification.title=x);const z=S.notification.body;z&&(I.notification.body=z);const X=S.notification.image;X&&(I.notification.image=X);const G=S.notification.icon;G&&(I.notification.icon=G)}(S,I),function he(I,S){S.data&&(I.data=S.data)}(S,I),function $t(I,S){var x,z,X,G,Ae;if(!(S.fcmOptions||null!==(x=S.notification)&&void 0!==x&&x.click_action))return;I.fcmOptions={};const Je=null!==(X=null===(z=S.fcmOptions)||void 0===z?void 0:z.link)&&void 0!==X?X:null===(G=S.notification)||void 0===G?void 0:G.click_action;Je&&(I.fcmOptions.link=Je);const ct=null===(Ae=S.fcmOptions)||void 0===Ae?void 0:Ae.analytics_label;ct&&(I.fcmOptions.analyticsLabel=ct)}(S,I),S}function fu(I,S){const x=[];for(let z=0;z<I.length;z++)x.push(I.charAt(z)),z<S.length&&x.push(S.charAt(z));return x.join("")}function ha(I){return vn.create("missing-app-config-values",{valueName:I})}fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sl{constructor(S,x,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function Kn(I){if(!I||!I.options)throw ha("App Configuration Object");if(!I.name)throw ha("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:x}=I;for(const z of S)if(!x[z])throw ha(z);return{appName:I.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:X,installations:x,analyticsProvider:z}}_delete(){return Promise.resolve()}}function ki(I){return ol.apply(this,arguments)}function ol(){return(ol=(0,L.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Zl,{scope:Ur}),I.swRegistration.update().catch(()=>{})}catch(S){throw vn.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function pu(){return(pu=(0,L.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield ki(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw vn.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function ll(){return(ll=(0,L.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=co)})).apply(this,arguments)}function Ni(){return Ni=(0,L.Z)(function*(I,S){if(!navigator)throw vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vn.create("permission-blocked");return yield function ic(I,S){return ll.apply(this,arguments)}(I,S?.vapidKey),yield function al(I,S){return pu.apply(this,arguments)}(I,S?.serviceWorkerRegistration),function tl(I){return Br.apply(this,arguments)}(I)}),Ni.apply(this,arguments)}function Ns(){return(Ns=(0,L.Z)(function*(I,S,x){const z=function Er(I){switch(I){case Ms.NOTIFICATION_CLICKED:return"notification_open";case Ms.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:x[ql],message_name:x[Ud],message_time:x[Bd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fa(){return fa=(0,L.Z)(function*(I,S){const x=S.data;if(!x.isFirebaseMessaging)return;I.onMessageHandler&&x.messageType===Ms.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Hd(x)):I.onMessageHandler.next(Hd(x)));const z=x.data;(function nc(I){return"object"==typeof I&&!!I&&ql in I})(z)&&"1"===z[gf]&&(yield function ss(I,S,x){return Ns.apply(this,arguments)}(I,x.messageType,z))}),fa.apply(this,arguments)}const mu="@firebase/messaging",sc=I=>{const S=new sl(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function gu(I,S){return fa.apply(this,arguments)}(S,x)),S},zr=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:z=>function Un(I,S){return Ni.apply(this,arguments)}(S,z)}};function oc(){return _u.apply(this,arguments)}function _u(){return(_u=(0,L.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yu(){(0,re._registerComponent)(new te.wA("messaging",sc,"PUBLIC")),(0,re._registerComponent)(new te.wA("messaging-internal",zr,"PRIVATE")),(0,re.registerVersion)(mu,"0.12.4"),(0,re.registerVersion)(mu,"0.12.4","esm2017")}();const vu="analytics",wi="firebase_id",vo="origin",on=6e4,bo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lc="https://www.googletagmanager.com/gtag/js",Yn=new de.Yd("@firebase/analytics");function $d(I){return Promise.all(I.map(S=>S.catch(x=>x)))}function Ls(){return(Ls=(0,L.Z)(function*(I,S,x,z,X,G){const Ae=z[X];try{if(Ae)yield S[Ae];else{const ct=(yield $d(x)).find(st=>st.measurementId===X);ct&&(yield S[ct.appId])}}catch(Je){Yn.error(Je)}I("config",X,G)})).apply(this,arguments)}function os(){return(os=(0,L.Z)(function*(I,S,x,z,X){try{let G=[];if(X&&X.send_to){let Ae=X.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Je=yield $d(x);for(const ct of Ae){const st=Je.find(Tt=>Tt.measurementId===ct),at=st&&S[st.appId];if(!at){G=[];break}G.push(at)}}0===G.length&&(G=Object.values(S)),yield Promise.all(G),I("event",z,X||{})}catch(G){Yn.error(G)}})).apply(this,arguments)}const Ki=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ul=30,wu=new class Fs{constructor(S={},x=1e3){this.throttleMetadata=S,this.intervalMillis=x}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,x){this.throttleMetadata[S]=x}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Wd(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ya(){return(ya=(0,L.Z)(function*(I){var S;const{appId:x,apiKey:z}=I,X={method:"GET",headers:Wd(z)},G=bo.replace("{app-id}",x),Ae=yield fetch(G,X);if(200!==Ae.status&&304!==Ae.status){let Je="";try{const ct=yield Ae.json();null!==(S=ct.error)&&void 0!==S&&S.message&&(Je=ct.error.message)}catch{}throw Ki.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Je})}return Ae.json()})).apply(this,arguments)}function _a(){return(_a=(0,L.Z)(function*(I,S=wu,x){const{appId:z,apiKey:X,measurementId:G}=I.options;if(!z)throw Ki.create("no-app-id");if(!X){if(G)return{measurementId:G,appId:z};throw Ki.create("no-api-key")}const Ae=S.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new va;return setTimeout((0,L.Z)(function*(){Je.abort()}),void 0!==x?x:on),Hr({appId:z,apiKey:X,measurementId:G},Ae,Je,S)})).apply(this,arguments)}function Hr(I,S,x){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,L.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:x},z,X=wu){var G;const{appId:Ae,measurementId:Je}=I;try{yield function Eo(I,S){return new Promise((x,z)=>{const X=Math.max(S-Date.now(),0),G=setTimeout(x,X);I.addEventListener(()=>{clearTimeout(G),z(Ki.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(z,S)}catch(ct){if(Je)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:Ae,measurementId:Je};throw ct}try{const ct=yield function Us(I){return ya.apply(this,arguments)}(I);return X.deleteThrottleMetadata(Ae),ct}catch(ct){const st=ct;if(!function uc(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(st)){if(X.deleteThrottleMetadata(Ae),Je)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:Ae,measurementId:Je};throw ct}const at=503===Number(null===(G=st?.customData)||void 0===G?void 0:G.httpStatus)?(0,ie.$s)(x,X.intervalMillis,ul):(0,ie.$s)(x,X.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+at,backoffCount:x+1};return X.setThrottleMetadata(Ae,Tt),Yn.debug(`Calling attemptFetch again in ${at} millis`),Hr(I,Tt,z,X)}}),Vr.apply(this,arguments)}class va{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let dl,cs;function ls(){return(ls=(0,L.Z)(function*(I,S,x,z,X){if(X&&X.global)I("event",x,z);else{const G=yield S;I("event",x,Object.assign(Object.assign({},z),{send_to:G}))}})).apply(this,arguments)}function dc(){return(dc=(0,L.Z)(function*(){if(!(0,ie.hl)())return Yn.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(I){return Yn.warn(Ki.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Da(){return Da=(0,L.Z)(function*(I,S,x,z,X,G,Ae){var Je;const ct=function yn(I){return _a.apply(this,arguments)}(I);ct.then(zn=>{x[zn.measurementId]=zn.appId,I.options.measurementId&&zn.measurementId!==I.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>Yn.error(zn)),S.push(ct);const st=function Ia(){return dc.apply(this,arguments)}().then(zn=>{if(zn)return z.getId()}),[at,Tt]=yield Promise.all([ct,st]);(function wo(I){const S=window.document.getElementsByTagName("script");for(const x of Object.values(S))if(x.src&&x.src.includes(lc)&&x.src.includes(I))return x;return null})(G)||function vf(I,S){const x=document.createElement("script");x.src=`${lc}?l=${I}&id=${S}`,x.async=!0,document.head.appendChild(x)}(G,at.measurementId),cs&&(X("consent","default",cs),function Ca(I){cs=I}(void 0)),X("js",new Date);const Ii=null!==(Je=Ae?.config)&&void 0!==Je?Je:{};return Ii[vo]="firebase",Ii.update=!0,null!=Tt&&(Ii[wi]=Tt),X("config",at.measurementId,Ii),dl&&(X("set",dl),function pl(I){dl=I}(void 0)),at.measurementId}),Da.apply(this,arguments)}class Eu{constructor(S){this.app=S}_delete(){return delete Cr[this.app.options.appId],Promise.resolve()}}let Cr={},gl=[];const zs={};let ml,jr,Ir="dataLayer",Cu="gtag",ar=!1;function yl(I,S,x){!function Iu(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((z,X)=>`(${X+1}) ${z}`).join(" "),x=Ki.create("invalid-analytics-context",{errorInfo:S});Yn.warn(x.message)}}();const z=I.options.appId;if(!z)throw Ki.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ki.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cr[z])throw Ki.create("already-exists",{id:z});if(!ar){!function bf(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Ir);const{wrappedGtag:G,gtagCore:Ae}=function ma(I,S,x,z,X){let G=function(...Ae){window[z].push(arguments)};return window[X]&&"function"==typeof window[X]&&(G=window[X]),window[X]=function ga(I,S,x,z){function G(){return G=(0,L.Z)(function*(Ae,Je,ct){try{"event"===Ae?yield function cc(I,S,x,z,X){return os.apply(this,arguments)}(I,S,x,Je,ct):"config"===Ae?yield function pa(I,S,x,z,X,G){return Ls.apply(this,arguments)}(I,S,x,z,Je,ct):"consent"===Ae?I("consent","update",ct):I("set",Je)}catch(st){Yn.error(st)}}),G.apply(this,arguments)}return function X(Ae,Je,ct){return G.apply(this,arguments)}}(G,I,S,x),{gtagCore:G,wrappedGtag:window[X]}}(Cr,gl,zs,Ir,Cu);jr=G,ml=Ae,ar=!0}return Cr[z]=function Bs(I,S,x,z,X,G,Ae){return Da.apply(this,arguments)}(I,gl,zs,S,ml,Ir,x),new Eu(I)}function _l(){return $r.apply(this,arguments)}function $r(){return($r=(0,L.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Qt="@firebase/analytics";!function Lg(){(0,re._registerComponent)(new te.wA(vu,(S,{options:x})=>yl(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,re._registerComponent)(new te.wA("analytics-internal",function I(S){try{const x=S.getProvider(vu).getImmediate();return{logEvent:(z,X,G)=>function Zd(I,S,x,z){I=(0,ie.m9)(I),function hl(I,S,x,z,X){return ls.apply(this,arguments)}(jr,Cr[I.app.options.appId],S,x,z).catch(X=>Yn.error(X))}(x,z,X,G)}}catch(x){throw Ki.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,re.registerVersion)(Qt,"0.9.4"),(0,re.registerVersion)(Qt,"0.9.4","esm2017")}();var fc=F(4408),Mu=F(7565);const bl=new class pc extends Mu.v{}(class Hs extends fc.o{constructor(S,x){super(S,x),this.scheduler=S,this.work=x}schedule(S,x=0){return x>0?super.schedule(S,x):(this.delay=x,this.state=S,this.scheduler.flush(this),this)}execute(S,x){return x>0||this.closed?super.execute(S,x):this._execute(S,x)}requestAsyncId(S,x,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(S,x,z):(S.flush(this),0)}});var qd=F(4986),gc=F(8505),an=F(9468),Aa=F(5363);const wl=new m.GfV("7.5.0"),Pu="__angularfire_symbol__analyticsIsSupportedValue",Li="__angularfire_symbol__analyticsIsSupported",Dr="__angularfire_symbol__remoteConfigIsSupportedValue",El="__angularfire_symbol__remoteConfigIsSupported",To="__angularfire_symbol__messagingIsSupportedValue",Ao="__angularfire_symbol__messagingIsSupported";function Ei(I,S,x){if(S){if(1===S.length)return S[0];const G=S.filter(Ae=>Ae.app===x);if(1===G.length)return G[0]}return x.container.getProvider(I).getImmediate({optional:!0})}globalThis[Li]||(globalThis[Li]=_l().then(I=>globalThis[Pu]=I).catch(()=>globalThis[Pu]=!1)),globalThis[Ao]||(globalThis[Ao]=oc().then(I=>globalThis[To]=I).catch(()=>globalThis[To]=!1)),globalThis[El]||(globalThis[El]=oa().then(I=>globalThis[Dr]=I).catch(()=>globalThis[Dr]=!1));const Vs=(I,S)=>{const x=S?[S]:(0,ee.C6)(),z=[];return x.forEach(X=>{X.container.getProvider(I).instances.forEach(Ae=>{z.includes(Ae)||z.push(Ae)})}),z};function lr(){}class Mo{constructor(S,x=bl){this.zone=S,this.delegate=x}now(){return this.delegate.now()}schedule(S,x,z){const X=this.zone;return this.delegate.schedule(function(Ae){X.runGuarded(()=>{S.apply(this,[Ae])})},x,z)}}class Yd{constructor(S){this.zone=S,this.task=null}call(S,x){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lr,{},lr,lr)),x.pipe((0,gc.b)({next:z,complete:z,error:z})).subscribe(S).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bn=(()=>{class I{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Mo(Zone.current)),this.insideAngular=x.run(()=>new Mo(Zone.current,qd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(x){return new(x||I)(m.LFG(m.R0b))},I.\u0275prov=m.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ci(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function us(I){return Ci(),function Fi(I){return function(x){return(x=x.lift(new Yd(I.ngZone))).pipe((0,an.R)(I.outsideAngular),(0,Aa.Q)(I.insideAngular))}}(Ci())(I)}},2090:(ut,Ee,F)=>{F.d(Ee,{$s:()=>wt,BH:()=>Te,DV:()=>mi,Dv:()=>In,GJ:()=>Jr,L:()=>le,LL:()=>yt,Pz:()=>_e,Sg:()=>Fe,UG:()=>ge,UI:()=>nn,US:()=>te,Wj:()=>so,Wl:()=>Cn,Yr:()=>me,ZB:()=>Q,ZR:()=>qt,aH:()=>Ce,b$:()=>dt,cI:()=>Dt,dS:()=>yr,eu:()=>ze,g5:()=>L,gK:()=>ri,gQ:()=>ns,h$:()=>ce,hl:()=>ke,hu:()=>ee,jU:()=>Ue,lb:()=>Kt,m9:()=>oi,ne:()=>Mt,p$:()=>W,pd:()=>ii,r3:()=>$i,ru:()=>$e,tV:()=>$,uI:()=>V,ug:()=>Vt,vZ:()=>Pi,w1:()=>oe,w9:()=>Mi,xO:()=>nr,xb:()=>es,z$:()=>xe,zI:()=>Ze,zd:()=>fn});const m={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ee=function(j,H){if(!j)throw L(H)},L=function(j){return new Error("Firebase Database ("+m.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)},re=function(j){const H=[];let q=0;for(let pe=0;pe<j.length;pe++){let ne=j.charCodeAt(pe);ne<128?H[q++]=ne:ne<2048?(H[q++]=ne>>6|192,H[q++]=63&ne|128):55296==(64512&ne)&&pe+1<j.length&&56320==(64512&j.charCodeAt(pe+1))?(ne=65536+((1023&ne)<<10)+(1023&j.charCodeAt(++pe)),H[q++]=ne>>18|240,H[q++]=ne>>12&63|128,H[q++]=ne>>6&63|128,H[q++]=63&ne|128):(H[q++]=ne>>12|224,H[q++]=ne>>6&63|128,H[q++]=63&ne|128)}return H},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,H){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let ne=0;ne<j.length;ne+=3){const rt=j[ne],_t=ne+1<j.length,Gt=_t?j[ne+1]:0,vt=ne+2<j.length,pn=vt?j[ne+2]:0;let ir=(15&Gt)<<2|pn>>6,Ln=63&pn;vt||(Ln=64,_t||(ir=64)),pe.push(q[rt>>2],q[(3&rt)<<4|Gt>>4],q[ir],q[Ln])}return pe.join("")},encodeString(j,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(j):this.encodeByteArray(re(j),H)},decodeString(j,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(j):function(j){const H=[];let q=0,pe=0;for(;q<j.length;){const ne=j[q++];if(ne<128)H[pe++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const rt=j[q++];H[pe++]=String.fromCharCode((31&ne)<<6|63&rt)}else if(ne>239&&ne<365){const vt=((7&ne)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;H[pe++]=String.fromCharCode(55296+(vt>>10)),H[pe++]=String.fromCharCode(56320+(1023&vt))}else{const rt=j[q++],_t=j[q++];H[pe++]=String.fromCharCode((15&ne)<<12|(63&rt)<<6|63&_t)}}return H.join("")}(this.decodeStringToByteArray(j,H))},decodeStringToByteArray(j,H){this.init_();const q=H?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let ne=0;ne<j.length;){const rt=q[j.charAt(ne++)],Gt=ne<j.length?q[j.charAt(ne)]:0;++ne;const pn=ne<j.length?q[j.charAt(ne)]:64;++ne;const Bt=ne<j.length?q[j.charAt(ne)]:64;if(++ne,null==rt||null==Gt||null==pn||null==Bt)throw new de;pe.push(rt<<2|Gt>>4),64!==pn&&(pe.push(Gt<<4&240|pn>>2),64!==Bt&&pe.push(pn<<6&192|Bt))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(j){const H=re(j);return te.encodeByteArray(H,!0)},le=function(j){return ce(j).replace(/\./g,"")},$=function(j){try{return te.decodeString(j,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function W(j){return Q(void 0,j)}function Q(j,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return H}for(const q in H)!H.hasOwnProperty(q)||!Be(q)||(j[q]=Q(j[q],H[q]));return j}function Be(j){return"__proto__"!==j}const De=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=j&&$(j[1]);return H&&JSON.parse(H)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},Ce=()=>{var j;return null===(j=De())||void 0===j?void 0:j.config},_e=j=>{var H;return null===(H=De())||void 0===H?void 0:H[`_${j}`]};class Te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,q)=>{this.resolve=H,this.reject=q})}wrapCallback(H){return(q,pe)=>{q?this.reject(q):this.resolve(pe),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(q):H(q,pe))}}}function Fe(j,H){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=H||"demo-project",ne=j.iat||0,rt=j.sub||j.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:ne,exp:ne+3600,auth_time:ne,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},j);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(_t)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function ge(){var j;const H=null===(j=De())||void 0===j?void 0:j.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ue(){return"object"==typeof self&&self.self===self}function $e(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){const j=xe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function me(){return!0===m.NODE_CLIENT||!0===m.NODE_ADMIN}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function ze(){return new Promise((j,H)=>{try{let q=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(pe);ne.onsuccess=()=>{ne.result.close(),q||self.indexedDB.deleteDatabase(pe),j(!0)},ne.onupgradeneeded=()=>{q=!1},ne.onerror=()=>{var rt;H((null===(rt=ne.error)||void 0===rt?void 0:rt.message)||"")}}catch(q){H(q)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qt extends Error{constructor(H,q,pe){super(q),this.code=H,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(H,q,pe){this.service=H,this.serviceName=q,this.errors=pe}create(H,...q){const pe=q[0]||{},ne=`${this.service}/${H}`,rt=this.errors[H],_t=rt?function Wt(j,H){return j.replace(Qe,(q,pe)=>{const ne=H[pe];return null!=ne?String(ne):`<${pe}?>`})}(rt,pe):"Error";return new qt(ne,`${this.serviceName}: ${_t} (${ne}).`,pe)}}const Qe=/\{\$([^}]+)}/g;function Dt(j){return JSON.parse(j)}function Cn(j){return JSON.stringify(j)}const Jt=function(j){let H={},q={},pe={},ne="";try{const rt=j.split(".");H=Dt($(rt[0])||""),q=Dt($(rt[1])||""),ne=rt[2],pe=q.d||{},delete q.d}catch{}return{header:H,claims:q,data:pe,signature:ne}},Mi=function(j){const q=Jt(j).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},Jr=function(j){const H=Jt(j).claims;return"object"==typeof H&&!0===H.admin};function $i(j,H){return Object.prototype.hasOwnProperty.call(j,H)}function mi(j,H){if(Object.prototype.hasOwnProperty.call(j,H))return j[H]}function es(j){for(const H in j)if(Object.prototype.hasOwnProperty.call(j,H))return!1;return!0}function nn(j,H,q){const pe={};for(const ne in j)Object.prototype.hasOwnProperty.call(j,ne)&&(pe[ne]=H.call(q,j[ne],ne,j));return pe}function Pi(j,H){if(j===H)return!0;const q=Object.keys(j),pe=Object.keys(H);for(const ne of q){if(!pe.includes(ne))return!1;const rt=j[ne],_t=H[ne];if(ft(rt)&&ft(_t)){if(!Pi(rt,_t))return!1}else if(rt!==_t)return!1}for(const ne of pe)if(!q.includes(ne))return!1;return!0}function ft(j){return null!==j&&"object"==typeof j}function nr(j){const H=[];for(const[q,pe]of Object.entries(j))Array.isArray(pe)?pe.forEach(ne=>{H.push(encodeURIComponent(q)+"="+encodeURIComponent(ne))}):H.push(encodeURIComponent(q)+"="+encodeURIComponent(pe));return H.length?"&"+H.join("&"):""}function fn(j){const H={};return j.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[ne,rt]=pe.split("=");H[decodeURIComponent(ne)]=decodeURIComponent(rt)}}),H}function ii(j){const H=j.indexOf("?");if(!H)return"";const q=j.indexOf("#",H);return j.substring(H,q>0?q:void 0)}class ns{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,q){q||(q=0);const pe=this.W_;if("string"==typeof H)for(let Bt=0;Bt<16;Bt++)pe[Bt]=H.charCodeAt(q)<<24|H.charCodeAt(q+1)<<16|H.charCodeAt(q+2)<<8|H.charCodeAt(q+3),q+=4;else for(let Bt=0;Bt<16;Bt++)pe[Bt]=H[q]<<24|H[q+1]<<16|H[q+2]<<8|H[q+3],q+=4;for(let Bt=16;Bt<80;Bt++){const ir=pe[Bt-3]^pe[Bt-8]^pe[Bt-14]^pe[Bt-16];pe[Bt]=4294967295&(ir<<1|ir>>>31)}let pn,Rn,ne=this.chain_[0],rt=this.chain_[1],_t=this.chain_[2],Gt=this.chain_[3],vt=this.chain_[4];for(let Bt=0;Bt<80;Bt++){Bt<40?Bt<20?(pn=Gt^rt&(_t^Gt),Rn=1518500249):(pn=rt^_t^Gt,Rn=1859775393):Bt<60?(pn=rt&_t|Gt&(rt|_t),Rn=2400959708):(pn=rt^_t^Gt,Rn=3395469782);const ir=(ne<<5|ne>>>27)+pn+vt+Rn+pe[Bt]&4294967295;vt=Gt,Gt=_t,_t=4294967295&(rt<<30|rt>>>2),rt=ne,ne=ir}this.chain_[0]=this.chain_[0]+ne&4294967295,this.chain_[1]=this.chain_[1]+rt&4294967295,this.chain_[2]=this.chain_[2]+_t&4294967295,this.chain_[3]=this.chain_[3]+Gt&4294967295,this.chain_[4]=this.chain_[4]+vt&4294967295}update(H,q){if(null==H)return;void 0===q&&(q=H.length);const pe=q-this.blockSize;let ne=0;const rt=this.buf_;let _t=this.inbuf_;for(;ne<q;){if(0===_t)for(;ne<=pe;)this.compress_(H,ne),ne+=this.blockSize;if("string"==typeof H){for(;ne<q;)if(rt[_t]=H.charCodeAt(ne),++_t,++ne,_t===this.blockSize){this.compress_(rt),_t=0;break}}else for(;ne<q;)if(rt[_t]=H[ne],++_t,++ne,_t===this.blockSize){this.compress_(rt),_t=0;break}}this.inbuf_=_t,this.total_+=q}digest(){const H=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&q,q/=256;this.compress_(this.buf_);let pe=0;for(let ne=0;ne<5;ne++)for(let rt=24;rt>=0;rt-=8)H[pe]=this.chain_[ne]>>rt&255,++pe;return H}}function Mt(j,H){const q=new gt(j,H);return q.subscribe.bind(q)}class gt{constructor(H,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{H(this)}).catch(pe=>{this.error(pe)})}next(H){this.forEachObserver(q=>{q.next(H)})}error(H){this.forEachObserver(q=>{q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,q,pe){let ne;if(void 0===H&&void 0===q&&void 0===pe)throw new Error("Missing Observer.");ne=function is(j,H){if("object"!=typeof j||null===j)return!1;for(const q of H)if(q in j&&"function"==typeof j[q])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:q,complete:pe},void 0===ne.next&&(ne.next=rn),void 0===ne.error&&(ne.error=rn),void 0===ne.complete&&(ne.complete=rn);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),rt}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,H)}sendOne(H,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{q(this.observers[H])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rn(){}const In=function(j,H,q,pe){let ne;if(pe<H?ne="at least "+H:pe>q&&(ne=0===q?"none":"no more than "+q),ne)throw new Error(j+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+ne+".")};function ri(j,H){return`${j} failed: ${H} argument `}function so(j,H,q,pe){if((!pe||q)&&"function"!=typeof q)throw new Error(ri(j,H)+"must be a valid function.")}function Kt(j,H,q,pe){if((!pe||q)&&("object"!=typeof q||null===q))throw new Error(ri(j,H)+"must be a valid context object.")}const yr=function(j){const H=[];let q=0;for(let pe=0;pe<j.length;pe++){let ne=j.charCodeAt(pe);if(ne>=55296&&ne<=56319){const rt=ne-55296;pe++,ee(pe<j.length,"Surrogate pair missing trail surrogate."),ne=65536+(rt<<10)+(j.charCodeAt(pe)-56320)}ne<128?H[q++]=ne:ne<2048?(H[q++]=ne>>6|192,H[q++]=63&ne|128):ne<65536?(H[q++]=ne>>12|224,H[q++]=ne>>6&63|128,H[q++]=63&ne|128):(H[q++]=ne>>18|240,H[q++]=ne>>12&63|128,H[q++]=ne>>6&63|128,H[q++]=63&ne|128)}return H},Vt=function(j){let H=0;for(let q=0;q<j.length;q++){const pe=j.charCodeAt(q);pe<128?H++:pe<2048?H+=2:pe>=55296&&pe<=56319?(H+=4,q++):H+=3}return H},_r=1e3,Ve=2,be=144e5,Xe=.5;function wt(j,H=_r,q=Ve){const pe=H*Math.pow(q,j),ne=Math.round(Xe*pe*(Math.random()-.5)*2);return Math.min(be,pe+ne)}function oi(j){return j&&j._delegate?j._delegate:j}},5845:(ut,Ee,F)=>{var m=F(4650);let ee=null;function L(){return ee}class ie{}const te=new m.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return function ce(){return(0,m.LFG)($)}()},providedIn:"platform"}),n})();const le=new m.OlP("Location Initialized");let $=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Q(){return new $((0,m.LFG)(te))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Be(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let nt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(De)},providedIn:"root"}),n})();const fe=new m.OlP("appBaseHref");let De=(()=>{class n extends nt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Be(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+je(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,l){const u=this.prepareExternalUrl(r+je(l));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,l){const u=this.prepareExternalUrl(r+je(l));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(de),m.LFG(fe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends nt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Be(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,l){let u=this.prepareExternalUrl(r+je(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,l){let u=this.prepareExternalUrl(r+je(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(de),m.LFG(fe,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ie(Te(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+je(i))}normalize(t){return n.stripTrailingSlash(function _e(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=je,n.joinWithSlash=Be,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(m.LFG(nt))},n.\u0275prov=m.Yz7({token:n,factory:function(){return function Ce(){return new Ne((0,m.LFG)(nt))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Ue=(()=>((Ue=Ue||{})[Ue.Format=0]="Format",Ue[Ue.Standalone=1]="Standalone",Ue))(),$e=(()=>(($e=$e||{})[$e.Narrow=0]="Narrow",$e[$e.Abbreviated=1]="Abbreviated",$e[$e.Wide=2]="Wide",$e[$e.Short=3]="Short",$e))(),dt=(()=>((dt=dt||{})[dt.Short=0]="Short",dt[dt.Medium=1]="Medium",dt[dt.Long=2]="Long",dt[dt.Full=3]="Full",dt))(),Ye=(()=>((Ye=Ye||{})[Ye.Decimal=0]="Decimal",Ye[Ye.Group=1]="Group",Ye[Ye.List=2]="List",Ye[Ye.PercentSign=3]="PercentSign",Ye[Ye.PlusSign=4]="PlusSign",Ye[Ye.MinusSign=5]="MinusSign",Ye[Ye.Exponential=6]="Exponential",Ye[Ye.SuperscriptingExponent=7]="SuperscriptingExponent",Ye[Ye.PerMille=8]="PerMille",Ye[Ye.Infinity=9]="Infinity",Ye[Ye.NaN=10]="NaN",Ye[Ye.TimeSeparator=11]="TimeSeparator",Ye[Ye.CurrencyDecimal=12]="CurrencyDecimal",Ye[Ye.CurrencyGroup=13]="CurrencyGroup",Ye))();function qt(n,e){return nn((0,m.cg1)(n)[m.wAp.DateFormat],e)}function yt(n,e){return nn((0,m.cg1)(n)[m.wAp.TimeFormat],e)}function Wt(n,e){return nn((0,m.cg1)(n)[m.wAp.DateTimeFormat],e)}function Qe(n,e){const t=(0,m.cg1)(n),i=t[m.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Ye.CurrencyDecimal)return t[m.wAp.NumberSymbols][Ye.Decimal];if(e===Ye.CurrencyGroup)return t[m.wAp.NumberSymbols][Ye.Group]}return i}function Jr(n){if(!n[m.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[m.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function nn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Pi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const fn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ii={},ns=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mt=(()=>((Mt=Mt||{})[Mt.Short=0]="Short",Mt[Mt.ShortGMT=1]="ShortGMT",Mt[Mt.Long=2]="Long",Mt[Mt.Extended=3]="Extended",Mt))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),Ct=(()=>((Ct=Ct||{})[Ct.DayPeriods=0]="DayPeriods",Ct[Ct.Days=1]="Days",Ct[Ct.Months=2]="Months",Ct[Ct.Eras=3]="Eras",Ct))();function is(n,e,t,i){let r=function ne(n){if(_t(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,l=1,u=1]=n.split("-").map(h=>+h);return rn(r,l-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(fn))return function rt(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-i,y=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,u,h,y,w),e}(i)}const e=new Date(n);if(!_t(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=In(t,e)||e;let h,u=[];for(;e;){if(h=ns.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const D=u.pop();if(!D)break;e=D}}let y=r.getTimezoneOffset();i&&(y=H(i,y),r=function pe(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function q(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(H(e,r)-r))}(r,i,!0));let w="";return u.forEach(D=>{const A=function j(n){if(oi[n])return oi[n];let e;switch(n){case"G":case"GG":case"GGG":e=Vt(Ct.Eras,$e.Abbreviated);break;case"GGGG":e=Vt(Ct.Eras,$e.Wide);break;case"GGGGG":e=Vt(Ct.Eras,$e.Narrow);break;case"y":e=Kt(gt.FullYear,1,0,!1,!0);break;case"yy":e=Kt(gt.FullYear,2,0,!0,!0);break;case"yyy":e=Kt(gt.FullYear,3,0,!1,!0);break;case"yyyy":e=Kt(gt.FullYear,4,0,!1,!0);break;case"Y":e=kt(1);break;case"YY":e=kt(2,!0);break;case"YYY":e=kt(3);break;case"YYYY":e=kt(4);break;case"M":case"L":e=Kt(gt.Month,1,1);break;case"MM":case"LL":e=Kt(gt.Month,2,1);break;case"MMM":e=Vt(Ct.Months,$e.Abbreviated);break;case"MMMM":e=Vt(Ct.Months,$e.Wide);break;case"MMMMM":e=Vt(Ct.Months,$e.Narrow);break;case"LLL":e=Vt(Ct.Months,$e.Abbreviated,Ue.Standalone);break;case"LLLL":e=Vt(Ct.Months,$e.Wide,Ue.Standalone);break;case"LLLLL":e=Vt(Ct.Months,$e.Narrow,Ue.Standalone);break;case"w":e=Pt(1);break;case"ww":e=Pt(2);break;case"W":e=Pt(1,!0);break;case"d":e=Kt(gt.Date,1);break;case"dd":e=Kt(gt.Date,2);break;case"c":case"cc":e=Kt(gt.Day,1);break;case"ccc":e=Vt(Ct.Days,$e.Abbreviated,Ue.Standalone);break;case"cccc":e=Vt(Ct.Days,$e.Wide,Ue.Standalone);break;case"ccccc":e=Vt(Ct.Days,$e.Narrow,Ue.Standalone);break;case"cccccc":e=Vt(Ct.Days,$e.Short,Ue.Standalone);break;case"E":case"EE":case"EEE":e=Vt(Ct.Days,$e.Abbreviated);break;case"EEEE":e=Vt(Ct.Days,$e.Wide);break;case"EEEEE":e=Vt(Ct.Days,$e.Narrow);break;case"EEEEEE":e=Vt(Ct.Days,$e.Short);break;case"a":case"aa":case"aaa":e=Vt(Ct.DayPeriods,$e.Abbreviated);break;case"aaaa":e=Vt(Ct.DayPeriods,$e.Wide);break;case"aaaaa":e=Vt(Ct.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":e=Vt(Ct.DayPeriods,$e.Abbreviated,Ue.Standalone,!0);break;case"bbbb":e=Vt(Ct.DayPeriods,$e.Wide,Ue.Standalone,!0);break;case"bbbbb":e=Vt(Ct.DayPeriods,$e.Narrow,Ue.Standalone,!0);break;case"B":case"BB":case"BBB":e=Vt(Ct.DayPeriods,$e.Abbreviated,Ue.Format,!0);break;case"BBBB":e=Vt(Ct.DayPeriods,$e.Wide,Ue.Format,!0);break;case"BBBBB":e=Vt(Ct.DayPeriods,$e.Narrow,Ue.Format,!0);break;case"h":e=Kt(gt.Hours,1,-12);break;case"hh":e=Kt(gt.Hours,2,-12);break;case"H":e=Kt(gt.Hours,1);break;case"HH":e=Kt(gt.Hours,2);break;case"m":e=Kt(gt.Minutes,1);break;case"mm":e=Kt(gt.Minutes,2);break;case"s":e=Kt(gt.Seconds,1);break;case"ss":e=Kt(gt.Seconds,2);break;case"S":e=Kt(gt.FractionalSeconds,1);break;case"SS":e=Kt(gt.FractionalSeconds,2);break;case"SSS":e=Kt(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=_r(Mt.Short);break;case"ZZZZZ":e=_r(Mt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_r(Mt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=_r(Mt.Long);break;default:return null}return oi[n]=e,e}(D);w+=A?A(r,t,y):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function rn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function In(n,e){const t=function ue(n){return(0,m.cg1)(n)[m.wAp.LocaleId]}(n);if(ii[t]=ii[t]||{},ii[t][e])return ii[t][e];let i="";switch(e){case"shortDate":i=qt(n,dt.Short);break;case"mediumDate":i=qt(n,dt.Medium);break;case"longDate":i=qt(n,dt.Long);break;case"fullDate":i=qt(n,dt.Full);break;case"shortTime":i=yt(n,dt.Short);break;case"mediumTime":i=yt(n,dt.Medium);break;case"longTime":i=yt(n,dt.Long);break;case"fullTime":i=yt(n,dt.Full);break;case"short":const r=In(n,"shortTime"),l=In(n,"shortDate");i=ri(Wt(n,dt.Short),[r,l]);break;case"medium":const u=In(n,"mediumTime"),h=In(n,"mediumDate");i=ri(Wt(n,dt.Medium),[u,h]);break;case"long":const y=In(n,"longTime"),w=In(n,"longDate");i=ri(Wt(n,dt.Long),[y,w]);break;case"full":const D=In(n,"fullTime"),A=In(n,"fullDate");i=ri(Wt(n,dt.Full),[D,A])}return i&&(ii[t][e]=i),i}function ri(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function si(n,e,t="-",i,r){let l="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,l=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),l+u}function Kt(n,e,t=0,i=!1,r=!1){return function(l,u){let h=function yr(n,e){switch(n){case gt.FullYear:return e.getFullYear();case gt.Month:return e.getMonth();case gt.Date:return e.getDate();case gt.Hours:return e.getHours();case gt.Minutes:return e.getMinutes();case gt.Seconds:return e.getSeconds();case gt.FractionalSeconds:return e.getMilliseconds();case gt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||h>-t)&&(h+=t),n===gt.Hours)0===h&&-12===t&&(h=12);else if(n===gt.FractionalSeconds)return function so(n,e){return si(n,3).substring(0,e)}(h,e);const y=Qe(u,Ye.MinusSign);return si(h,e,y,i,r)}}function Vt(n,e,t=Ue.Format,i=!1){return function(r,l){return function yi(n,e,t,i,r,l){switch(t){case Ct.Months:return function ke(n,e,t){const i=(0,m.cg1)(n),l=nn([i[m.wAp.MonthsFormat],i[m.wAp.MonthsStandalone]],e);return nn(l,t)}(e,r,i)[n.getMonth()];case Ct.Days:return function Me(n,e,t){const i=(0,m.cg1)(n),l=nn([i[m.wAp.DaysFormat],i[m.wAp.DaysStandalone]],e);return nn(l,t)}(e,r,i)[n.getDay()];case Ct.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(l){const w=function $i(n){const e=(0,m.cg1)(n);return Jr(e),(e[m.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Pi(i):[Pi(i[0]),Pi(i[1])])}(e),D=function mi(n,e,t){const i=(0,m.cg1)(n);Jr(i);const l=nn([i[m.wAp.ExtraData][0],i[m.wAp.ExtraData][1]],e)||[];return nn(l,t)||[]}(e,r,i),A=w.findIndex(R=>{if(Array.isArray(R)){const[k,N]=R,Y=u>=k.hours&&h>=k.minutes,se=u<N.hours||u===N.hours&&h<N.minutes;if(k.hours<N.hours){if(Y&&se)return!0}else if(Y||se)return!0}else if(R.hours===u&&R.minutes===h)return!0;return!1});if(-1!==A)return D[A]}return function me(n,e,t){const i=(0,m.cg1)(n),l=nn([i[m.wAp.DayPeriodsFormat],i[m.wAp.DayPeriodsStandalone]],e);return nn(l,t)}(e,r,i)[u<12?0:1];case Ct.Eras:return function ze(n,e){return nn((0,m.cg1)(n)[m.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,l,n,e,t,i)}}function _r(n){return function(e,t,i){const r=-1*i,l=Qe(t,Ye.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Mt.Short:return(r>=0?"+":"")+si(u,2,l)+si(Math.abs(r%60),2,l);case Mt.ShortGMT:return"GMT"+(r>=0?"+":"")+si(u,1,l);case Mt.Long:return"GMT"+(r>=0?"+":"")+si(u,2,l)+":"+si(Math.abs(r%60),2,l);case Mt.Extended:return 0===i?"Z":(r>=0?"+":"")+si(u,2,l)+":"+si(Math.abs(r%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ve=0,be=4;function wt(n){return rn(n.getFullYear(),n.getMonth(),n.getDate()+(be-n.getDay()))}function Pt(n,e=!1){return function(t,i){let r;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+l)/7)}else{const l=wt(t),u=function Xe(n){const e=rn(n,Ve,1).getDay();return rn(n,0,1+(e<=be?be:be+7)-e)}(l.getFullYear()),h=l.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return si(r,n,Qe(i,Ye.MinusSign))}}function kt(n,e=!1){return function(t,i){return si(wt(t).getFullYear(),n,Qe(i,Ye.MinusSign),e)}}const oi={};function H(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function _t(n){return n instanceof Date&&!isNaN(n.valueOf())}function qn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,l]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(l)}return null}class kn{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,l,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new kn(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===l?void 0:l);else if(null!==l){const h=i.get(l);i.move(h,u),mn(h,r)}});for(let r=0,l=i.length;r<l;r++){const h=i.get(r).context;h.index=r,h.count=l,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{mn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function mn(n,e){n.context.$implicit=e.item}let Lr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Nt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$l("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$l("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.s_b),m.Y36(m.Rgc))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Nt{constructor(){this.$implicit=null,this.ngIf=null}}function $l(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,m.AaK)(e)}'.`)}let vr=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,l]=t.split("."),u=-1===r.indexOf("-")?void 0:m.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,l?`${i}${l}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.SBq),m.Y36(m.aQg),m.Y36(m.Qsj))},n.\u0275dir=m.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();const bi="server";function Qa(n){return n===bi}let ho=(()=>{class n{}return n.\u0275prov=(0,m.Yz7)({token:n,providedIn:"root",factory:()=>new Ja((0,m.LFG)(te),window)}),n})();class Ja{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Rs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const u=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fo(this.window.history)||fo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ql{}class os extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ga extends os{static makeCurrent(){!function re(n){ee||(ee=n)}(new ga)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function wo(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}();return null==t?null:function Ki(n){as=as||document.createElement("a"),as.setAttribute("href",n);const e=as.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qn(document.cookie,e)}}let as,ma=null;const ul=new m.OlP("TRANSITION_ID"),Fs=[{provide:m.ip1,useFactory:function bu(n,e,t){return()=>{t.get(m.CZH).donePromise.then(()=>{const i=L(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[ul,te,m.zs3],multi:!0}];let Wd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=new m.OlP("EventManagerPlugins");let ya=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const u=r[l];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Us),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class yn{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=L().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let _a=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let l=r.get(t)??0;return l+=i,l>0?r.set(t,l):r.delete(t),l}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),Hr=(()=>{class n extends _a{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(l=>l.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const l=this.styleRef.get(i);l?l.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Vr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Eo=/%COMP%/g,Co=new m.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function wa(n,e){return e.flat(100).map(t=>t.replace(Eo,n))}function fl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qn=(()=>{class n{constructor(t,i,r,l){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ea(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof dc?r.applyToHost(t):r instanceof Ia&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let l=r.get(i.id);if(!l){const u=this.eventManager,h=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(i.encapsulation){case m.ifc.Emulated:l=new dc(u,h,i,this.appId,y);break;case m.ifc.ShadowDom:return new pl(u,h,t,i);default:l=new Ia(u,h,i,y)}l.onDestroy=()=>r.delete(i.id),r.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(ya),m.LFG(Hr),m.LFG(m.AFp),m.LFG(Co))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class Ea{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Vr[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ca(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ca(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const l=Vr[r];l?e.setAttributeNS(l,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Vr[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(m.JOm.DashCase|m.JOm.Important)?e.style.setProperty(t,i,r&m.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&m.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fl(i)):this.eventManager.addEventListener(e,t,fl(i))}}function Ca(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pl extends Ea{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=wa(r.id,r.styles);for(const u of l){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ia extends Ea{constructor(e,t,i,r,l=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=wa(l,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class dc extends Ia{constructor(e,t,i,r,l){const u=r+"-"+i.id;super(e,t,i,l,u),this.contentAttr=function Io(n){return"_ngcontent-%COMP%".replace(Eo,n)}(u),this.hostAttr=function ba(n){return"_nghost-%COMP%".replace(Eo,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Bs=(()=>{class n extends yn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Da=["alt","control","meta","shift"],Eu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let gl=(()=>{class n extends yn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,l.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Da.forEach(w=>{const D=i.indexOf(w);D>-1&&(i.splice(D,1),u+=w+".")}),u+=l,0!=i.length||0===l.length)return null;const y={};return y.domEventName=r,y.fullKey=u,y}static matchEventFullKeyCode(t,i){let r=Eu[t.key]||t.key,l="";return i.indexOf("code.")>-1&&(r=t.code,l="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Da.forEach(u=>{u!==r&&(0,Cr[u])(t)&&(l+=u+".")}),l+=r,l===i)}static eventCallback(t,i,r){return l=>{n.matchEventFullKeyCode(l,t)&&r.runGuarded(()=>i(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const Du=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:"browser"},{provide:m.g9A,useValue:function ar(){ga.makeCurrent()},multi:!0},{provide:te,useFactory:function Iu(){return(0,m.RDi)(document),document},deps:[]}]),hc=new m.OlP(""),_l=[{provide:m.rWj,useClass:class wu{addToWindow(e){m.dqk.getAngularTestability=(i,r=!0)=>{const l=e.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},m.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(i=>{const r=m.dqk.getAllAngularTestabilities();let l=r.length,u=!1;const h=function(y){u=u||y,l--,0==l&&i(u)};r.forEach(function(y){y.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:m.lri,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b,m.eoX,m.rWj]}],$r=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function wf(){return new m.qLn},deps:[]},{provide:Us,useClass:Bs,multi:!0,deps:[te,m.R0b,m.Lbi]},{provide:Us,useClass:gl,multi:!0,deps:[te]},{provide:Qn,useClass:Qn,deps:[ya,Hr,m.AFp,Co]},{provide:m.FYo,useExisting:Qn},{provide:_a,useExisting:Hr},{provide:Hr,useClass:Hr,deps:[te]},{provide:ya,useClass:ya,deps:[Us,m.R0b]},{provide:Ql,useClass:Wd,deps:[]},[]];let So=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:m.AFp,useValue:t.appId},{provide:ul,useExisting:m.AFp},Fs]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(hc,12))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[...$r,..._l],imports:[Ya,m.hGG]}),n})(),Zd=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Sa(){return new Zd((0,m.LFG)(te))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):m.LFG(Mo),i},providedIn:"root"}),n})(),Mo=(()=>{class n extends Vs{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case m.q3G.NONE:return i;case m.q3G.HTML:return(0,m.qzn)(i,"HTML")?(0,m.z3N)(i):(0,m.EiD)(this._doc,String(i)).toString();case m.q3G.STYLE:return(0,m.qzn)(i,"Style")?(0,m.z3N)(i):i;case m.q3G.SCRIPT:if((0,m.qzn)(i,"Script"))return(0,m.z3N)(i);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.qzn)(i,"URL")?(0,m.z3N)(i):(0,m.mCW)(String(i));case m.q3G.RESOURCE_URL:if((0,m.qzn)(i,"ResourceURL"))return(0,m.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${m.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${m.JZr})`)}}bypassSecurityTrustHtml(t){return(0,m.JVY)(t)}bypassSecurityTrustStyle(t){return(0,m.L6k)(t)}bypassSecurityTrustScript(t){return(0,m.eBb)(t)}bypassSecurityTrustUrl(t){return(0,m.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,m.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function lr(n){return new Mo(n.get(te))}(m.LFG(m.zs3)),i},providedIn:"root"}),n})();var bn=F(8996),Ci=F(7669);function ot(...n){const e=(0,Ci.yG)(n);return(0,bn.D)(n,e)}var Bn=F(7579);class Yi extends Bn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const us=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fi=F(9751);const{isArray:mc}=Array,{getPrototypeOf:Il,prototype:I,keys:S}=Object;var X=F(4671),G=F(4004);const{isArray:Ae}=Array;var at=F(5403),Tt=F(9672);function Ii(...n){const e=(0,Ci.yG)(n),t=(0,Ci.jO)(n),{args:i,keys:r}=function x(n){if(1===n.length){const e=n[0];if(mc(e))return{args:e,keys:null};if(function z(n){return n&&"object"==typeof n&&Il(n)===I}(e)){const t=S(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,bn.D)([],e);const l=new Fi.y(function zn(n,e,t=X.y){return i=>{Po(e,()=>{const{length:r}=n,l=new Array(r);let u=r,h=r;for(let y=0;y<r;y++)Po(e,()=>{const w=(0,bn.D)(n[y],e);let D=!1;w.subscribe((0,at.x)(i,A=>{l[y]=A,D||(D=!0,h--),h||i.next(t(l.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>function st(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,u):X.y));return t?l.pipe(function ct(n){return(0,G.U)(e=>function Je(n,e){return Ae(e)?n(...e):n(e)}(n,e))}(t)):l}function Po(n,e,t){n?(0,Tt.f)(t,n,e):e()}var js=F(8189);function Ui(...n){return function xo(){return(0,js.J)(1)}()((0,bn.D)(n,(0,Ci.yG)(n)))}var Bi=F(8421);function ds(n){return new Fi.y(e=>{(0,Bi.Xf)(n()).subscribe(e)})}var Ef=F(9635),Qd=F(576);function Dl(n,e){const t=(0,Qd.m)(n)?n:()=>n,i=r=>r.error(t());return new Fi.y(e?r=>e.schedule(i,0,r):i)}var hs=F(515),Xd=F(727),Di=F(4482);function Ru(){return(0,Di.e)((n,e)=>{let t=null;n._refCount++;const i=(0,at.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,l=t;t=null,r&&(!l||r===l)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Cf extends Fi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,at.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xd.w0.EMPTY)}return e}refCount(){return Ru()(this)}}function _n(n,e){return(0,Di.e)((t,i)=>{let r=null,l=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,at.x)(i,y=>{r?.unsubscribe();let w=0;const D=l++;(0,Bi.Xf)(n(y,D)).subscribe(r=(0,at.x)(i,A=>i.next(e?e(y,A,D,w++):A),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Ou(n){return n<=0?()=>hs.E:(0,Di.e)((e,t)=>{let i=0;e.subscribe((0,at.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function cr(n,e){return(0,Di.e)((t,i)=>{let r=0;t.subscribe((0,at.x)(i,l=>n.call(e,l,r++)&&i.next(l)))})}var zi=F(5577);function Jd(n){return(0,Di.e)((e,t)=>{let i=!1;e.subscribe((0,at.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Fg(n=K_){return(0,Di.e)((e,t)=>{let i=!1;e.subscribe((0,at.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function K_(){return new us}function Ro(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,l)=>n(r,l,i)):X.y,Ou(1),t?Jd(e):Fg(()=>new us))}function fs(n,e){return(0,Qd.m)(e)?(0,zi.z)(n,e,1):(0,zi.z)(n,1)}var ci=F(8505);function ps(n){return(0,Di.e)((e,t)=>{let l,i=null,r=!1;i=e.subscribe((0,at.x)(t,void 0,void 0,u=>{l=(0,Bi.Xf)(n(u,ps(n)(e))),i?(i.unsubscribe(),i=null,l.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(t))})}function yc(n,e){return(0,Di.e)(function If(n,e,t,i,r){return(l,u)=>{let h=t,y=e,w=0;l.subscribe((0,at.x)(u,D=>{const A=w++;y=h?n(y,D,A):(h=!0,D),i&&u.next(y)},r&&(()=>{h&&u.next(y),u.complete()})))}}(n,e,arguments.length>=2,!0))}function ku(n){return n<=0?()=>hs.E:(0,Di.e)((e,t)=>{let i=[];e.subscribe((0,at.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Sr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?cr((r,l)=>n(r,l,i)):X.y,ku(1),t?Jd(e):Fg(()=>new us))}function eh(n){return(0,Di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",$s=Symbol("RouteTitle");class zg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Oo(n){return new zg(n)}function Hg(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const u=i[l],h=n[l];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function gs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let l=0;l<t.length;l++)if(r=t[l],!Nu(n[r],e[r]))return!1;return!0}function Nu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,l)=>i[l]===r)}return n===e}function Hi(n){return Array.prototype.concat.apply([],n)}function _c(n){return n.length>0?n[n.length-1]:null}function $n(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wn(n){return(0,m.CqO)(n)?n:(0,m.QGY)(n)?(0,bn.D)(Promise.resolve(n)):ot(n)}const ko=!1,Sf={exact:function Vg(n,e,t){if(!ur(n.segments,e.segments)||!Sl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Vg(n.children[i],e.children[i],t))return!1;return!0},subset:Af},nh={exact:function Tf(n,e){return gs(n,e)},subset:function No(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Nu(n[t],e[t]))},ignored:()=>!0};function ih(n,e,t){return Sf[t.paths](n.root,e.root,t.matrixParams)&&nh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Af(n,e,t){return rh(n,e,e.segments,t)}function rh(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ur(r,t)||e.hasChildren()||!Sl(r,t,i))}if(n.segments.length===t.length){if(!ur(n.segments,t)||!Sl(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Af(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(ur(n.segments,r)&&Sl(n.segments,r,i)&&n.children[Ot])&&rh(n.children[Ot],e,l,i)}}function Sl(n,e,t){return e.every((i,r)=>nh[t](n[r].parameters,i.parameters))}class Lo{constructor(e=new Lt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oo(this.queryParams)),this._queryParamMap}toString(){return sh.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,$n(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bc(this)}}class Ma{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Oo(this.parameters)),this._parameterMap}toString(){return Uu(this)}}function ur(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let vc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return new Pa},providedIn:"root"}),n})();class Pa{parse(e){const t=new Zg(e);return new Lo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ms(e.root,!0)}`,i=function Wg(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${wc(t)}=${wc(r)}`).join("&"):`${wc(t)}=${wc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Mf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const sh=new Pa;function bc(n){return n.segments.map(e=>Uu(e)).join("/")}function ms(n,e){if(!n.hasChildren())return bc(n);if(e){const t=n.children[Ot]?ms(n.children[Ot],!1):"",i=[];return $n(n.children,(r,l)=>{l!==Ot&&i.push(`${l}:${ms(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function $g(n,e){let t=[];return $n(n.children,(i,r)=>{r===Ot&&(t=t.concat(e(i,r)))}),$n(n.children,(i,r)=>{r!==Ot&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Ot?[ms(n.children[Ot],!1)]:[`${r}:${ms(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${bc(n)}/${t[0]}`:`${bc(n)}/(${t.join("//")})`}}function Lu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(n){return Lu(n).replace(/%3B/gi,";")}function xa(n){return Lu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fu(n){return decodeURIComponent(n)}function Pf(n){return Fu(n.replace(/\+/g,"%20"))}function Uu(n){return`${xa(n.path)}${function oh(n){return Object.keys(n).map(e=>`;${xa(e)}=${xa(n[e])}`).join("")}(n.parameters)}`}const Gg=/^[^\/()?;=#]+/;function Fo(n){const e=n.match(Gg);return e?e[0]:""}const ah=/^[^=?&#]+/,lh=/^[^&#]+/;class Zg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ot]=new Lt(e,t)),i}parseSegment(){const e=Fo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new m.vHH(4009,ko);return this.capture(e),new Ma(Fu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Fo(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Fo(this.remaining);r&&(i=r,this.capture(i))}e[Fu(t)]=Fu(i)}parseQueryParam(e){const t=function xf(n){const e=n.match(ah);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Rf(n){const e=n.match(lh);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Pf(t),l=Pf(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(l)}else e[r]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Fo(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new m.vHH(4010,ko);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Ot);const u=this.parseChildren();t[l]=1===Object.keys(u).length?u[Ot]:new Lt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new m.vHH(4011,ko)}}function Bu(n){return n.segments.length>0?new Lt([],{[Ot]:n}):n}function Ec(n){const e={};for(const i of Object.keys(n.children)){const l=Ec(n.children[i]);(l.segments.length>0||l.hasChildren())&&(e[i]=l)}return function Ra(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}function Tr(n){return n instanceof Lo}const zu=!1;function Yg(n,e,t,i,r){if(0===t.length)return Ws(e.root,e.root,e.root,i,r);const l=function Ic(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Hu(!0,0,n);let e=0,t=!1;const i=n.reduce((r,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const h={};return $n(l.outlets,(y,w)=>{h[w]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===u?(l.split("/").forEach((h,y)=>{0==y&&"."===h||(0==y&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,l]},[]);return new Hu(t,e,i)}(t);return l.toRoot()?Ws(e.root,e.root,new Lt([],{}),i,r):function u(y){const w=function Vi(n,e,t,i){if(n.isAbsolute)return new Wr(e.root,!0,0);if(-1===i)return new Wr(t,t===e.root,0);return function Uo(n,e,t){let i=n,r=e,l=t;for(;l>r;){if(l-=r,i=i.parent,!i)throw new m.vHH(4005,zu&&"Invalid number of '../'");r=i.segments.length}return new Wr(i,!1,r-l)}(t,i+(Tl(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,y),D=w.processChildren?Bo(w.segmentGroup,w.index,l.commands):ka(w.segmentGroup,w.index,l.commands);return Ws(e.root,w.segmentGroup,D,i,r)}(n.snapshot?._lastPathIndex)}function Tl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Oa(n){return"object"==typeof n&&null!=n&&n.outlets}function Ws(n,e,t,i,r){let u,l={};i&&$n(i,(y,w)=>{l[w]=Array.isArray(y)?y.map(D=>`${D}`):`${y}`}),u=n===e?t:Al(n,e,t);const h=Bu(Ec(u));return new Lo(h,l,r)}function Al(n,e,t){const i={};return $n(n.children,(r,l)=>{i[l]=r===e?t:Al(r,e,t)}),new Lt(n.segments,i)}class Hu{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Tl(i[0]))throw new m.vHH(4003,zu&&"Root segment cannot have matrix parameters");const r=i.find(Oa);if(r&&r!==_c(i))throw new m.vHH(4004,zu&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wr{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ka(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Bo(n,e,t);const i=function ju(n,e,t){let i=0,r=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return l;const u=n.segments[r],h=t[i];if(Oa(h))break;const y=`${h}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!ys(y,w,u))return l;i+=2}else{if(!ys(y,{},u))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Lt(n.segments.slice(0,i.pathIndex),{});return l.children[Ot]=new Lt(n.segments.slice(i.pathIndex),n.children),Bo(l,0,r)}return i.match&&0===r.length?new Lt(n.segments,{}):i.match&&!n.hasChildren()?ch(n,e,t):i.match?Bo(n,0,r):ch(n,e,t)}function Bo(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const i=function Vu(n){return Oa(n[0])?n[0].outlets:{[Ot]:n}}(t),r={};return!i[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length?Bo(n.children[Ot],e,t):($n(i,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[u]=ka(n.children[u],e,l))}),$n(n.children,(l,u)=>{void 0===i[u]&&(r[u]=l)}),new Lt(n.segments,r))}}function ch(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const l=t[r];if(Oa(l)){const y=kf(l.outlets);return new Lt(i,y)}if(0===r&&Tl(t[0])){i.push(new Ma(n.segments[e].path,Nf(t[0]))),r++;continue}const u=Oa(l)?l.outlets[Ot]:`${l}`,h=r<t.length-1?t[r+1]:null;u&&h&&Tl(h)?(i.push(new Ma(u,Nf(h))),r+=2):(i.push(new Ma(u,{})),r++)}return new Lt(i,{})}function kf(n){const e={};return $n(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=ch(new Lt([],{}),0,t))}),e}function Nf(n){const e={};return $n(n,(t,i)=>e[i]=`${t}`),e}function ys(n,e,t){return n==t.path&&gs(e,t.parameters)}const Na="imperative";class dr{constructor(e,t){this.id=e,this.url=t}}class Dc extends dr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ar extends dr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sc extends dr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ui extends dr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class $u extends dr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uh extends dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dh extends dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gs extends dr{constructor(e,t,i,r,l){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ml extends dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tc extends dr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wu{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gu{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ff{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class La{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uf{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let g=(()=>{class n{createUrlTree(t,i,r,l,u,h){return Yg(t||i.root,r,l,u,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(e){return g.\u0275fac(e)},providedIn:"root"}),n})();class O{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=K(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=K(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ae(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ae(e,this._root).map(t=>t.value)}}function K(n,e){if(n===e.value)return e;for(const t of e.children){const i=K(n,t);if(i)return i}return null}function ae(n,e){if(n===e.value)return[e];for(const t of e.children){const i=ae(n,t);if(i.length)return i.unshift(e),i}return[]}class Oe{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ke(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bt extends O{constructor(e,t){super(e),this.snapshot=t,zo(this,e)}toString(){return this.snapshot.toString()}}function pt(n,e){const t=function Wn(n,e){const u=new Zs([],{},{},"",{},Ot,e,null,n.root,-1,{});return new Gr("",new Oe(u,[]))}(n,e),i=new Yi([new Ma("",{})]),r=new Yi({}),l=new Yi({}),u=new Yi({}),h=new Yi(""),y=new Si(i,r,u,h,l,Ot,e,t.root);return y.snapshot=t.root,new bt(new Oe(y,[]),t)}class Si{constructor(e,t,i,r,l,u,h,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,G.U)(w=>w[$s]))??ot(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,G.U)(e=>Oo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,G.U)(e=>Oo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ac(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],l=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function Bf(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Zs{get title(){return this.data?.[$s]}constructor(e,t,i,r,l,u,h,y,w,D,A){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=h,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=D,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gr extends O{constructor(e,t){super(t),this.url=e,zo(this,t)}toString(){return Mc(this._root)}}function zo(n,e){e.value._routerState=n,e.children.forEach(t=>zo(n,t))}function Mc(n){const e=n.children.length>0?` { ${n.children.map(Mc).join(", ")} } `:"";return`${n.value}${e}`}function Pc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gs(e.params,t.params)||n.params.next(t.params),function th(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xc(n,e){const t=gs(n.params,e.params)&&function jg(n,e){return ur(n,e)&&n.every((t,i)=>gs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xc(n.parent,e.parent))}function Rc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Y_(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Rc(n,i,r);return Rc(n,i)})}(n,e,t);return new Oe(i,r)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Rc(n,h)),u}}const i=function Oc(n){return new Si(new Yi(n.url),new Yi(n.params),new Yi(n.queryParams),new Yi(n.fragment),new Yi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(l=>Rc(n,l));return new Oe(i,r)}}const kc="ngNavigationCancelingError";function EE(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Tr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=CE(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function CE(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[kc]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Xg(n){return Q_(n)&&Tr(n.url)}function Q_(n){return n&&n[kc]}class IE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hh,this.attachRef=null}}let hh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new IE,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hf=!1;let Vf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.parentContexts=(0,m.f3M)(hh),this.location=(0,m.f3M)(m.s_b),this.changeDetector=(0,m.f3M)(m.sBO),this.environmentInjector=(0,m.f3M)(m.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,Hf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,Hf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,Hf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new m.vHH(4013,Hf);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,y=new jf(t,h,r.injector);if(i&&function X_(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,y)}else this.activated=r.createComponent(u,{index:r.length,injector:y,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=m.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.TTD]}),n})();class jf{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Si?this.route:e===hh?this.childContexts:this.parent.get(e,t)}}let fh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(t,i){1&t&&m._UZ(0,"router-outlet")},dependencies:[Vf],encapsulation:2}),n})();function J_(n,e){return n.providers&&!n._injector&&(n._injector=(0,m.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jg(n){const e=n.children&&n.children.map(Jg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=fh),t}function Zr(n){return n.outlet||Ot}function ME(n,e){const t=n.filter(i=>Zr(i)===e);return t.push(...n.filter(i=>Zr(i)!==e)),t}function Wf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class em{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Pc(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ke(t);e.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,r[u],i),delete r[u]}),$n(r,(l,u)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(e,t,i){const r=e.value,l=t?t.value:null;if(r===l)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else l&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,l=Ke(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,l=Ke(e);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ke(t);e.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new Qg(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Ff(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,l=t?t.value:null;if(Pc(r),r===l)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Pc(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=Wf(r.snapshot),y=h?.get(m._Vd)??null;u.attachRef=null,u.route=r,u.resolver=y,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class tm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gh{constructor(e,t){this.component=e,this.route=t}}function tv(n,e,t){const i=n._root;return qu(i,e?e._root:null,t,[i.value])}function Zu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,m.Z0I)(n)?e.get(n):n:i}function qu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=Ke(e);return n.children.forEach(u=>{(function nv(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const y=function nm(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ur(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ur(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xc(n,e)||!gs(n.queryParams,e.queryParams);default:return!xc(n,e)}}(u,l,l.routeConfig.runGuardsAndResolvers);y?r.canActivateChecks.push(new tm(i)):(l.data=u.data,l._resolvedData=u._resolvedData),qu(n,e,l.component?h?h.children:null:t,i,r),y&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new gh(h.outlet.component,u))}else u&&Gf(e,h,r),r.canActivateChecks.push(new tm(i)),qu(n,null,l.component?h?h.children:null:t,i,r)})(u,l[u.value.outlet],t,i.concat([u.value]),r),delete l[u.value.outlet]}),$n(l,(u,h)=>Gf(u,t.getContext(h),r)),r}function Gf(n,e,t){const i=Ke(n),r=n.value;$n(i,(l,u)=>{Gf(l,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new gh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Nc(n){return"function"==typeof n}function rm(n){return n instanceof us||"EmptyError"===n?.name}const Ku=Symbol("INITIAL_VALUE");function Fa(){return _n(n=>Ii(n.map(e=>e.pipe(Ou(1),function q_(...n){const e=(0,Ci.yG)(n);return(0,Di.e)((t,i)=>{(e?Ui(n,t,e):Ui(n,t)).subscribe(i)})}(Ku)))).pipe((0,G.U)(e=>{for(const t of e)if(!0!==t){if(t===Ku)return Ku;if(!1===t||t instanceof Lo)return t}return!0}),cr(e=>e!==Ku),Ou(1)))}function lv(n){return(0,Ef.z)((0,ci.b)(e=>{if(Tr(e))throw EE(0,e)}),(0,G.U)(e=>!0===e))}const am={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lm(n,e,t,i,r){const l=cm(n,e,t);return l.matched?function om(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ot(r.map(u=>{const h=Zu(u,n);return wn(function RE(n){return n&&Nc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Fa(),lv()):ot(!0)}(i=J_(e,i),e,t).pipe((0,G.U)(u=>!0===u?l:{...am})):ot(l)}function cm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...am}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Hg)(t,n,e);if(!r)return{...am};const l={};$n(r.posParams,(h,y)=>{l[y]=h.path});const u=r.consumed.length>0?{...l,...r.consumed[r.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function mh(n,e,t,i){if(t.length>0&&function yh(n,e,t){return t.some(i=>Ua(n,e,i)&&Zr(i)!==Ot)}(n,t,i)){const l=new Lt(e,function FE(n,e,t,i){const r={};r[Ot]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Zr(l)!==Ot){const u=new Lt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Zr(l)]=u}return r}(n,e,i,new Lt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function UE(n,e,t){return t.some(i=>Ua(n,e,i))}(n,t,i)){const l=new Lt(n.segments,function GT(n,e,t,i,r){const l={};for(const u of i)if(Ua(n,t,u)&&!r[Zr(u)]){const h=new Lt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,l[Zr(u)]=h}return{...r,...l}}(n,e,t,i,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const r=new Lt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Ua(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Qu(n,e,t,i){return!!(Zr(n)===i||i!==Ot&&Ua(e,t,n))&&("**"===n.path||cm(e,n,t).matched)}function cv(n,e,t){return 0===e.length&&!n.children[t]}const _h=!1;class qf{constructor(e){this.segmentGroup=e||null}}class uv{constructor(e){this.urlTree=e}}function vh(n){return Dl(new qf(n))}function um(n){return Dl(new uv(n))}class BE{constructor(e,t,i,r,l){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0}apply(){const e=mh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,G.U)(l=>this.createUrlTree(Ec(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ps(l=>{if(l instanceof uv)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof qf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,G.U)(r=>this.createUrlTree(Ec(r),e.queryParams,e.fragment))).pipe(ps(r=>{throw r instanceof qf?this.noMatchError(r):r}))}noMatchError(e){return new m.vHH(4002,_h)}createUrlTree(e,t,i){const r=Bu(e);return new Lo(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,G.U)(l=>new Lt([],l))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,bn.D)(r).pipe(fs(l=>{const u=i.children[l],h=ME(t,l);return this.expandSegmentGroup(e,h,u,l).pipe((0,G.U)(y=>({segment:y,outlet:l})))}),yc((l,u)=>(l[u.outlet]=u.segment,l),{}),Sr())}expandSegment(e,t,i,r,l,u){return(0,bn.D)(i).pipe(fs(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,l,u).pipe(ps(w=>{if(w instanceof qf)return ot(null);throw w}))),Ro(h=>!!h),ps((h,y)=>{if(rm(h))return cv(t,r,l)?ot(new Lt([],{})):vh(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,l,u,h){return Qu(r,t,l,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,l,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u):vh(t):vh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?um(l):this.lineralizeSegments(i,l).pipe((0,zi.z)(u=>{const h=new Lt(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,l,u){const{matched:h,consumedSegments:y,remainingSegments:w,positionalParamSegments:D}=cm(t,r,l);if(!h)return vh(t);const A=this.applyRedirectCommands(y,r.redirectTo,D);return r.redirectTo.startsWith("/")?um(A):this.lineralizeSegments(r,A).pipe((0,zi.z)(R=>this.expandSegment(e,t,i,R.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,l){return"**"===i.path?(e=J_(i,e),i.loadChildren?(i._loadedRoutes?ot({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,G.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Lt(r,{})))):ot(new Lt(r,{}))):lm(t,i,r,e).pipe(_n(({matched:u,consumedSegments:h,remainingSegments:y})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,zi.z)(D=>{const A=D.injector??e,R=D.routes,{segmentGroup:k,slicedSegments:N}=mh(t,h,y,R),Y=new Lt(k.segments,k.children);if(0===N.length&&Y.hasChildren())return this.expandChildren(A,R,Y).pipe((0,G.U)(tt=>new Lt(h,tt)));if(0===R.length&&0===N.length)return ot(new Lt(h,{}));const se=Zr(i)===l;return this.expandSegment(A,Y,R,N,se?Ot:l,!0).pipe((0,G.U)(Re=>new Lt(h.concat(Re.segments),Re.children)))})):vh(t)))}getChildConfig(e,t,i){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function LE(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ot(!0):ot(r.map(u=>{const h=Zu(u,n);return wn(function im(n){return n&&Nc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Fa(),lv())}(e,t,i).pipe((0,zi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ci.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function dm(n){return Dl(CE(_h,3))}())):ot({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[Ot])return e.redirectTo,Dl(new m.vHH(4e3,_h));r=r.children[Ot]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const l=this.createSegmentGroup(e,t.root,i,r);return new Lo(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return $n(e,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[l]=t[h]}else i[l]=r}),i}createSegmentGroup(e,t,i,r){const l=this.createSegments(e,t.segments,i,r);let u={};return $n(t.children,(h,y)=>{u[y]=this.createSegmentGroup(e,h,i,r)}),new Lt(l,u)}createSegments(e,t,i,r){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,r):this.findOrReturn(l,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new m.vHH(4001,_h);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class zE{}class jE{constructor(e,t,i,r,l,u,h){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=l,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const e=mh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,G.U)(t=>{if(null===t)return null;const i=new Zs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Oe(i,t),l=new Gr(this.url,r);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,i=Ac(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,bn.D)(Object.keys(i.children)).pipe(fs(r=>{const l=i.children[r],u=ME(t,r);return this.processSegmentGroup(e,u,l,r)}),yc((r,l)=>r&&l?(r.push(...l),r):null),function Ug(n,e=!1){return(0,Di.e)((t,i)=>{let r=0;t.subscribe((0,at.x)(i,l=>{const u=n(l,r++);(u||e)&&i.next(l),!u&&i.complete()}))})}(r=>null!==r),Jd(null),Sr(),(0,G.U)(r=>{if(null===r)return null;const l=Uc(r);return function $E(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,i,r,l){return(0,bn.D)(t).pipe(fs(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,l)),Ro(u=>!!u),ps(u=>{if(rm(u))return cv(i,r,l)?ot([]):ot(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,l){if(t.redirectTo||!Qu(t,i,r,l))return ot(null);let u;if("**"===t.path){const h=r.length>0?_c(r).parameters:{},y=pv(i)+r.length;u=ot({snapshot:new Zs(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GE(t),Zr(t),t.component??t._loadedComponent??null,t,fv(i),y,pm(t)),consumedSegments:[],remainingSegments:[]})}else u=lm(i,t,r,e).pipe((0,G.U)(({matched:h,consumedSegments:y,remainingSegments:w,parameters:D})=>{if(!h)return null;const A=pv(i)+y.length;return{snapshot:new Zs(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GE(t),Zr(t),t.component??t._loadedComponent??null,t,fv(i),A,pm(t)),consumedSegments:y,remainingSegments:w}}));return u.pipe(_n(h=>{if(null===h)return ot(null);const{snapshot:y,consumedSegments:w,remainingSegments:D}=h;e=t._injector??e;const A=t._loadedInjector??e,R=function hv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:N}=mh(i,w,D,R.filter(se=>void 0===se.redirectTo));if(0===N.length&&k.hasChildren())return this.processChildren(A,R,k).pipe((0,G.U)(se=>null===se?null:[new Oe(y,se)]));if(0===R.length&&0===N.length)return ot([new Oe(y,[])]);const Y=Zr(t)===l;return this.processSegment(A,R,k,N,Y?Ot:l).pipe((0,G.U)(se=>null===se?null:[new Oe(y,se)]))}))}}function WE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Uc(n){const e=[],t=new Set;for(const i of n){if(!WE(i)){e.push(i);continue}const r=e.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Uc(i.children);e.push(new Oe(i.value,r))}return e.filter(i=>!t.has(i))}function fv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pv(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function GE(n){return n.data||{}}function pm(n){return n.resolve||{}}function _v(n){return"string"==typeof n.title||null===n.title}function qr(n){return _n(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,G.U)(()=>e)):ot(e)})}const Ju=new m.OlP("ROUTES");let mm=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=wn(t.loadComponent()).pipe((0,G.U)(vv),(0,ci.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),eh(()=>{this.componentLoaders.delete(t)})),r=new Cf(i,()=>new Bn.x).pipe(Ru());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,G.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let y,w,D=!1;Array.isArray(h)?w=h:(y=h.create(t).injector,w=Hi(y.get(Ju,[],m.XFs.Self|m.XFs.Optional)));return{routes:w.map(Jg),injector:y}}),eh(()=>{this.childrenLoaders.delete(i)})),u=new Cf(l,()=>new Bn.x).pipe(Ru());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return wn(t()).pipe((0,G.U)(vv),(0,zi.z)(r=>r instanceof m.YKP||Array.isArray(r)?ot(r):(0,bn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.zs3),m.LFG(m.Sil))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vv(n){return function YE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Kf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Bn.x,this.configLoader=(0,m.f3M)(mm),this.environmentInjector=(0,m.f3M)(m.lqb),this.urlSerializer=(0,m.f3M)(vc),this.rootContexts=(0,m.f3M)(hh),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Lf(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Wu(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Yi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Na,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(cr(i=>0!==i.id),(0,G.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),_n(i=>{let r=!1,l=!1;return ot(i).pipe((0,ci.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(u=>{const h=t.browserUrlTree.toString(),y=!t.navigated||u.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!y&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new ui(u.id,t.serializeUrl(i.rawUrl),D,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),hs.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return bv(u.source)&&(t.browserUrlTree=u.extractedUrl),ot(u).pipe(_n(D=>{const A=this.transitions?.getValue();return this.events.next(new Dc(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),A!==this.transitions?.getValue()?hs.E:Promise.resolve(D)}),function fm(n,e,t,i){return _n(r=>function hm(n,e,t,i,r){return new BE(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,G.U)(l=>({...r,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ci.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function ZT(n,e,t,i,r){return(0,zi.z)(l=>function VE(n,e,t,i,r,l,u="emptyOnly"){return new jE(n,e,t,i,r,u,l).recognize().pipe(_n(h=>null===h?function HE(n){return new Fi.y(e=>e.error(n))}(new zE):ot(h)))}(n,e,t,l.urlAfterRedirects,i.serialize(l.urlAfterRedirects),i,r).pipe((0,G.U)(u=>({...l,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ci.b)(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const R=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(R,D)}t.browserUrlTree=D.urlAfterRedirects}const A=new uh(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(A)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:A,source:R,restoredState:k,extras:N}=u,Y=new Dc(D,this.urlSerializer.serialize(A),R,k);this.events.next(Y);const se=pt(A,this.rootComponentType).snapshot;return ot(i={...u,targetSnapshot:se,urlAfterRedirects:A,extras:{...N,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new ui(u.id,t.serializeUrl(i.extractedUrl),D,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),hs.E}}),(0,ci.b)(u=>{const h=new dh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,G.U)(u=>i={...u,guards:tv(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Fc(n,e){return(0,zi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:u}}=t;return 0===u.length&&0===l.length?ot({...t,guardsResult:!0}):function ov(n,e,t,i){return(0,bn.D)(n).pipe((0,zi.z)(r=>function NE(n,e,t,i,r){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?ot(l.map(h=>{const y=Wf(e)??r,w=Zu(h,y);return wn(function Lc(n){return n&&Nc(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,i):y.runInContext(()=>w(n,e,t,i))).pipe(Ro())})).pipe(Fa()):ot(!0)}(r.component,r.route,t,e,i)),Ro(r=>!0!==r,!0))}(u,i,r,n).pipe((0,zi.z)(h=>h&&function xE(n){return"boolean"==typeof n}(h)?function sm(n,e,t,i){return(0,bn.D)(e).pipe(fs(r=>Ui(function kE(n,e){return null!==n&&e&&e(new Gu(n)),ot(!0)}(r.route.parent,i),function OE(n,e){return null!==n&&e&&e(new La(n)),ot(!0)}(r.route,i),function Yu(n,e,t){const i=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(u=>function PE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ds(()=>ot(u.guards.map(y=>{const w=Wf(u.node)??t,D=Zu(y,w);return wn(function rv(n){return n&&Nc(n.canActivateChild)}(D)?D.canActivateChild(i,n):w.runInContext(()=>D(i,n))).pipe(Ro())})).pipe(Fa())));return ot(l).pipe(Fa())}(n,r.path,t),function av(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(l=>ds(()=>{const u=Wf(e)??t,h=Zu(l,u);return wn(function iv(n){return n&&Nc(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(Ro())}));return ot(r).pipe(Fa())}(n,r.route,t))),Ro(r=>!0!==r,!0))}(i,l,n,e):ot(h)),(0,G.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,ci.b)(u=>{if(i.guardsResult=u.guardsResult,Tr(u.guardsResult))throw EE(0,u.guardsResult);const h=new Gs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),cr(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),qr(u=>{if(u.guards.canActivateChecks.length)return ot(u).pipe((0,ci.b)(h=>{const y=new Ml(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),_n(h=>{let y=!1;return ot(h).pipe(function gv(n,e){return(0,zi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ot(t);let l=0;return(0,bn.D)(r).pipe(fs(u=>function mv(n,e,t,i){const r=n.routeConfig,l=n._resolve;return void 0!==r?.title&&!_v(r)&&(l[$s]=r.title),function ZE(n,e,t,i){const r=function yv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ot({});const l={};return(0,bn.D)(r).pipe((0,zi.z)(u=>function qE(n,e,t,i){const r=Wf(e)??i,l=Zu(n,r);return wn(l.resolve?l.resolve(e,t):r.runInContext(()=>l(e,t)))}(n[u],e,t,i).pipe(Ro(),(0,ci.b)(h=>{l[u]=h}))),ku(1),function Bg(n){return(0,G.U)(()=>n)}(l),ps(u=>rm(u)?hs.E:Dl(u)))}(l,n,e,i).pipe((0,G.U)(u=>(n._resolvedData=u,n.data=Ac(n,t).resolve,r&&_v(r)&&(n.data[$s]=r.title),null)))}(u.route,i,n,e)),(0,ci.b)(()=>l++),ku(1),(0,zi.z)(u=>l===r.length?ot(t):hs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ci.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,ci.b)(h=>{const y=new Tc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),qr(u=>{const h=y=>{const w=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,ci.b)(D=>{y.component=D}),(0,G.U)(()=>{})));for(const D of y.children)w.push(...h(D));return w};return Ii(h(u.targetSnapshot.root)).pipe(Jd(),Ou(1))}),qr(()=>this.afterPreactivation()),(0,G.U)(u=>{const h=function zf(n,e,t){const i=Rc(n,e._root,t?t._root:void 0);return new bt(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,ci.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t)=>(0,G.U)(i=>(new em(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u)),(0,ci.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ar(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),eh(()=>{r||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ps(u=>{if(l=!0,Q_(u)){Xg(u)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new Sc(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),Xg(u)){const y=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),w={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||bv(i.source)};t.scheduleNavigation(y,Na,null,w,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new $u(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(u))}catch(y){i.reject(y)}}return hs.E}))}))}cancelNavigationTransition(t,i,r){const l=new Sc(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bv(n){return n!==Na}let wv=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(l=>l.outlet===Ot);return i}getResolvedTitleForRoute(t){return t.data[$s]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(Ft)},providedIn:"root"}),n})(),Ft=(()=>{class n extends wv{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Zd))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ev=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(Iv)},providedIn:"root"}),n})();class Cv{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Iv=(()=>{class n extends Cv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=m.n5z(n)))(i||n)}}(),n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yf=new m.OlP("",{providedIn:"root",factory:()=>({})});let Dv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:function(){return(0,m.f3M)(XE)},providedIn:"root"}),n})(),XE=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function JE(n){throw n}function eC(n,e,t){return e.parse("/")}const qT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,m.f3M)(m.c2e),this.isNgZoneEnabled=!1,this.options=(0,m.f3M)(Yf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||JE,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,m.f3M)(Dv),this.routeReuseStrategy=(0,m.f3M)(Ev),this.urlCreationStrategy=(0,m.f3M)(M),this.titleStrategy=(0,m.f3M)(wv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Hi((0,m.f3M)(Ju,{optional:!0})??[]),this.navigationTransitions=(0,m.f3M)(Kf),this.urlSerializer=(0,m.f3M)(vc),this.location=(0,m.f3M)(Ne),this.isNgZoneEnabled=(0,m.f3M)(m.R0b)instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Lo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pt(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Na,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const l={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const y={...r};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,u,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Jg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:l,fragment:u,queryParamsHandling:h,preserveFragment:y}=i,w=y?this.currentUrlTree.fragment:u;let D=null;switch(h){case"merge":D={...this.currentUrlTree.queryParams,...l};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=l||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,D,w??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Tr(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,Na,null,i)}navigate(t,i={skipLocationChange:!1}){return function Bc(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new m.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...qT}:!1===i?{...Sv}:i,Tr(t))return ih(this.currentUrlTree,t,r);const l=this.parseUrl(t);return ih(this.currentUrlTree,l,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const l=t[r];return null!=l&&(i[r]=l),i},{})}scheduleNavigation(t,i,r,l,u){if(this.disposed)return Promise.resolve(!1);let h,y,w,D;return u?(h=u.resolve,y=u.reject,w=u.promise):w=new Promise((A,R)=>{h=A,y=R}),D="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:h,reject:y,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(A=>Promise.reject(A))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),l={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tv{}let KT=(()=>{class n{constructor(t,i,r,l,u){this.router=t,this.injector=r,this.preloadingStrategy=l,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(cr(t=>t instanceof Ar),fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,m.MMx)(l.providers,t,`Route: ${l.path}`));const u=l._injector??t,h=l._loadedInjector??u;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?r.push(this.preloadConfig(u,l)):(l.children||l._loadedRoutes)&&r.push(this.processRoutes(h,l.children??l._loadedRoutes))}return(0,bn.D)(r).pipe((0,js.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ot(null);const l=r.pipe((0,zi.z)(u=>null===u?ot(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,bn.D)([l,u]).pipe((0,js.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(hr),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Tv),m.LFG(mm))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bm=new m.OlP("");let wm=(()=>{class n{constructor(t,i,r,l,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=l,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Dc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ar&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Uf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Uf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){m.$Z()},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();var _s=(()=>((_s=_s||{})[_s.COMPLETE=0]="COMPLETE",_s[_s.FAILED=1]="FAILED",_s[_s.REDIRECTING=2]="REDIRECTING",_s))();const qs=!1;function Ks(n,e){return{\u0275kind:n,\u0275providers:e}}const Cm=new m.OlP("",{providedIn:"root",factory:()=>!1});function Mv(){const n=(0,m.f3M)(m.zs3);return e=>{const t=n.get(m.z2F);if(e!==t.components[0])return;const i=n.get(hr),r=n.get(Pv);1===n.get(Im)&&i.initialNavigation(),n.get(Dm,null,m.XFs.Optional)?.setUpPreloading(),n.get(bm,null,m.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Pv=new m.OlP(qs?"bootstrap done indicator":"",{factory:()=>new Bn.x}),Im=new m.OlP(qs?"initial navigation":"",{providedIn:"root",factory:()=>1});function Rv(){let n=[];return n=qs?[{provide:m.Xts,multi:!0,useFactory:()=>{const e=(0,m.f3M)(hr);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function _(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ks(1,n)}const Dm=new m.OlP(qs?"router preloader":"");function Sm(n){return Ks(0,[{provide:Dm,useExisting:KT},{provide:Tv,useExisting:n}])}const Xf=!1,Tm=new m.OlP(Xf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),iC=[Ne,{provide:vc,useClass:Pa},hr,hh,{provide:Si,useFactory:function Em(n){return n.routerState.root},deps:[hr]},mm,Xf?{provide:Cm,useValue:!0}:[]];function kv(){return new m.PXZ("Router",hr)}let Nv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[iC,Xf&&i?.enableTracing?Rv().\u0275providers:[],{provide:Ju,multi:!0,useValue:t},{provide:Tm,useFactory:Am,deps:[[hr,new m.FiY,new m.tp0]]},{provide:Yf,useValue:i||{}},i?.useHash?{provide:nt,useClass:Se}:{provide:nt,useClass:De},{provide:bm,useFactory:()=>{const n=(0,m.f3M)(ho),e=(0,m.f3M)(m.R0b),t=(0,m.f3M)(Yf),i=(0,m.f3M)(Kf),r=(0,m.f3M)(vc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wm(r,i,n,e,t)}},i?.preloadingStrategy?Sm(i.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:kv},i?.initialNavigation?Eh(i):[],[{provide:ep,useFactory:Mv},{provide:m.tb,multi:!0,useExisting:ep}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ju,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Tm,8))},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[fh]}),n})();function Am(n){if(Xf&&n)throw new m.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Eh(n){return["disabled"===n.initialNavigation?Ks(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const e=(0,m.f3M)(hr);return()=>{e.setUpLocationChangeListener()}}},{provide:Im,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ks(2,[{provide:Im,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:e=>{const t=e.get(le,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(hr),l=e.get(Pv);(function tC(n,e){n.events.pipe(cr(t=>t instanceof Ar||t instanceof Sc||t instanceof $u||t instanceof ui),(0,G.U)(t=>t instanceof Ar||t instanceof ui?_s.COMPLETE:t instanceof Sc&&(0===t.code||1===t.code)?_s.REDIRECTING:_s.FAILED),cr(t=>t!==_s.REDIRECTING),Ou(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(Kf).afterPreactivation=()=>(i(!0),l.closed?ot(void 0):l),r.initialNavigation()}))}}]).\u0275providers:[]]}const ep=new m.OlP(Xf?"Router Initializer":"");var we=F(5861);class Mm{constructor(){this._listeners=new Map}addEventListener(e,t){var i;this.removeEventListener(e,t),this._listeners.get(e)||this._listeners.set(e,[]),null===(i=this._listeners.get(e))||void 0===i||i.push(t)}dispatchEvent(e,t){var i;null===(i=this._listeners.get(e))||void 0===i||i.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,l=i.indexOf(t);l<0||(1===r?this._listeners.delete(e):i.splice(l,1))}}class fr{constructor(e,t,i){if("number"!=typeof e&&e)this.x=e.x,this.y=e.y,this.z=e.z?e.z:0;else{if(void 0===e||void 0===t)throw new Error("tsParticles - Vector3d not initialized correctly");this.x=e,this.y=t,this.z=i??0}}static get origin(){return fr.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}static clone(e){return fr.create(e.x,e.y,e.z)}static create(e,t,i){return new fr(e,t,i)}add(e){return fr.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return fr.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return fr.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return fr.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}rotate(e){return fr.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y,this.z=e.z?e.z:0}sub(e){return fr.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}updateFromAngle(e,t){this.x=Math.cos(e)*t,this.y=Math.sin(e)*t}}class cn extends fr{constructor(e,t){super(e,t,0)}static get origin(){return cn.create(0,0)}static clone(e){return cn.create(e.x,e.y)}static create(e,t){return new cn(e,t)}}let np=Math.random;const Pm=new Map;function xm(n){return Pm.get(n)||(e=>e)}function Ut(){return vs(np(),0,1-1e-16)}function vs(n,e,t){return Math.min(Math.max(n,e),t)}function Rm(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function di(n){const e=Ho(n);let t=td(n);return e===t&&(t=0),Ut()*(e-t)+t}function He(n){return"number"==typeof n?n:di(n)}function td(n){return"number"==typeof n?n:n.min}function Ho(n){return"number"==typeof n?n:n.max}function It(n,e){if(n===e||void 0===e&&"number"==typeof n)return n;const t=td(n),i=Ho(n);return void 0!==e?{min:Math.min(t,e),max:Math.max(i,e)}:It(t,i)}function Ys(n){const e=n.random,{enable:t,minimumValue:i}="boolean"==typeof e?{enable:e,minimumValue:0}:e;return He(t?It(n.value,i):n.value)}function Qi(n,e){const t=n.x-e.x,i=n.y-e.y;return{dx:t,dy:i,distance:Math.sqrt(t**2+i**2)}}function hi(n,e){return Qi(n,e).distance}function Om(n,e,t,i){return cn.create(n.x*(t-i)/(t+i)+2*e.x*i/(t+i),n.y)}function Lv(n){var e,t,i,r;return{x:(null!==(t=null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==t?t:100*Ut())*n.size.width/100,y:(null!==(r=null===(i=n.position)||void 0===i?void 0:i.y)&&void 0!==r?r:100*Ut())*n.size.height/100}}function ip(n){var e,t;const i={x:void 0!==(null===(e=n.position)||void 0===e?void 0:e.x)?He(n.position.x):void 0,y:void 0!==(null===(t=n.position)||void 0===t?void 0:t.y)?He(n.position.y):void 0};return Lv({size:n.size,position:i})}function Uv(n){return n?n.endsWith("%")?parseFloat(n)/100:parseFloat(n):1}function Bv(n,e,t,i,r,l){const u={bounced:!1};return e.min<i.min||e.min>i.max||e.max<i.min||e.max>i.max||(n.max>=t.min&&n.max<=(t.max+t.min)/2&&r>0||n.min<=t.max&&n.min>(t.max+t.min)/2&&r<0)&&(u.velocity=r*-l,u.bounced=!0),u}function Xi(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function zv(n){if(function km(){return!Xi()&&typeof matchMedia<"u"}())return matchMedia(n)}function En(n,e){return n===e||e instanceof Array&&e.indexOf(n)>-1}function Nm(){return(Nm=(0,we.Z)(function*(n,e){try{yield document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}})).apply(this,arguments)}function rp(n){return Math.floor(Ut()*n.length)}function Ch(n,e,t=!0){return n[void 0!==e&&t?e%n.length:rp(n)]}function Ih(n,e,t,i,r){return function sp(n,e,t,i){let r=!0;return(!i||"bottom"===i)&&(r=n.top<e.height+t.x),r&&(!i||"left"===i)&&(r=n.right>t.x),r&&(!i||"right"===i)&&(r=n.left<e.width+t.y),r&&(!i||"top"===i)&&(r=n.bottom>t.y),r}(zc(n,i??0),e,t,r)}function zc(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function Tn(n,...e){for(const t of e){if(null==t)continue;if("object"!=typeof t){n=t;continue}const i=Array.isArray(t);!i||"object"==typeof n&&n&&Array.isArray(n)?!i&&("object"!=typeof n||!n||Array.isArray(n))&&(n={}):n=[];for(const r in t){if("__proto__"===r)continue;const u=t[r],y=n;y[r]="object"==typeof u&&Array.isArray(u)?u.map(w=>Tn(y[r],w)):Tn(y[r],u)}}return n}function Vv(n,e){return!!Sh(e,t=>t.enable&&En(n,t.mode))}function Dh(n,e,t){un(e,i=>{i.enable&&En(n,i.mode)&&function iA(n,e){un(n.selectors,i=>{e(i,n)})}(i,t)})}function Lm(n,e){if(e&&n)return Sh(n,t=>function cC(n,e){const t=un(e,i=>n.matches(i));return t instanceof Array?t.some(i=>i):t}(e,t.selectors))}function op(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:cn.create(Ys(n.options.bounce.horizontal),Ys(n.options.bounce.vertical))}}function Fm(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,l]=[n.position,e.position],{dx:u,dy:h}=Qi(l,r);if(t*u+i*h<0)return;const y=-Math.atan2(h,u),w=n.mass,D=e.mass,A=n.velocity.rotate(y),R=e.velocity.rotate(y),k=Om(A,R,w,D),N=Om(R,A,w,D),Y=k.rotate(-y),se=N.rotate(-y);n.velocity.x=Y.x*n.factor.x,n.velocity.y=Y.y*n.factor.y,e.velocity.x=se.x*e.factor.x,e.velocity.y=se.y*e.factor.y}function jv(n,e){const r=zc(n.getPosition(),n.getRadius()),l=Bv({min:r.left,max:r.right},{min:r.top,max:r.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},n.velocity.x,Ys(n.options.bounce.horizontal));l.bounced&&(void 0!==l.velocity&&(n.velocity.x=l.velocity),void 0!==l.position&&(n.position.x=l.position));const u=Bv({min:r.top,max:r.bottom},{min:r.left,max:r.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},n.velocity.y,Ys(n.options.bounce.vertical));u.bounced&&(void 0!==u.velocity&&(n.velocity.y=u.velocity),void 0!==u.position&&(n.position.y=u.position))}function un(n,e){return n instanceof Array?n.map((t,i)=>e(t,i)):e(n,0)}function Jn(n,e,t){return n instanceof Array?Ch(n,e,t):n}function Sh(n,e){return n instanceof Array?n.find((t,i)=>e(t,i)):e(n,0)?n:void 0}const Hc="random",Pl="mid",ap=new Map;function Um(n){ap.set(n.key,n)}function lp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function bs(n,e,t=!0){if(!n)return;const i="string"==typeof n?{value:n}:n;if("string"==typeof i.value)return Vc(i.value,e,t);if(i.value instanceof Array)return bs({value:Ch(i.value,e,t)});for(const[,r]of ap){const l=r.handleRangeColor(i);if(l)return l}}function Vc(n,e,t=!0){if(!n)return;const i="string"==typeof n?{value:n}:n;if("string"==typeof i.value)return i.value===Hc?Wv():function hC(n){return function $v(n){for(const[,l]of ap)if(n.startsWith(l.stringPrefix))return l.parseString(n);const t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,(l,u,h,y,w)=>u+u+h+h+y+y+(void 0!==w?w+w:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(t);return r?{a:void 0!==r[4]?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}(n)}(i.value);if(i.value instanceof Array)return Vc({value:Ch(i.value,e,t)});for(const[,r]of ap){const l=r.handleColor(i);if(l)return l}}function jc(n,e,t=!0){const i=bs(n,e,t);return i?Bm(i):void 0}function Bm(n){const e=n.r/255,t=n.g/255,i=n.b/255,r=Math.max(e,t,i),l=Math.min(e,t,i),u={h:0,l:(r+l)/2,s:0};return r!==l&&(u.s=u.l<.5?(r-l)/(r+l):(r-l)/(2-r-l),u.h=e===r?(t-i)/(r-l):u.h=t===r?2+(i-e)/(r-l):4+(e-t)/(r-l)),u.l*=100,u.s*=100,u.h*=60,u.h<0&&(u.h+=360),u.h>=360&&(u.h-=360),u}function nd(n){const e={b:0,g:0,r:0},t={h:n.h/360,l:n.l/100,s:n.s/100};if(t.s){const i=t.l<.5?t.l*(1+t.s):t.l+t.s-t.l*t.s,r=2*t.l-i;e.r=lp(r,i,t.h+1/3),e.g=lp(r,i,t.h),e.b=lp(r,i,t.h-1/3)}else e.b=t.l,e.g=t.l,e.r=t.l;return e.r=Math.floor(255*e.r),e.g=Math.floor(255*e.g),e.b=Math.floor(255*e.b),e}function Wv(n){const e=n??0;return{b:Math.floor(di(It(e,256))),g:Math.floor(di(It(e,256))),r:Math.floor(di(It(e,256)))}}function Vo(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??1})`}function $c(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??1})`}function cp(n,e,t,i){let r=n,l=e;return void 0===r.r&&(r=nd(n)),void 0===l.r&&(l=nd(e)),{b:Rm(r.b,l.b,t,i),g:Rm(r.g,l.g,t,i),r:Rm(r.r,l.r,t,i)}}function zm(n,e,t){var i,r;if(t===Hc)return Wv();if(t!==Pl)return t;{const l=null!==(i=n.getFillColor())&&void 0!==i?i:n.getStrokeColor(),u=null!==(r=e?.getFillColor())&&void 0!==r?r:e?.getStrokeColor();if(l&&u&&e)return cp(l,u,n.getRadius(),e.getRadius());{const h=l??u;if(h)return nd(h)}}}function up(n,e,t){const i="string"==typeof n?n:n.value;return i===Hc?t?bs({value:i}):e?Hc:Pl:i===Pl?Pl:bs({value:i})}function Gv(n){return void 0!==n?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function Zv(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(Hm(i.h,e.h,t),Hm(i.s,e.s,t),Hm(i.l,e.l,t)),i}function Hm(n,e,t){n.enable=e.enable,n.enable?(n.velocity=He(e.speed)/100*t,n.decay=1-He(e.decay),n.status="increasing",n.loops=0,n.maxLoops=He(e.count),e.sync||(n.velocity*=Ut(),n.value*=Ut()),n.initialValue=n.value):n.velocity=0}function Th(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function dp(n,e){n.clearRect(0,0,e.width,e.height)}const fp="generated",Ah="touchend",za="pointermove",Gc="pointerleave";function Vm(n,e,t){var i;const r=e[t];void 0!==r&&(n[t]=(null!==(i=n[t])&&void 0!==i?i:1)*r)}class id{constructor(e){this.container=e,this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._mutationObserver=!Xi()&&typeof MutationObserver<"u"?new MutationObserver(t=>{for(const i of t)"attributes"===i.type&&"style"===i.attributeName&&this._repairStyle()}):void 0}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>0&&i?i.color?this._paintBase(Vo(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{dp(r,this.size)})}destroy(){var e,t;null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._generated?null===(t=this.element)||void 0===t||t.remove():this._resetOriginalStyle(),this.stop(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){if(this._context)return e(this._context)}drawParticle(e,t){var i;if(e.spawning||e.destroyed)return;const r=e.getRadius();if(r<=0)return;const l=e.getFillColor(),u=null!==(i=e.getStrokeColor())&&void 0!==i?i:l;let[h,y]=this._getPluginParticleColors(e);h||(h=l),y||(y=u),(h||y)&&this.draw(w=>{var D,A,R,k;const N=this.container.actualOptions,Y=e.options.zIndex,se=(1-e.zIndexFactor)**Y.opacityRate,ve=null!==(R=null!==(D=e.bubble.opacity)&&void 0!==D?D:null===(A=e.opacity)||void 0===A?void 0:A.value)&&void 0!==R?R:1,tt=ve*se,et=(null!==(k=e.strokeOpacity)&&void 0!==k?k:ve)*se,Yt={},Ht={fill:h?$c(h,tt):void 0};Ht.stroke=y?$c(y,et):Ht.fill,this._applyPreDrawUpdaters(w,e,r,tt,Ht,Yt),function qv(n){var e,t,i,r,l;const{container:u,context:h,particle:y,delta:w,colorStyles:D,backgroundMask:A,composite:R,radius:k,opacity:N,shadow:Y,transform:se}=n,ve=y.getPosition(),Re=y.rotation+(y.pathRotation?y.velocity.angle:0),tt_sin=Math.sin(Re),tt_cos=Math.cos(Re),et={a:tt_cos*(null!==(e=se.a)&&void 0!==e?e:1),b:tt_sin*(null!==(t=se.b)&&void 0!==t?t:1),c:-tt_sin*(null!==(i=se.c)&&void 0!==i?i:1),d:tt_cos*(null!==(r=se.d)&&void 0!==r?r:1)};h.setTransform(et.a,et.b,et.c,et.d,ve.x,ve.y),h.beginPath(),A&&(h.globalCompositeOperation=R);const Yt=y.shadowColor;Y.enable&&Yt&&(h.shadowBlur=Y.blur,h.shadowColor=Vo(Yt),h.shadowOffsetX=Y.offset.x,h.shadowOffsetY=Y.offset.y),D.fill&&(h.fillStyle=D.fill);const Ht=null!==(l=y.strokeWidth)&&void 0!==l?l:0;h.lineWidth=Ht,D.stroke&&(h.strokeStyle=D.stroke),function yC(n,e,t,i,r,l){if(!t.shape)return;const u=n.drawers.get(t.shape);u&&u.draw(e,t,i,r,l,n.retina.pixelRatio)}(u,h,y,k,N,w),Ht>0&&h.stroke(),y.close&&h.closePath(),y.fill&&h.fill(),function oA(n,e,t,i,r,l){if(!t.shape)return;const u=n.drawers.get(t.shape);u?.afterEffect&&u.afterEffect(e,t,i,r,l,n.retina.pixelRatio)}(u,h,y,k,N,w),h.globalCompositeOperation="source-over",h.setTransform(1,0,0,1,0,0)}({container:this.container,context:w,particle:e,delta:t,colorStyles:Ht,backgroundMask:N.backgroundMask.enable,composite:N.backgroundMask.composite,radius:r*(1-e.zIndexFactor)**Y.sizeRate,opacity:tt,shadow:e.options.shadow,transform:Yt}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>{!function hp(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}(r,e,t,i)})}drawPlugin(e,t){this.draw(i=>{!function Kv(n,e,t){e.draw&&e.draw(n,t)}(i,e,t)})}init(){var e=this;return(0,we.Z)(function*(){var t;e.resize(),e._initStyle(),e._initCover();try{yield e._initTrail()}catch(i){console.error(i)}e.initBackground(),e.element&&(null===(t=e._mutationObserver)||void 0===t||t.observe(e.element,{attributes:!0})),e.initUpdaters(),e.initPlugins(),e.paint()})()}initBackground(){const t=this.container.actualOptions.background,r=this.element?.style;if(r){if(t.color){const l=bs(t.color);r.backgroundColor=l?Vo(l,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){var t,i;this._generated&&(null===(t=this.element)||void 0===t||t.remove()),this._generated=e.dataset&&fp in e.dataset?"true"===e.dataset[fp]:this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Tn({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),null===(i=this._mutationObserver)||void 0===i||i.observe(this.element,{attributes:!0}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(dp(t,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return;const e=this.container,t=e.retina.pixelRatio,i=e.canvas.size,r_width=this.element.offsetWidth*t,r_height=this.element.offsetHeight*t;if(r_height===i.height&&r_width===i.width&&r_height===this.element.height&&r_width===this.element.width)return;const l=Object.assign({},i);this.element.width=i.width=this.element.offsetWidth*t,this.element.height=i.height=this.element.offsetHeight*t,this.container.started&&(this.resizeFactor={width:i.width/l.width,height:i.height/l.height})}stop(){this.draw(e=>{dp(e,this.size)})}windowResize(){var e=this;return(0,we.Z)(function*(){if(!e.element)return;e.resize();const t=e.container,i=t.updateActualOptions();t.particles.setDensity(),e._applyResizePlugins(),i&&(yield t.refresh())})()}_applyPostDrawUpdaters(e){var t;for(const i of this._postDrawUpdaters)null===(t=i.afterDraw)||void 0===t||t.call(i,e)}_applyPreDrawUpdaters(e,t,i,r,l,u){var h;for(const y of this._preDrawUpdaters){if(y.getColorStyles){const{fill:w,stroke:D}=y.getColorStyles(t,e,i,r);w&&(l.fill=w),D&&(l.stroke=D)}if(y.getTransformValues){const w=y.getTransformValues(t);for(const D in w)Vm(u,w,D)}null===(h=y.beforeDraw)||void 0===h||h.call(y,t)}}_applyResizePlugins(){for(const e of this._resizePlugins)e.resize&&e.resize()}_getPluginParticleColors(e){let t,i;for(const r of this._colorPlugins)if(!t&&r.particleFillColor&&(t=jc(r.particleFillColor(e))),!i&&r.particleStrokeColor&&(i=jc(r.particleStrokeColor(e))),t&&i)break;return[t,i]}_initCover(){const t=this.container.actualOptions.backgroundMask.cover,r=bs(t.color);if(r){const l={r:r.r,g:r.g,b:r.b,a:t.opacity};this._coverColorStyle=Vo(l,l.a)}}_initStyle(){const e=this.element,t=this.container.actualOptions;if(e){this._fullScreen?(this._originalStyle=Tn({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const i in t.style){if(!i||!t.style)continue;const r=t.style[i];r&&e.style.setProperty(i,r,"important")}}}_initTrail(){var e=this;return(0,we.Z)(function*(){const t=e.container.actualOptions,i=t.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const l=bs(r.color);if(!l)return;const u=t.particles.move.trail;e._trailFill={color:Object.assign({},l),opacity:1/u.length}}else yield new Promise((l,u)=>{if(!r.image)return;const h=document.createElement("img");h.addEventListener("load",()=>{e._trailFill={image:h,opacity:1/i.length},l()}),h.addEventListener("error",y=>{u(y.error)}),h.src=r.image})})()}_paintBase(e){this.draw(t=>{!function gC(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(0,0,e.width,e.height)}(t,this.size,e)})}_paintImage(e,t){this.draw(i=>{!function mC(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,0,0,e.width,e.height),n.globalAlpha=1)}(i,this.size,e,t)})}_repairStyle(){var e,t;const i=this.element;i&&(null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._initStyle(),this.initBackground(),null===(t=this._mutationObserver)||void 0===t||t.observe(i,{attributes:!0}))}_resetOriginalStyle(){const e=this.element,t=this._originalStyle;e&&t&&(e.style.position=t.position,e.style.zIndex=t.zIndex,e.style.top=t.top,e.style.left=t.left,e.style.width=t.width,e.style.height=t.height)}_setFullScreenStyle(){const e=this.element;if(!e)return;const t="important";e.style.setProperty("position","fixed",t),e.style.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),t),e.style.setProperty("top","0",t),e.style.setProperty("left","0",t),e.style.setProperty("width","100%",t),e.style.setProperty("height","100%",t)}}function ji(n,e,t,i,r){if(i){let l={passive:!0};"boolean"==typeof r?l.capture=r:void 0!==r&&(l=r),n.addEventListener(e,t,l)}else n.removeEventListener(e,t,r)}class rd{constructor(e){this.container=e,this.canPush=!0,this.handlers={mouseMove:t=>this.mouseTouchMove(t),touchStart:t=>this.mouseTouchMove(t),touchMove:t=>this.mouseTouchMove(t),touchEnd:()=>this.mouseTouchFinish(),mouseLeave:()=>this.mouseTouchFinish(),touchCancel:()=>this.mouseTouchFinish(),touchEndClick:t=>this.mouseTouchClick(t),mouseUp:t=>this.mouseTouchClick(t),mouseDown:()=>this.mouseDown(),visibilityChange:()=>this.handleVisibilityChange(),themeChange:t=>this.handleThemeChange(t),oldThemeChange:t=>this.handleThemeChange(t),resize:()=>this.handleWindowResize()}}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}doMouseTouchClick(e){const t=this.container,i=t.actualOptions;if(this.canPush){const r=t.interactivity.mouse,l=r.position;if(!l)return;r.clickPosition=Object.assign({},l),r.clickTime=(new Date).getTime(),un(i.interactivity.events.onClick.mode,h=>this.handleClickMode(h))}"touchend"===e.type&&setTimeout(()=>this.mouseTouchFinish(),500)}handleClickMode(e){this.container.handleClickMode(e)}handleThemeChange(e){const i=this.container,r=i.options,l=r.defaultThemes,u=e.matches?l.dark:l.light,h=r.themes.find(y=>y.name===u);h&&h.default.auto&&i.loadTheme(u)}handleVisibilityChange(){const e=this.container,t=e.actualOptions;this.mouseTouchFinish(),t.pauseOnBlur&&(document?.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}handleWindowResize(){var e=this;this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout((0,we.Z)(function*(){var t;return null===(t=e.container.canvas)||void 0===t?void 0:t.windowResize()}),1e3*this.container.actualOptions.interactivity.events.resize.delay)}manageListeners(e){var t;const i=this.handlers,r=this.container,l=r.actualOptions,u=l.interactivity.detectsOn;let h=Gc;if("window"===u)r.interactivity.element=window,h="pointerout";else if("parent"===u&&r.canvas.element){const A=r.canvas.element;r.interactivity.element=null!==(t=A.parentElement)&&void 0!==t?t:A.parentNode}else r.interactivity.element=r.canvas.element;const y=zv("(prefers-color-scheme: dark)");y&&(void 0!==y.addEventListener?ji(y,"change",i.themeChange,e):void 0!==y.addListener&&(e?y.addListener(i.oldThemeChange):y.removeListener(i.oldThemeChange)));const w=r.interactivity.element;if(!w)return;const D=w;(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(ji(w,za,i.mouseMove,e),ji(w,"touchstart",i.touchStart,e),ji(w,"touchmove",i.touchMove,e),l.interactivity.events.onClick.enable?(ji(w,Ah,i.touchEndClick,e),ji(w,"pointerup",i.mouseUp,e),ji(w,"pointerdown",i.mouseDown,e)):ji(w,Ah,i.touchEnd,e),ji(w,h,i.mouseLeave,e),ji(w,"touchcancel",i.touchCancel,e)),r.canvas.element&&(r.canvas.element.style.pointerEvents=D===r.canvas.element?"initial":"none"),l.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(r.canvas.element&&this.resizeObserver.unobserve(r.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&r.canvas.element&&(this.resizeObserver=new ResizeObserver(A=>{A.find(k=>k.target===r.canvas.element)&&this.handleWindowResize()}),this.resizeObserver.observe(r.canvas.element)):ji(window,"resize",i.resize,e)),document&&ji(document,"visibilitychange",i.visibilityChange,e,!1)}mouseDown(){const e=this.container.interactivity;if(e){const t=e.mouse;t.clicking=!0,t.downPosition=t.position}}mouseTouchClick(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse;r.inside=!0;let l=!1;const u=r.position;if(u&&i.interactivity.events.onClick.enable){for(const[,h]of t.plugins)if(h.clickPositionValid&&(l=h.clickPositionValid(u),l))break;l||this.doMouseTouchClick(e),r.clicking=!1}}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const t=e.mouse;delete t.position,delete t.clickPosition,delete t.downPosition,e.status=Gc,t.inside=!1,t.clicking=!1}mouseTouchMove(e){var t,i,r,l,u,h,y;const w=this.container,D=w.actualOptions;if(null===(t=w.interactivity)||void 0===t||!t.element)return;let A;w.interactivity.mouse.inside=!0;const R=w.canvas.element;if(e.type.startsWith("pointer")){this.canPush=!0;const N=e;if(w.interactivity.element===window){if(R){const Y=R.getBoundingClientRect();A={x:N.clientX-Y.left,y:N.clientY-Y.top}}}else if("parent"===D.interactivity.detectsOn){const Y=N.target,se=N.currentTarget,ve=w.canvas.element;if(Y&&se&&ve){const Re=Y.getBoundingClientRect(),tt=se.getBoundingClientRect(),et=ve.getBoundingClientRect();A={x:N.offsetX+2*Re.left-(tt.left+et.left),y:N.offsetY+2*Re.top-(tt.top+et.top)}}else A={x:null!==(i=N.offsetX)&&void 0!==i?i:N.clientX,y:null!==(r=N.offsetY)&&void 0!==r?r:N.clientY}}else N.target===w.canvas.element&&(A={x:null!==(l=N.offsetX)&&void 0!==l?l:N.clientX,y:null!==(u=N.offsetY)&&void 0!==u?u:N.clientY})}else{this.canPush="touchmove"!==e.type;const Y=e.touches[e.touches.length-1],se=R?.getBoundingClientRect();A={x:Y.clientX-(null!==(h=se?.left)&&void 0!==h?h:0),y:Y.clientY-(null!==(y=se?.top)&&void 0!==y?y:0)}}const k=w.retina.pixelRatio;A&&(A.x*=k,A.y*=k),w.interactivity.mouse.position=A,w.interactivity.status=za}}class od{constructor(e){this.container=e}nextFrame(e){var t=this;return(0,we.Z)(function*(){var i;try{const r=t.container;if(!r.smooth&&void 0!==r.lastFrameTime&&e<r.lastFrameTime+1e3/r.fpsLimit)return void r.draw(!1);null!==(i=r.lastFrameTime)&&void 0!==i||(r.lastFrameTime=e);const l=function sd(n,e=60,t=!1){return{value:n,factor:t?60/e:60*n/1e3}}(e-r.lastFrameTime,r.fpsLimit,r.smooth);if(r.lifeTime+=l.value,r.lastFrameTime=e,l.value>1e3)return void r.draw(!1);if(yield r.particles.draw(l),r.duration>0&&r.lifeTime>r.duration)return void r.destroy();r.getAnimationStatus()&&r.draw(!1)}catch(r){console.error("tsParticles error in animation loop",r)}})()}}class dn{constructor(){this.value=""}static create(e,t){const i=new dn;return i.load(e),void 0!==t&&i.load("string"==typeof t||t instanceof Array?{value:t}:t),i}load(e){void 0!==e?.value&&(this.value=e.value)}}class ad{constructor(){this.color=new dn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image),void 0!==e.position&&(this.position=e.position),void 0!==e.repeat&&(this.repeat=e.repeat),void 0!==e.size&&(this.size=e.size),void 0!==e.opacity&&(this.opacity=e.opacity))}}class ld{constructor(){this.color=new dn,this.color.value="#fff",this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.opacity&&(this.opacity=e.opacity))}}class cd{constructor(){this.composite="destination-out",this.cover=new ld,this.enable=!1}load(e){if(e){if(void 0!==e.composite&&(this.composite=e.composite),void 0!==e.cover){const t=e.cover;this.cover.load(void 0!==t.color?t:{color:"string"==typeof e.cover?{color:e.cover}:e.cover})}void 0!==e.enable&&(this.enable=e.enable)}}}class Yv{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.zIndex&&(this.zIndex=e.zIndex))}}class Qv{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode))}}class jm{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return un(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=un(e,t=>`#${t}`)}load(e){var t,i;if(!e)return;const r=null!==(i=null!==(t=e.ids)&&void 0!==t?t:e.elementId)&&void 0!==i?i:e.el;void 0!==r&&(this.ids=r),void 0!==e.selectors&&(this.selectors=e.selectors),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.type&&(this.type=e.type)}}class Xv{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.force&&(this.force=e.force),void 0!==e.smooth&&(this.smooth=e.smooth))}}class Jv{constructor(){this.enable=!1,this.mode=[],this.parallax=new Xv}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class e0{constructor(){this.delay=.5,this.enable=!0}load(e){void 0!==e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.enable&&(this.enable=e.enable))}}class t0{constructor(){this.onClick=new Qv,this.onDiv=new jm,this.onHover=new Jv,this.resize=new e0}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var t,i,r;if(!e)return;this.onClick.load(null!==(t=e.onClick)&&void 0!==t?t:e.onclick);const l=null!==(i=e.onDiv)&&void 0!==i?i:e.ondiv;void 0!==l&&(this.onDiv=un(l,u=>{const h=new jm;return h.load(u),h})),this.onHover.load(null!==(r=e.onHover)&&void 0!==r?r:e.onhover),"boolean"==typeof e.resize?this.resize.enable=e.resize:this.resize.load(e.resize)}}class n0{constructor(e,t){this._engine=e,this._container=t}load(e){if(e&&this._container){const t=this._engine.plugins.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}}class $m{constructor(e,t){this.detectsOn="window",this.events=new t0,this.modes=new n0(e,t)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var t;if(!e)return;const i=null!==(t=e.detectsOn)&&void 0!==t?t:e.detect_on;void 0!==i&&(this.detectsOn=i),this.events.load(e.events),this.modes.load(e.modes)}}class wC{load(e){var t,i;e&&(void 0!==e.position&&(this.position={x:null!==(t=e.position.x)&&void 0!==t?t:50,y:null!==(i=e.position.y)&&void 0!==i?i:50}),void 0!==e.options&&(this.options=Tn({},e.options)))}}class EC{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(void 0!==e.maxWidth&&(this.maxWidth=e.maxWidth),void 0!==e.mode&&(this.mode="screen"===e.mode?"screen":"canvas"),void 0!==e.options&&(this.options=Tn({},e.options)))}}class r0{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(void 0!==e.auto&&(this.auto=e.auto),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.value&&(this.value=e.value))}}class CC{constructor(){this.name="",this.default=new r0}load(e){e&&(void 0!==e.name&&(this.name=e.name),this.default.load(e.default),void 0!==e.options&&(this.options=Tn({},e.options)))}}class Wm{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.decay=0,this.sync=!0}load(e){e&&(void 0!==e.count&&(this.count=It(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(this.offset=It(e.offset)),void 0!==e.speed&&(this.speed=It(e.speed)),void 0!==e.decay&&(this.decay=It(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class Gm{constructor(){this.h=new Wm,this.s=new Wm,this.l=new Wm}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class xl extends dn{constructor(){super(),this.animation=new Gm}static create(e,t){const i=new xl;return i.load(e),void 0!==t&&i.load("string"==typeof t||t instanceof Array?{value:t}:t),i}load(e){if(super.load(e),!e)return;const t=e.animation;void 0!==t&&(void 0!==t.enable?this.animation.h.load(t):this.animation.load(e.animation))}}class IC{constructor(){this.speed=2}load(e){e&&void 0!==e.speed&&(this.speed=e.speed)}}class gp{constructor(){this.enable=!0,this.retries=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.retries&&(this.retries=e.retries))}}class mp{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.minimumValue&&(this.minimumValue=e.minimumValue))}}class Mr{constructor(){this.random=new mp,this.value=0}load(e){e&&("boolean"==typeof e.random?this.random.enable=e.random:this.random.load(e.random),void 0!==e.value&&(this.value=It(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class s0 extends Mr{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class yp{constructor(){this.horizontal=new s0,this.vertical=new s0}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Zm{constructor(){this.absorb=new IC,this.bounce=new yp,this.enable=!1,this.mode="bounce",this.overlap=new gp}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.mode&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class o0{constructor(){this.offset=0,this.value=90}load(e){e&&(void 0!==e.offset&&(this.offset=It(e.offset)),void 0!==e.value&&(this.value=It(e.value)))}}class a0{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var t,i,r,l;if(!e)return;void 0!==e.distance&&(this.distance=It(e.distance)),void 0!==e.enable&&(this.enable=e.enable);const u=null!==(i=null===(t=e.rotate)||void 0===t?void 0:t.x)&&void 0!==i?i:e.rotateX;void 0!==u&&(this.rotate.x=u);const h=null!==(l=null===(r=e.rotate)||void 0===r?void 0:r.y)&&void 0!==l?l:e.rotateY;void 0!==h&&(this.rotate.y=h)}}class qm{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(void 0!==e.x&&(this.x=e.x),void 0!==e.y&&(this.y=e.y),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.radius&&(this.radius=e.radius))}}class l0{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=It(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.inverse&&(this.inverse=e.inverse),void 0!==e.maxSpeed&&(this.maxSpeed=It(e.maxSpeed)))}}class c0{constructor(){this.clamp=!0,this.delay=new Mr,this.enable=!1,this.options={}}load(e){e&&(void 0!==e.clamp&&(this.clamp=e.clamp),this.delay.load(e.delay),void 0!==e.enable&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Tn(this.options,e.options)))}}class Km{load(e){e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.image&&(this.image=e.image))}}class u0{constructor(){this.enable=!1,this.length=10,this.fill=new Km}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),(void 0!==e.fill||void 0!==e.fillColor)&&this.fill.load(e.fill||{color:e.fillColor}),void 0!==e.length&&(this.length=e.length))}}class DC{constructor(){this.default="out"}load(e){var t,i,r,l;e&&(void 0!==e.default&&(this.default=e.default),this.bottom=null!==(t=e.bottom)&&void 0!==t?t:e.default,this.left=null!==(i=e.left)&&void 0!==i?i:e.default,this.right=null!==(r=e.right)&&void 0!==r?r:e.default,this.top=null!==(l=e.top)&&void 0!==l?l:e.default)}}class d0{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(void 0!==e.acceleration&&(this.acceleration=It(e.acceleration)),void 0!==e.enable&&(this.enable=e.enable),this.position=e.position?Tn({},e.position):void 0)}}class h0{constructor(){this.angle=new o0,this.attract=new a0,this.center=new qm,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new l0,this.path=new c0,this.outModes=new DC,this.random=!1,this.size=!1,this.speed=2,this.spin=new d0,this.straight=!1,this.trail=new u0,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var t,i,r;if(!e)return;this.angle.load("number"==typeof e.angle?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),void 0!==e.decay&&(this.decay=It(e.decay)),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.distance&&(this.distance="number"==typeof e.distance?{horizontal:e.distance,vertical:e.distance}:Object.assign({},e.distance)),void 0!==e.drift&&(this.drift=It(e.drift)),void 0!==e.enable&&(this.enable=e.enable),this.gravity.load(e.gravity);const l=null!==(i=null!==(t=e.outModes)&&void 0!==t?t:e.outMode)&&void 0!==i?i:e.out_mode;void 0!==l&&this.outModes.load("object"==typeof l?l:{default:l}),this.path.load(null!==(r=e.path)&&void 0!==r?r:e.noise),void 0!==e.random&&(this.random=e.random),void 0!==e.size&&(this.size=e.size),void 0!==e.speed&&(this.speed=It(e.speed)),this.spin.load(e.spin),void 0!==e.straight&&(this.straight=e.straight),this.trail.load(e.trail),void 0!==e.vibrate&&(this.vibrate=e.vibrate),void 0!==e.warp&&(this.warp=e.warp)}}class Ym{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.count&&(this.count=It(e.count)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=It(e.speed)),void 0!==e.decay&&(this.decay=It(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class f0 extends Ym{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var t;e&&(super.load(e),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.opacity_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class SC extends Mr{constructor(){super(),this.animation=new f0,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(!e)return;super.load(e);const i=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==i&&(this.animation.load(i),this.value=It(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class p0{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var t,i,r;if(!e)return;void 0!==e.enable&&(this.enable=e.enable);const l=null!==(i=null!==(t=e.width)&&void 0!==t?t:e.area)&&void 0!==i?i:e.value_area;void 0!==l&&(this.width=l);const u=null!==(r=e.height)&&void 0!==r?r:e.factor;void 0!==u&&(this.height=u)}}class g0{constructor(){this.density=new p0,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){var t;if(!e)return;this.density.load(e.density);const i=null!==(t=e.limit)&&void 0!==t?t:e.max;void 0!==i&&(this.limit=i),void 0!==e.value&&(this.value=e.value)}}class m0{constructor(){this.blur=0,this.color=new dn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=dn.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.offset&&(void 0!==e.offset.x&&(this.offset.x=e.offset.x),void 0!==e.offset.y&&(this.offset.y=e.offset.y)))}}const Mh="character",_p="char",vp="image",bp="images",wp="polygon",Ep="star";class y0{constructor(){this.options={},this.type="circle"}get character(){var e;return null!==(e=this.options[Mh])&&void 0!==e?e:this.options[_p]}set character(e){this.options[_p]=this.options[Mh]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return null!==(e=this.options[vp])&&void 0!==e?e:this.options[bp]}set image(e){this.options[bp]=this.options[vp]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return null!==(e=this.options[wp])&&void 0!==e?e:this.options[Ep]}set polygon(e){this.options[Ep]=this.options[wp]=e}get stroke(){return[]}set stroke(e){}load(e){var t,i,r;if(!e)return;const l=null!==(t=e.options)&&void 0!==t?t:e.custom;if(void 0!==l)for(const u in l){const h=l[u];h&&(this.options[u]=Tn(null!==(i=this.options[u])&&void 0!==i?i:{},h))}this.loadShape(e.character,Mh,_p,!0),this.loadShape(e.polygon,wp,Ep,!1),this.loadShape(null!==(r=e.image)&&void 0!==r?r:e.images,vp,bp,!0),void 0!==e.type&&(this.type=e.type)}loadShape(e,t,i,r){var l,u;if(!e)return;const h=e instanceof Array,y=h?[]:{},D=h!==this.options[i]instanceof Array;h!==this.options[t]instanceof Array&&(this.options[t]=y),D&&r&&(this.options[i]=y),this.options[t]=Tn(null!==(l=this.options[t])&&void 0!==l?l:y,e),(!this.options[i]||r)&&(this.options[i]=Tn(null!==(u=this.options[i])&&void 0!==u?u:y,e))}}class _0 extends Ym{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var t;super.load(e),e&&(void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.enable&&(this.enable=e.enable),this.minimumValue=null!==(t=e.minimumValue)&&void 0!==t?t:e.size_min,void 0!==e.speed&&(this.speed=e.speed),void 0!==e.startValue&&(this.startValue=e.startValue),void 0!==e.sync&&(this.sync=e.sync))}}class v0 extends Mr{constructor(){super(),this.animation=new _0,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var t;if(super.load(e),!e)return;const i=null!==(t=e.animation)&&void 0!==t?t:e.anim;void 0!==i&&(this.animation.load(i),this.value=It(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Ph{constructor(){this.width=0}load(e){e&&(void 0!==e.color&&(this.color=xl.create(this.color,e.color)),void 0!==e.width&&(this.width=It(e.width)),void 0!==e.opacity&&(this.opacity=It(e.opacity)))}}class Rl extends Mr{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(void 0!==e.opacityRate&&(this.opacityRate=e.opacityRate),void 0!==e.sizeRate&&(this.sizeRate=e.sizeRate),void 0!==e.velocityRate&&(this.velocityRate=e.velocityRate))}}class TC{constructor(e,t){this._engine=e,this._container=t,this.bounce=new yp,this.collisions=new Zm,this.color=new xl,this.color.value="#fff",this.groups={},this.move=new h0,this.number=new g0,this.opacity=new SC,this.reduceDuplicates=!1,this.shadow=new m0,this.shape=new y0,this.size=new v0,this.stroke=new Ph,this.zIndex=new Rl}load(e){var t,i,r,l,u,h;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(xl.create(this.color,e.color)),void 0!==e.groups)for(const D in e.groups){const A=e.groups[D];void 0!==A&&(this.groups[D]=Tn(null!==(t=this.groups[D])&&void 0!==t?t:{},A))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),void 0!==e.reduceDuplicates&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const y=null!==(r=null===(i=e.move)||void 0===i?void 0:i.collisions)&&void 0!==r?r:null===(l=e.move)||void 0===l?void 0:l.bounce;void 0!==y&&(this.collisions.enable=y),this.collisions.load(e.collisions),void 0!==e.interactivity&&(this.interactivity=Tn({},e.interactivity));const w=null!==(u=e.stroke)&&void 0!==u?u:null===(h=e.shape)||void 0===h?void 0:h.stroke;if(w&&(this.stroke=un(w,D=>{const A=new Ph;return A.load(D),A})),this._container){const D=this._engine.plugins.updaters.get(this._container);if(D)for(const R of D)R.loadOptions&&R.loadOptions(this,e);const A=this._engine.plugins.interactors.get(this._container);if(A)for(const R of A)R.loadParticlesOptions&&R.loadParticlesOptions(this,e)}}}function b0(n,...e){for(const t of e)n.load(t)}function xh(n,e,...t){const i=new TC(n,e);return b0(i,...t),i}class qc{constructor(e,t){this._engine=e,this._container=t,this.autoPlay=!0,this.background=new ad,this.backgroundMask=new cd,this.defaultThemes={},this.delay=0,this.fullScreen=new Yv,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new $m(e,t),this.manualParticles=[],this.particles=xh(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var t,i,r,l,u;if(!e)return;void 0!==e.preset&&un(e.preset,A=>this._importPreset(A)),void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.delay&&(this.delay=It(e.delay));const h=null!==(t=e.detectRetina)&&void 0!==t?t:e.retina_detect;void 0!==h&&(this.detectRetina=h),void 0!==e.duration&&(this.duration=It(e.duration));const y=null!==(i=e.fpsLimit)&&void 0!==i?i:e.fps_limit;void 0!==y&&(this.fpsLimit=y),void 0!==e.pauseOnBlur&&(this.pauseOnBlur=e.pauseOnBlur),void 0!==e.pauseOnOutsideViewport&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),void 0!==e.zLayers&&(this.zLayers=e.zLayers),this.background.load(e.background);const w=null!==(r=e.fullScreen)&&void 0!==r?r:e.backgroundMode;"boolean"==typeof w?this.fullScreen.enable=w:this.fullScreen.load(w),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),void 0!==e.manualParticles&&(this.manualParticles=e.manualParticles.map(A=>{const R=new wC;return R.load(A),R})),this.particles.load(e.particles),this.style=Tn(this.style,e.style),this._engine.plugins.loadOptions(this,e),void 0!==e.smooth&&(this.smooth=e.smooth);const D=this._engine.plugins.interactors.get(this._container);if(D)for(const A of D)A.loadOptions&&A.loadOptions(this,e);if(void 0!==e.responsive)for(const A of e.responsive){const R=new EC;R.load(A),this.responsive.push(R)}if(this.responsive.sort((A,R)=>A.maxWidth-R.maxWidth),void 0!==e.themes)for(const A of e.themes){const R=this.themes.find(k=>k.name===A.name);if(R)R.load(A);else{const k=new CC;k.load(A),this.themes.push(k)}}this.defaultThemes.dark=null===(l=this._findDefaultTheme("dark"))||void 0===l?void 0:l.name,this.defaultThemes.light=null===(u=this._findDefaultTheme("light"))||void 0===u?void 0:u.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(l=>"screen"===l.mode&&screen?l.maxWidth>screen.availWidth:l.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=zv("(prefers-color-scheme: dark)"),r=this._findDefaultTheme(t&&t.matches?"dark":"light");r&&this.load(r.options)}}_findDefaultTheme(e){var t;return null!==(t=this.themes.find(i=>i.default.value&&i.default.mode===e))&&void 0!==t?t:this.themes.find(i=>i.default.value&&"any"===i.default.mode)}_importPreset(e){this.load(this._engine.plugins.getPreset(e))}}class Qm{constructor(e,t){this.container=t,this._engine=e,this._interactors=this._engine.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){var t=this;return(0,we.Z)(function*(){for(const i of t._externalInteractors)i.isEnabled()&&(yield i.interact(e))})()}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode&&t.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e)}e.init()}}particlesInteract(e,t){var i=this;return(0,we.Z)(function*(){for(const r of i._externalInteractors)r.clear(e,t);for(const r of i._particleInteractors)r.isEnabled(e)&&(yield r.interact(e,t))})()}reset(e){var t=this;return(0,we.Z)(function*(){for(const i of t._externalInteractors)i.isEnabled()&&(yield i.reset(e));for(const i of t._particleInteractors)i.isEnabled(e)&&(yield i.reset(e))})()}}const w0=n=>{En(n.outMode,n.checkModes)&&(n.coord>n.maxCoord-2*n.radius?n.setCb(-n.radius):n.coord<2*n.radius&&n.setCb(n.radius))};class Xm{constructor(e,t,i,r,l,u){this.container=i,this._engine=e,this.init(t,r,l,u)}destroy(e){var t;if(!this.unbreakable&&!this.destroyed){this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;for(const[,i]of this.container.plugins)i.particleDestroyed&&i.particleDestroyed(this,e);for(const i of this.container.particles.updaters)i.particleDestroyed&&i.particleDestroyed(this,e);null===(t=this.pathGenerator)||void 0===t||t.reset(this)}}draw(e){const t=this.container;for(const[,i]of t.plugins)t.canvas.drawParticlePlugin(i,this,e);t.canvas.drawParticle(this,e)}getFillColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:Gv(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return null!==(e=this.bubble.radius)&&void 0!==e?e:this.size.value}getStrokeColor(){var e;return this._getRollColor(null!==(e=this.bubble.color)&&void 0!==e?e:Gv(this.strokeColor))}init(e,t,i,r){var l,u,h,y,w,D,A,R,k;const N=this.container,Y=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const se=N.retina.pixelRatio,Re=xh(this._engine,N,N.actualOptions.particles),tt=Re.shape.type,{reduceDuplicates:et}=Re;this.shape=Jn(tt,this.id,et);const Yt=Re.shape;if(i&&i.shape&&i.shape.type){const At=Jn(i.shape.type,this.id,et);At&&(this.shape=At,Yt.load(i.shape))}this.shapeData=this._loadShapeData(Yt,et),Re.load(i),Re.load(null===(l=this.shapeData)||void 0===l?void 0:l.particles),this.interactivity=new $m(Y,N),this.interactivity.load(N.actualOptions.interactivity),this.interactivity.load(Re.interactivity),this.fill=null!==(h=null===(u=this.shapeData)||void 0===u?void 0:u.fill)&&void 0!==h?h:this.fill,this.close=null!==(w=null===(y=this.shapeData)||void 0===y?void 0:y.close)&&void 0!==w?w:this.close,this.options=Re;const Ht=this.options.move.path;this.pathDelay=1e3*Ys(Ht.delay),Ht.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(Ht.generator),this.pathGenerator&&N.addPath(Ht.generator,this.pathGenerator)&&this.pathGenerator.init(N));const ni=He(this.options.zIndex.value);N.retina.initParticle(this);const mr=this.options.size,Xr=mr.value,io=mr.animation;if(this.size={enable:mr.animation.enable,value:He(mr.value)*N.retina.pixelRatio,max:Ho(Xr)*se,min:td(Xr)*se,loops:0,maxLoops:He(mr.animation.count)},io.enable)switch(this.size.status="increasing",this.size.decay=1-He(io.decay),io.startValue){case"min":this.size.value=this.size.min,this.size.status="increasing";break;case"random":this.size.value=di(this.size),this.size.status=Ut()>=.5?"increasing":"decreasing";break;default:this.size.value=this.size.max,this.size.status="decreasing"}this.size.initialValue=this.size.value,this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this.position=this._calcPosition(N,t,vs(ni,0,N.zLayers)),this.initialPosition=this.position.copy();const W_=N.canvas.size,ou=Object.assign({},this.options.move.center),zl="percent"===ou.mode;switch(this.moveCenter={x:ou.x*(zl?W_.width/100:1),y:ou.y*(zl?W_.height/100:1),radius:null!==(D=this.options.move.center.radius)&&void 0!==D?D:0,mode:null!==(A=this.options.move.center.mode)&&void 0!==A?A:"percent"},this.direction=function oC(n,e,t){if("number"==typeof n)return n*Math.PI/180;switch(n){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(t.y-e.y,t.x-e.x);case"outside":return Math.atan2(e.y-t.y,e.x-t.x);default:return Ut()*Math.PI*2}}(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside"}this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-He(this.options.move.decay),this.offset=cn.origin;const ff=N.particles;ff.needsSort=ff.needsSort||ff.lastZIndex<this.position.z,ff.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/N.zLayers,this.sides=24;let Ai=N.drawers.get(this.shape);Ai||(Ai=this._engine.plugins.getShapeDrawer(this.shape),Ai&&N.drawers.set(this.shape,Ai)),Ai?.loadShape&&Ai?.loadShape(this);const lt=Ai?.getSidesCount;lt&&(this.sides=lt(this)),this.spawning=!1,this.shadowColor=bs(this.options.shadow.color);for(const ht of N.particles.updaters)ht.init(this);for(const ht of N.particles.movers)null===(R=ht.init)||void 0===R||R.call(ht,this);Ai?.particleInit&&Ai.particleInit(N,this);for(const[,ht]of N.plugins)null===(k=ht.particleCreated)||void 0===k||k.call(ht,this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=t.height+e&&this.position.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const t of this.container.particles.updaters)null===(e=t.reset)||void 0===e||e.call(t,this)}_calcPosition(e,t,i,r=0){var l,u,h,y;for(const[,se]of e.plugins){const ve=void 0!==se.particlePosition?se.particlePosition(t,this):void 0;if(void 0!==ve)return fr.create(ve.x,ve.y,i)}const D=function Fv(n){var e,t,i,r;return{x:null!==(t=null===(e=n.position)||void 0===e?void 0:e.x)&&void 0!==t?t:Ut()*n.size.width,y:null!==(r=null===(i=n.position)||void 0===i?void 0:i.y)&&void 0!==r?r:Ut()*n.size.height}}({size:e.canvas.size,position:t}),A=fr.create(D.x,D.y,i),R=this.getRadius(),k=this.options.move.outModes,N=se=>{w0({outMode:se,checkModes:["bounce","bounce-horizontal"],coord:A.x,maxCoord:e.canvas.size.width,setCb:ve=>A.x+=ve,radius:R})},Y=se=>{w0({outMode:se,checkModes:["bounce","bounce-vertical"],coord:A.y,maxCoord:e.canvas.size.height,setCb:ve=>A.y+=ve,radius:R})};return N(null!==(l=k.left)&&void 0!==l?l:k.default),N(null!==(u=k.right)&&void 0!==u?u:k.default),Y(null!==(h=k.top)&&void 0!==h?h:k.default),Y(null!==(y=k.bottom)&&void 0!==y?y:k.default),this._checkOverlap(A,r)?this._calcPosition(e,void 0,i,r+1):A}_calculateVelocity(){const t=function aC(n){const e=cn.origin;return e.length=1,e.angle=n,e}(this.direction).copy(),i=this.options.move;if("inside"===i.direction||"outside"===i.direction)return t;const r=Math.PI/180*He(i.angle.value),l=Math.PI/180*He(i.angle.offset),u={left:l-r/2,right:l+r/2};return i.straight||(t.angle+=di(It(u.left,u.right))),i.random&&"number"==typeof i.speed&&(t.length*=Ut()),t}_checkOverlap(e,t=0){const i=this.options.collisions,r=this.getRadius();if(!i.enable)return!1;const l=i.overlap;if(l.enable)return!1;const u=l.retries;if(u>=0&&t>u)throw new Error("Particle is overlapping and can't be placed");let h=!1;for(const y of this.container.particles.array)if(hi(e,y.position)<r+y.getRadius()){h=!0;break}return h}_getRollColor(e){var t;if(!e||!this.roll||!this.backColor&&!this.roll.alter)return e;const r=this.roll.horizontal?Math.PI/2:0;return Math.floor(((null!==(t=this.roll.angle)&&void 0!==t?t:0)+r)/(Math.PI/(this.roll.horizontal&&this.roll.vertical?2:1)))%2?this.backColor?this.backColor:this.roll.alter?function Wc(n,e,t){return{h:n.h,s:n.s,l:n.l+("darken"===e?-1:1)*t}}(e,this.roll.alter.type,this.roll.alter.value):e:e}_loadShapeData(e,t){const i=e.options[this.shape];if(i)return Tn({},Jn(i,this.id,t))}}class aA{constructor(e,t){this.position=e,this.particle=t}}class AC{constructor(e,t){this.position={x:e,y:t}}}class Pr extends AC{constructor(e,t,i){super(e,t),this.radius=i}contains(e){return hi(e,this.position)<=this.radius}intersects(e){const t=e,i=e,r=this.position,l=e.position,u_x=Math.abs(l.x-r.x),u_y=Math.abs(l.y-r.y),h=this.radius;if(void 0!==i.radius)return h+i.radius>Math.sqrt(u_x**2+u_y**2);if(void 0!==t.size){const y=t.size.width,w=t.size.height;return Math.pow(u_x-y,2)+Math.pow(u_y-w,2)<=h**2||u_x<=h+y&&u_y<=h+w||u_x<=y||u_y<=w}return!1}}class xr extends AC{constructor(e,t,i,r){super(e,t),this.size={height:r,width:i}}contains(e){const r=this.position;return e.x>=r.x&&e.x<=r.x+this.size.width&&e.y>=r.y&&e.y<=r.y+this.size.height}intersects(e){e instanceof Pr&&e.intersects(this);const r=this.position,l=e.position,u=e instanceof xr?e.size:{width:0,height:0};return l.x<r.x+this.size.width&&l.x+u.width>r.x&&l.y<r.y+this.size.height&&l.y+u.height>r.y}}class Ol{constructor(e,t){this.rectangle=e,this.capacity=t,this._points=[],this._divided=!1}insert(e){var t,i,r,l,u;return!!this.rectangle.contains(e.position)&&(this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this.subdivide(),null!==(u=(null===(t=this._NE)||void 0===t?void 0:t.insert(e))||(null===(i=this._NW)||void 0===i?void 0:i.insert(e))||(null===(r=this._SE)||void 0===r?void 0:r.insert(e))||(null===(l=this._SW)||void 0===l?void 0:l.insert(e)))&&void 0!==u&&u))}query(e,t,i){var r,l,u,h;const y=i??[];if(!e.intersects(this.rectangle))return[];for(const w of this._points)!e.contains(w.position)&&hi(e.position,w.position)>w.particle.getRadius()&&(!t||t(w.particle))||y.push(w.particle);return this._divided&&(null===(r=this._NE)||void 0===r||r.query(e,t,y),null===(l=this._NW)||void 0===l||l.query(e,t,y),null===(u=this._SE)||void 0===u||u.query(e,t,y),null===(h=this._SW)||void 0===h||h.query(e,t,y)),y}queryCircle(e,t,i){return this.query(new Pr(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new xr(e.x,e.y,t.width,t.height),i)}subdivide(){const e=this.rectangle.position.x,t=this.rectangle.position.y,i=this.rectangle.size.width,r=this.rectangle.size.height,l=this.capacity;this._NE=new Ol(new xr(e,t,i/2,r/2),l),this._NW=new Ol(new xr(e+i/2,t,i/2,r/2),l),this._SE=new Ol(new xr(e,t+r/2,i/2,r/2),l),this._SW=new Ol(new xr(e+i/2,t+r/2,i/2,r/2),l),this._divided=!0}}class MC{constructor(e,t){this.container=t,this._engine=e,this.nextId=0,this.array=[],this.zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.interactionManager=new Qm(this._engine,t);const i=this.container.canvas.size;this.quadTree=new Ol(new xr(-i.width/4,-i.height/4,3*i.width/2,3*i.height/2),4),this.movers=this._engine.plugins.getMovers(t,!0),this.updaters=this._engine.plugins.getUpdaters(t,!0)}get count(){return this.array.length}addManualParticles(){const e=this.container,t=e.actualOptions;for(const i of t.manualParticles)this.addParticle((n={size:e.canvas.size,position:i.position}).position&&void 0!==n.position.x&&void 0!==n.position.y?{x:n.position.x*n.size.width/100,y:n.position.y*n.size.height/100}:void 0,i.options);var n}addParticle(e,t,i,r){const h=this.container.actualOptions.particles.number.limit;if(h>0){const y=this.count+1-h;y>0&&this.removeQuantity(y)}return this._pushParticle(e,t,i,r)}clear(){this.array=[],this.zArray=[]}destroy(){this.array=[],this.zArray=[],this.movers=[],this.updaters=[]}draw(e){var t=this;return(0,we.Z)(function*(){const i=t.container,r=t.container.canvas.size;t.quadTree=new Ol(new xr(-r.width/4,-r.height/4,3*r.width/2,3*r.height/2),4),i.canvas.clear(),yield t.update(e),t.needsSort&&(t.zArray.sort((l,u)=>u.position.z-l.position.z||l.id-u.id),t.lastZIndex=t.zArray[t.zArray.length-1].position.z,t.needsSort=!1);for(const[,l]of i.plugins)i.canvas.drawPlugin(l,e);for(const l of t.zArray)l.draw(e)})()}handleClickMode(e){this.interactionManager.handleClickMode(e)}init(){var e;const t=this.container,i=t.actualOptions;this.lastZIndex=0,this.needsSort=!1;let r=!1;this.updaters=this._engine.plugins.getUpdaters(t,!0),this.interactionManager.init();for(const[,l]of t.plugins)if(void 0!==l.particlesInitialization&&(r=l.particlesInitialization()),r)break;this.interactionManager.init();for(const[,l]of t.pathGenerators)l.init(t);if(this.addManualParticles(),!r){for(const l in i.particles.groups){const u=i.particles.groups[l];for(let h=this.count,y=0;y<(null===(e=u.number)||void 0===e?void 0:e.value)&&h<i.particles.number.value;h++,y++)this.addParticle(void 0,u,l)}for(let l=this.count;l<i.particles.number.value;l++)this.addParticle()}}push(e,t,i,r){this.pushing=!0;for(let l=0;l<e;l++)this.addParticle(t?.position,i,r);this.pushing=!1}redraw(){var e=this;return(0,we.Z)(function*(){e.clear(),e.init(),yield e.draw({value:0,factor:0})})()}remove(e,t,i){this.removeAt(this.array.indexOf(e),void 0,t,i)}removeAt(e,t=1,i,r){if(e<0||e>this.count)return;let l=0;for(let u=e;l<t&&u<this.count;u++){const h=this.array[u];if(!h||h.group!==i)continue;h.destroy(r),this.array.splice(u--,1);const y=this.zArray.indexOf(h);this.zArray.splice(y,1),this.pool.push(h),l++,this._engine.dispatchEvent("particleRemoved",{container:this.container,data:{particle:h}})}}removeQuantity(e,t){this.removeAt(0,e,t)}setDensity(){const e=this.container.actualOptions;for(const t in e.particles.groups)this._applyDensity(e.particles.groups[t],0,t);this._applyDensity(e.particles,e.manualParticles.length)}update(e){var t=this;return(0,we.Z)(function*(){var i,r;const l=t.container,u=[];for(const[,h]of l.pathGenerators)h.update();for(const[,h]of l.plugins)null===(i=h.update)||void 0===i||i.call(h,e);for(const h of t.array){const y=l.canvas.resizeFactor;y&&!h.ignoresResizeRatio&&(h.position.x*=y.width,h.position.y*=y.height,h.initialPosition.x*=y.width,h.initialPosition.y*=y.height),h.ignoresResizeRatio=!1,yield t.interactionManager.reset(h);for(const[,w]of t.container.plugins){if(h.destroyed)break;null===(r=w.particleUpdate)||void 0===r||r.call(w,h,e)}for(const w of t.movers)w.isEnabled(h)&&w.move(h,e);h.destroyed?u.push(h):t.quadTree.insert(new aA(h.getPosition(),h))}for(const h of u)t.remove(h);yield t.interactionManager.externalInteract(e);for(const h of t.array){for(const y of t.updaters)y.update(h,e);!h.destroyed&&!h.spawning&&(yield t.interactionManager.particlesInteract(h,e))}delete l.canvas.resizeFactor})()}_applyDensity(e,t,i){var r;if(null===(r=e.number.density)||void 0===r||!r.enable)return;const l=e.number,u=this._initDensityFactor(l.density),h=l.value,w=Math.min(h,l.limit>0?l.limit:h)*u+t,D=Math.min(this.count,this.array.filter(A=>A.group===i).length);this.limit=l.limit*u,D<w?this.push(Math.abs(w-D),void 0,e,i):D>w&&this.removeQuantity(D-w,i)}_initDensityFactor(e){const t=this.container;if(!t.canvas.element||!e.enable)return 1;const i=t.canvas.element;return i.width*i.height/(e.factor*t.retina.pixelRatio**2*e.area)}_pushParticle(e,t,i,r){try{let l=this.pool.pop();l?l.init(this.nextId,e,t,i):l=new Xm(this._engine,this.nextId,this.container,e,t,i);let u=!0;return r&&(u=r(l)),u?(this.array.push(l),this.zArray.push(l),this.nextId++,this._engine.dispatchEvent("particleAdded",{container:this.container,data:{particle:l}}),l):void 0}catch(l){return void console.warn(`error adding particle: ${l}`)}}}class fi{constructor(e){this.container=e}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Xi()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const l=e.canvas.element;e.canvas.size.width=l.offsetWidth*i,e.canvas.size.height=l.offsetHeight*i}const r=t.particles;this.attractDistance=He(r.move.attract.distance)*i,this.sizeAnimationSpeed=He(r.size.animation.speed)*i,this.maxSpeed=He(r.move.gravity.maxSpeed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move.distance,l=e.retina;l.attractDistance=He(t.move.attract.distance)*i,l.moveDrift=He(t.move.drift)*i,l.moveSpeed=He(t.move.speed)*i,l.sizeAnimationSpeed=He(t.size.animation.speed)*i;const u=l.maxDistance;u.horizontal=void 0!==r.horizontal?r.horizontal*i:void 0,u.vertical=void 0!==r.vertical?r.vertical*i:void 0,l.maxSpeed=He(t.move.gravity.maxSpeed)*i}}function An(n){return n&&!n.destroyed}function Rh(n,e,...t){const i=new qc(n,e);return b0(i,...t),i}const Jm={generate:n=>{const e=n.velocity.copy();return e.angle+=e.length*Math.PI/180,e},init:()=>{},update:()=>{},reset:()=>{}};class xC{constructor(e,t,i){this.id=t,this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this.duration=0,this.lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new fi(this),this.canvas=new id(this),this.particles=new MC(this._engine,this),this.frameManager=new od(this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Rh(this._engine,this),this.actualOptions=Rh(this._engine,this),this._eventListeners=new rd(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!An(this))return;const t=this.interactivity.element;if(!t)return;const i=(A,R,k)=>{if(!An(this))return;const N=this.retina.pixelRatio,se=this.particles.quadTree.queryCircle({x:R.x*N,y:R.y*N},k*N);e(A,se)};let w=!1,D=!1;t.addEventListener("click",A=>{An(this)&&i(A,{x:A.offsetX||A.clientX,y:A.offsetY||A.clientY},1)}),t.addEventListener("touchstart",()=>{An(this)&&(w=!0,D=!1)}),t.addEventListener("touchmove",()=>{An(this)&&(D=!0)}),t.addEventListener("touchend",A=>{if(An(this)){if(w&&!D){let k=A.touches[A.touches.length-1];if(!k&&(k=A.changedTouches[A.changedTouches.length-1],!k))return;const N=this.canvas.element,Y=N?N.getBoundingClientRect():void 0;i(A,{x:k.clientX-(Y?Y.left:0),y:k.clientY-(Y?Y.top:0)},Math.max(k.radiusX,k.radiusY))}w=!1,D=!1}}),t.addEventListener("touchcancel",()=>{An(this)&&(w=!1,D=!1)})}addPath(e,t,i=!1){return!(!An(this)||!i&&this.pathGenerators.has(e)||(this.pathGenerators.set(e,t??Jm),0))}destroy(){if(!An(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),t=e.findIndex(i=>i===this);t>=0&&e.splice(t,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){var t=this;if(!An(this))return;let i=e;this._drawAnimationFrame=function uC(){return Xi()?n=>setTimeout(n):n=>(requestAnimationFrame||setTimeout)(n)}()(function(){var r=(0,we.Z)(function*(l){i&&(t.lastFrameTime=void 0,i=!1),yield t.frameManager.nextFrame(l)});return function(l){return r.apply(this,arguments)}}())}exportConfiguration(){return JSON.stringify(this.actualOptions,(e,t)=>{if("_engine"!==e&&"_container"!==e)return t},2)}exportImage(e,t,i){const r=this.canvas.element;r&&r.toBlob(e,t??"image/png",i)}exportImg(e){this.exportImage(e)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&An(this)}handleClickMode(e){if(An(this)){this.particles.handleClickMode(e);for(const[,t]of this.plugins)t.handleClickMode&&t.handleClickMode(e)}}init(){var e=this;return(0,we.Z)(function*(){if(!An(e))return;const t=e._engine.plugins.getSupportedShapes();for(const r of t){const l=e._engine.plugins.getShapeDrawer(r);l&&e.drawers.set(r,l)}e._options=Rh(e._engine,e,e._initialSourceOptions,e.sourceOptions),e.actualOptions=Rh(e._engine,e,e._options);const i=e._engine.plugins.getAvailablePlugins(e);for(const[r,l]of i)e.plugins.set(r,l);e.retina.init(),yield e.canvas.init(),e.updateActualOptions(),e.canvas.initBackground(),e.canvas.resize(),e.zLayers=e.actualOptions.zLayers,e.duration=1e3*He(e.actualOptions.duration),e._delay=1e3*He(e.actualOptions.delay),e.lifeTime=0,e.fpsLimit=e.actualOptions.fpsLimit>0?e.actualOptions.fpsLimit:120,e.smooth=e.actualOptions.smooth;for(const[,r]of e.drawers)r.init&&(yield r.init(e));for(const[,r]of e.plugins)r.init&&(yield r.init());e._engine.dispatchEvent("containerInit",{container:e}),e.particles.init(),e.particles.setDensity();for(const[,r]of e.plugins)r.particlesSetup&&r.particlesSetup();e._engine.dispatchEvent("particlesSetup",{container:e})})()}loadTheme(e){var t=this;return(0,we.Z)(function*(){An(t)&&(t._currentTheme=e,yield t.refresh())})()}pause(){if(An(this)&&(void 0!==this._drawAnimationFrame&&(function Hv(){return Xi()?n=>clearTimeout(n):n=>(cancelAnimationFrame||clearTimeout)(n)}()(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!An(this))return;const t=this._paused||e;if(!this._firstStart||this.actualOptions.autoPlay){if(this._paused&&(this._paused=!1),t)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(t||!1)}else this._firstStart=!1}refresh(){var e=this;return(0,we.Z)(function*(){if(An(e))return e.stop(),e.start()})()}reset(){var e=this;return(0,we.Z)(function*(){if(An(e))return e._options=Rh(e._engine,e),e.refresh()})()}setNoise(e,t,i){An(this)&&this.setPath(e,t,i)}setPath(e,t,i){if(!e||!An(this))return;const r=Object.assign({},Jm);if("function"==typeof e)r.generate=e,t&&(r.init=t),i&&(r.update=i);else{const l=r;r.generate=e.generate||l.generate,r.init=e.init||l.init,r.update=e.update||l.update}this.addPath("default",r,!0)}start(){var e=this;return(0,we.Z)(function*(){!An(e)||e.started||(yield e.init(),e.started=!0,yield new Promise(t=>{e._delayTimeout=setTimeout((0,we.Z)(function*(){e._eventListeners.addListeners(),e.interactivity.element instanceof HTMLElement&&e._intersectionObserver&&e._intersectionObserver.observe(e.interactivity.element);for(const[,i]of e.plugins)i.start&&(yield i.start());e._engine.dispatchEvent("containerStarted",{container:e}),e.play(),t()}),e._delay)}))})()}stop(){if(An(this)&&this.started){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth!==e&&(this.responsiveMaxWidth=e,!0)}_intersectionManager(e){if(An(this)&&this.actualOptions.pauseOnOutsideViewport)for(const t of e)t.target===this.interactivity.element&&(t.isIntersecting?this.play:this.pause)()}}function Cp(){return(Cp=(0,we.Z)(function*(n,e){const t=Jn(n,e);if(!t)return;const i=yield fetch(t);if(i.ok)return i.json();console.error(`tsParticles - Error ${i.status} while retrieving config file`)})).apply(this,arguments)}class ud{constructor(e){this._engine=e}load(e,t,i){const r={index:i,remote:!1};return"string"==typeof e?r.tagId=e:r.options=e,"number"==typeof t?r.index=t:r.options=t??r.options,this.loadOptions(r)}loadJSON(e,t,i){var r=this;return(0,we.Z)(function*(){let l,u;return"number"==typeof t||void 0===t?l=e:(u=e,l=t),r.loadRemoteOptions({tagId:u,url:l,index:i,remote:!0})})()}loadOptions(e){var t=this;return(0,we.Z)(function*(){var i,r,l;const u=null!==(i=e.tagId)&&void 0!==i?i:`tsparticles${Math.floor(1e4*Ut())}`,{index:h,url:y,remote:w}=e,D=w?yield function E0(n,e){return Cp.apply(this,arguments)}(y,h):e.options;let A=null!==(r=e.element)&&void 0!==r?r:document.getElementById(u);A||(A=document.createElement("div"),A.id=u,null===(l=document.querySelector("body"))||void 0===l||l.append(A));const R=Jn(D,h),k=t._engine.dom(),N=k.findIndex(ve=>ve.id===u);if(N>=0){const ve=t._engine.domItem(N);ve&&!ve.destroyed&&(ve.destroy(),k.splice(N,1))}let Y;if("canvas"===A.tagName.toLowerCase())Y=A,Y.dataset[fp]="false";else{const ve=A.getElementsByTagName("canvas");ve.length?(Y=ve[0],Y.dataset[fp]="false"):(Y=document.createElement("canvas"),Y.dataset[fp]="true",A.appendChild(Y))}Y.style.width||(Y.style.width="100%"),Y.style.height||(Y.style.height="100%");const se=new xC(t._engine,u,R);return N>=0?k.splice(N,0,se):k.push(se),se.canvas.loadCanvas(Y),yield se.start(),se})()}loadRemoteOptions(e){var t=this;return(0,we.Z)(function*(){return t.loadOptions(e)})()}set(e,t,i,r){var l=this;return(0,we.Z)(function*(){const u={index:r,remote:!1};return"string"==typeof e?u.tagId=e:u.element=e,t instanceof HTMLElement?u.element=t:u.options=t,"number"==typeof i?u.index=i:u.options=i??u.options,l.loadOptions(u)})()}setJSON(e,t,i,r){var l=this;return(0,we.Z)(function*(){let u,h,y,w;return e instanceof HTMLElement?(w=e,u=t,y=i):(h=e,w=t,u=i,y=r),l.loadRemoteOptions({tagId:h,url:u,index:y,element:w,remote:!0})})()}}function ey(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=[...t.values()].map(l=>l(n)),e.set(n,r)),r}class RC{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,t){this._initializers.interactors.set(e,t)}addParticleMover(e,t){this._initializers.movers.set(e,t)}addParticleUpdater(e,t){this._initializers.updaters.set(e,t)}addPathGenerator(e,t){this.getPathGenerator(e)||this.pathGenerators.set(e,t)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}addPreset(e,t,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,t)}addShapeDrawer(e,t){un(e,i=>{this.getShapeDrawer(i)||this.drawers.set(i,t)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,i.getPlugin(e));return t}getInteractors(e,t=!1){return ey(e,this.interactors,this._initializers.interactors,t)}getMovers(e,t=!1){return ey(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,t=!1){return ey(e,this.updaters,this._initializers.updaters,t)}loadOptions(e,t){for(const i of this.plugins)i.loadOptions(e,t)}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);if(r)for(const l of r)l.loadOptions&&l.loadOptions(t,...i)}}class $o{constructor(e){this.container=e,this.type="external"}}class Oh{constructor(e){this.container=e,this.type="particles"}}const D0=new class I0{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var t;const r=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==r.r)return r}handleRangeColor(e){var t;const r=null!==(t=e.value.rgb)&&void 0!==t?t:e.value;if(void 0!==r.r)return{r:He(r.r),g:He(r.g),b:He(r.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const i=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return i?{a:i.length>4?Uv(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}},Wo=new class OC{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var t;const r=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==r.h&&void 0!==r.s&&void 0!==r.l)return nd(r)}handleRangeColor(e){var t;const r=null!==(t=e.value.hsl)&&void 0!==t?t:e.value;if(void 0!==r.h&&void 0!==r.l)return nd({h:He(r.h),l:He(r.l),s:He(r.s)})}parseString(e){if(!e.startsWith("hsl"))return;const i=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i.exec(e);return i?function fC(n){const e=nd(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}({a:i.length>4?Uv(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}};Um(D0),Um(Wo);const Ip=new class C0{constructor(){this._domArray=[],this._eventDispatcher=new Mm,this._initialized=!1,this._loader=new ud(this),this.plugins=new RC(this)}get version(){return"2.9.3"}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}addInteractor(e,t){var i=this;return(0,we.Z)(function*(){i.plugins.addInteractor(e,t),yield i.refresh()})()}addMover(e,t){var i=this;return(0,we.Z)(function*(){i.plugins.addParticleMover(e,t),yield i.refresh()})()}addParticleUpdater(e,t){var i=this;return(0,we.Z)(function*(){i.plugins.addParticleUpdater(e,t),yield i.refresh()})()}addPathGenerator(e,t){var i=this;return(0,we.Z)(function*(){i.plugins.addPathGenerator(e,t),yield i.refresh()})()}addPlugin(e){var t=this;return(0,we.Z)(function*(){t.plugins.addPlugin(e),yield t.refresh()})()}addPreset(e,t,i=!1){var r=this;return(0,we.Z)(function*(){r.plugins.addPreset(e,t,i),yield r.refresh()})()}addShape(e,t,i,r,l){var u=this;return(0,we.Z)(function*(){let h;h="function"==typeof t?{afterEffect:r,destroy:l,draw:t,init:i}:t,u.plugins.addShapeDrawer(e,h),yield u.refresh()})()}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this._domArray}domItem(e){const t=this.dom(),i=t[e];if(i&&!i.destroyed)return i;t.splice(e,1)}init(){this._initialized||(this._initialized=!0)}load(e,t){var i=this;return(0,we.Z)(function*(){return i._loader.load(e,t)})()}loadFromArray(e,t,i){var r=this;return(0,we.Z)(function*(){return r._loader.load(e,t,i)})()}loadJSON(e,t,i){var r=this;return(0,we.Z)(function*(){return r._loader.loadJSON(e,t,i)})()}refresh(){var e=this;return(0,we.Z)(function*(){for(const t of e.dom())yield t.refresh()})()}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}set(e,t,i){var r=this;return(0,we.Z)(function*(){return r._loader.set(e,t,i)})()}setJSON(e,t,i,r){var l=this;return(0,we.Z)(function*(){return l._loader.setJSON(e,t,i,r)})()}setOnClickHandler(e){const t=this.dom();if(!t.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const i of t)i.addClickHandler(e)}};Ip.init();class S0{constructor(){this.radius=0,this.mass=0}load(e){e&&(void 0!==e.mass&&(this.mass=e.mass),void 0!==e.radius&&(this.radius=e.radius))}}class Go extends Mr{constructor(){super(),this.density=5,this.value=50,this.limit=new S0}load(e){e&&(super.load(e),void 0!==e.density&&(this.density=e.density),"number"==typeof e.limit?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Rr{constructor(){this.color=new dn,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Go}load(e){void 0!==e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.draggable&&(this.draggable=e.draggable),this.name=e.name,void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=It(e.position.x)),void 0!==e.position.y&&(this.position.y=It(e.position.y))),void 0!==e.size&&this.size.load(e.size),void 0!==e.destroy&&(this.destroy=e.destroy),void 0!==e.orbits&&(this.orbits=e.orbits))}}class Qs{constructor(e,t,i,r){var l,u,h;this.absorbers=e,this.container=t,this.initialPosition=r?cn.create(r.x,r.y):void 0,i instanceof Rr?this.options=i:(this.options=new Rr,this.options.load(i)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=He(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const y=this.options.size.limit;this.limit={radius:y.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:y.mass},this.color=null!==(l=bs(this.options.color))&&void 0!==l?l:{b:0,g:0,r:0},this.position=null!==(h=null===(u=this.initialPosition)||void 0===u?void 0:u.copy())&&void 0!==h?h:this.calcPosition()}attract(e){const t=this.container,i=this.options;if(i.draggable){const w=t.interactivity.mouse;w.clicking&&w.downPosition?hi(this.position,w.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&w.position&&(this.position.x=w.position.x,this.position.y=w.position.y)}const r=e.getPosition(),{dx:l,dy:u,distance:h}=Qi(this.position,r),y=cn.create(l,u);if(y.length=this.mass/Math.pow(h,2)*t.retina.reduceFactor,h<this.size+e.getRadius()){const w=.033*e.getRadius()*t.retina.pixelRatio;this.size>e.getRadius()&&h<this.size-e.getRadius()||void 0!==e.absorberOrbit&&e.absorberOrbit.length<0?i.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,y)):(i.destroy&&(e.size.value-=w),this.updateParticlePosition(e,y)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=w),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=w*this.options.size.density*t.retina.reduceFactor)}else this.updateParticlePosition(e,y)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,2*Math.PI,!1),e.closePath(),e.fillStyle=Vo(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&Ih(e,this.container.canvas.size,cn.origin)?e:this.calcPosition()}calcPosition(){const e=ip({size:this.container.canvas.size,position:this.options.position});return cn.create(e.x,e.y)}updateParticlePosition(e,t){var i;if(e.destroyed)return;const r=this.container,l=r.canvas.size;if(e.needsNewPosition){const u=Lv({size:l});e.position.setTo(u),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(void 0===e.absorberOrbit&&(e.absorberOrbit=cn.create(0,0),e.absorberOrbit.length=hi(e.getPosition(),this.position),e.absorberOrbit.angle=Ut()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const D=Math.min(l.width,l.height);e.absorberOrbit.length=D*(.2*Ut()-.1+1)}void 0===e.absorberOrbitDirection&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const u=e.absorberOrbit.length,h=e.absorberOrbit.angle,y=e.absorberOrbitDirection;e.velocity.setTo(cn.origin);const w={x:"clockwise"===y?Math.cos:Math.sin,y:"clockwise"===y?Math.sin:Math.cos};e.position.x=this.position.x+u*w.x(h),e.position.y=this.position.y+u*w.y(h),e.absorberOrbit.length-=t.length,e.absorberOrbit.angle+=(null!==(i=e.retina.moveSpeed)&&void 0!==i?i:0)*r.retina.pixelRatio/100*r.retina.reduceFactor}else{const u=cn.origin;u.length=t.length,u.angle=t.angle,e.velocity.addTo(u)}}}class T0{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=t=>void 0===t||"number"==typeof t?this.array[t||0]:this.array.find(i=>i.name===t),e.addAbsorber=(t,i)=>this.addAbsorber(t,i)}addAbsorber(e,t){const i=new Qs(this,this.container,e,t);return this.array.push(i),i}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers;if("absorber"===e){const l=Jn(this.interactivityAbsorbers)??Jn(t);this.addAbsorber(l,this.container.interactivity.mouse.clickPosition)}}init(){var e=this;return(0,we.Z)(function*(){e.absorbers=e.container.actualOptions.absorbers,e.interactivityAbsorbers=e.container.actualOptions.interactivity.modes.absorbers,un(e.absorbers,t=>{e.addAbsorber(t)})})()}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class A0{constructor(){this.id="absorbers"}getPlugin(e){return new T0(e)}loadOptions(e,t){var i,r;!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=un(t.absorbers,l=>{const u=new Rr;return u.load(l),u})),e.interactivity.modes.absorbers=un(null===(r=null===(i=t?.interactivity)||void 0===i?void 0:i.modes)||void 0===r?void 0:r.absorbers,l=>{const u=new Rr;return u.load(l),u}))}needsPlugin(e){var t,i,r;if(!e)return!1;const l=e.absorbers;return l instanceof Array?!!l.length:!!l||!(null===(r=null===(i=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===i?void 0:i.onClick)||void 0===r||!r.mode||!En("absorber",e.interactivity.events.onClick.mode))}}function ty(){return(ty=(0,we.Z)(function*(n){const e=new A0;yield n.addPlugin(e)})).apply(this,arguments)}class NC{load(e){e&&(void 0!==e.bottom&&(this.bottom=It(e.bottom)),void 0!==e.left&&(this.left=It(e.left)),void 0!==e.right&&(this.right=It(e.right)),void 0!==e.top&&(this.top=It(e.top)))}}class LC extends Mr{constructor(){super(),this.value=3}}class ny extends Mr{constructor(){super(),this.value={min:4,max:9}}}class kh{constructor(){this.count=1,this.factor=new LC,this.rate=new ny,this.sizeOffset=!0}load(e){var t;e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.count&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=un(e.particles,i=>Tn({},i)),void 0!==e.sizeOffset&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=null!==(t=this.colorOffset)&&void 0!==t?t:{},void 0!==e.colorOffset.h&&(this.colorOffset.h=e.colorOffset.h),void 0!==e.colorOffset.s&&(this.colorOffset.s=e.colorOffset.s),void 0!==e.colorOffset.l&&(this.colorOffset.l=e.colorOffset.l)))}}class FC{constructor(){this.bounds=new NC,this.mode="none",this.split=new kh}load(e){e&&(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}class M0{constructor(e,t){this.engine=e,this.container=t}init(e){const t=this.container,r=e.options.destroy;if(!r)return;e.splitCount=0;const l=r.bounds;e.destroyBounds||(e.destroyBounds={}),l.bottom&&(e.destroyBounds.bottom=He(l.bottom)*t.canvas.size.height/100),l.left&&(e.destroyBounds.left=He(l.left)*t.canvas.size.width/100),l.right&&(e.destroyBounds.right=He(l.right)*t.canvas.size.width/100),l.top&&(e.destroyBounds.top=He(l.top)*t.canvas.size.height/100)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new FC);for(const i of t)e.destroy.load(i?.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&"split"===i.mode&&this.split(e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(void 0!==i.bottom&&t.y>=i.bottom||void 0!==i.left&&t.x<=i.left||void 0!==i.right&&t.x>=i.right||void 0!==i.top&&t.y<=i.top)&&e.destroy()}addSplitParticle(e,t){var i,r,l;const u=e.options.destroy;if(!u)return;const h=u.split,y=xh(this.engine,this.container,e.options),w=Ys(h.factor),D=e.getFillColor();y.color.load(h.color?h.color:h.colorOffset&&D?{value:{hsl:{h:D.h+He(null!==(i=h.colorOffset.h)&&void 0!==i?i:0),s:D.s+He(null!==(r=h.colorOffset.s)&&void 0!==r?r:0),l:D.l+He(null!==(l=h.colorOffset.l)&&void 0!==l?l:0)}}}:{value:{hsl:e.getFillColor()}}),y.move.load({center:{x:e.position.x,y:e.position.y,mode:"precise"}}),"number"==typeof y.size.value?y.size.value/=w:(y.size.value.min/=w,y.size.value.max/=w),y.load(t);const A=h.sizeOffset?It(-e.size.value,e.size.value):0,R={x:e.position.x+di(A),y:e.position.y+di(A)};return this.container.particles.addParticle(R,y,e.group,k=>{var N;return!(k.size.value<.5||(k.velocity.length=di(It(e.velocity.length,k.velocity.length)),k.splitCount=(null!==(N=e.splitCount)&&void 0!==N?N:0)+1,k.unbreakable=!0,setTimeout(()=>{k.unbreakable=!1},500),0))})}split(e){const t=e.options.destroy;if(!t)return;const i=t.split;if(i.count>=0&&(void 0===e.splitCount||e.splitCount++>i.count))return;const r=Ys(i.rate),l=Jn(i.particles);for(let u=0;u<r;u++)this.addSplitParticle(e,l)}}function Dp(){return(Dp=(0,we.Z)(function*(n){yield n.addParticleUpdater("destroy",e=>new M0(n,e))})).apply(this,arguments)}class P0{randomPosition(e,t,i){const[u,h]=[t.width/2,t.height/2],y=((A,R)=>{const k=Ut()/4,N=Math.atan(R/A*Math.tan(2*Math.PI*k)),Y=Ut();return Y<.25?N:Y<.5?Math.PI-N:Y<.75?Math.PI+N:-N})(u,h),w=(k=y,(A=u)*(R=h)/Math.sqrt((R*Math.cos(k))**2+(A*Math.sin(k))**2)),D=i?w*Math.sqrt(Ut()):w;var A,R,k;return{x:e.x+D*Math.cos(y),y:e.y+D*Math.sin(y)}}}class Sp{constructor(){this.wait=!1}load(e){e&&(void 0!==e.count&&(this.count=e.count),void 0!==e.delay&&(this.delay=e.delay),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.wait&&(this.wait=e.wait))}}class BC{constructor(){this.quantity=1,this.delay=.1}load(e){void 0!==e&&(void 0!==e.quantity&&(this.quantity=It(e.quantity)),void 0!==e.delay&&(this.delay=It(e.delay)))}}class iy{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){void 0!==e&&(void 0!==e.mode&&(this.mode=e.mode),void 0!==e.height&&(this.height=e.height),void 0!==e.width&&(this.width=e.width))}}class Ha{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new Sp,this.rate=new BC,this.shape="square",this.startCount=0}load(e){e&&(void 0!==e.autoPlay&&(this.autoPlay=e.autoPlay),void 0!==e.size&&(this.size||(this.size=new iy),this.size.load(e.size)),void 0!==e.direction&&(this.direction=e.direction),this.domId=e.domId,void 0!==e.fill&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=un(e.particles,t=>Tn({},t)),this.rate.load(e.rate),void 0!==e.shape&&(this.shape=e.shape),void 0!==e.position&&(this.position={},void 0!==e.position.x&&(this.position.x=It(e.position.x)),void 0!==e.position.y&&(this.position.y=It(e.position.y))),void 0!==e.spawnColor&&(void 0===this.spawnColor&&(this.spawnColor=new xl),this.spawnColor.load(e.spawnColor)),void 0!==e.startCount&&(this.startCount=e.startCount))}}class x0{constructor(e,t,i,r,l){var u,h,y,w,D,A,R,k;this.emitters=t,this.container=i,this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=l,r instanceof Ha?this.options=r:(this.options=new Ha,this.options.load(r)),this._spawnDelay=1e3*(null!==(u=this.options.life.delay)&&void 0!==u?u:0)/this.container.retina.reduceFactor,this.position=null!==(h=this._initialPosition)&&void 0!==h?h:this.calcPosition(),this.name=this.options.name,this._shape=null===(y=this._engine.emitterShapeManager)||void 0===y?void 0:y.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let N=Tn({},this.options.particles);N??(N={}),null!==(w=N.move)&&void 0!==w||(N.move={}),null!==(D=(k=N.move).direction)&&void 0!==D||(k.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=jc(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=N,this.size=null!==(A=this.options.size)&&void 0!==A?A:(()=>{const Y=new iy;return Y.load({height:0,mode:"percent",width:0}),Y})(),this._lifeCount=null!==(R=this.options.life.count)&&void 0!==R?R:-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{x:(i.x+i.width/2)*e.retina.pixelRatio,y:(i.y+i.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio}}}return{width:"percent"===this.size.mode?e.canvas.size.width*this.size.width/100:this.size.width,height:"percent"===this.size.mode?e.canvas.size.height*this.size.height/100:this.size.height}}pause(){this._paused||delete this._emitDelay}play(){var e;if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(null!==(e=this._spawnDelay)&&void 0!==e?e:0))){if(void 0===this._emitDelay){const t=He(this.options.rate.delay);this._emitDelay=1e3*t/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this.prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&Ih(e,this.container.canvas.size,cn.origin)?e:this.calcPosition()}update(e){var t,i,r;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=null!==(t=this._spawnDelay)&&void 0!==t?t:0,this._currentEmitDelay=null!==(i=this._emitDelay)&&void 0!==i?i:0),this._startParticlesAdded||(this._startParticlesAdded=!0,this.emitParticles(this.options.startCount)),void 0!==this._duration&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),void 0!==this._spawnDelay&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this.calcPosition(),this._spawnDelay=1e3*(null!==(r=this.options.life.delay)&&void 0!==r?r:0)/this.container.retina.reduceFactor):this.destroy(),this._currentDuration-=this._duration,delete this._duration)),void 0!==this._spawnDelay&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),void 0!==this._emitDelay&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this.emit(),this._currentEmitDelay-=this._emitDelay)))}calcPosition(){return ip({size:this.container.canvas.size,position:this.options.position})}destroy(){this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}emit(){if(this._paused)return;const e=He(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var t,i,r;const l=this.getPosition(),u=this.getSize(),h=Jn(this._particlesOptions);for(let y=0;y<e;y++){const w=Tn({},h);if(this.spawnColor){const A=null===(t=this.options.spawnColor)||void 0===t?void 0:t.animation;A&&(this.spawnColor.h=this.setColorAnimation(A.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(A.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(A.l,this.spawnColor.l,100)),w.color?w.color.value=this.spawnColor:w.color={value:this.spawnColor}}if(!l)return;const D=null!==(r=null===(i=this._shape)||void 0===i?void 0:i.randomPosition(l,u,this.fill))&&void 0!==r?r:l;this.container.particles.addParticle(D,w)}}prepareToDie(){var e;if(this._paused)return;const t=null===(e=this.options.life)||void 0===e?void 0:e.duration;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&void 0!==t&&t>0&&(this._duration=1e3*t)}setColorAnimation(e,t,i){var r;const l=this.container;if(!e.enable)return t;const u=di(e.offset),y=1e3*He(this.options.rate.delay)/l.retina.reduceFactor;return(t+He(null!==(r=e.speed)&&void 0!==r?r:0)*l.fpsLimit/y+3.6*u)%i}}class ry{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},t.getEmitter=i=>void 0===i||"number"==typeof i?this.array[i||0]:this.array.find(r=>r.name===i),t.addEmitter=(i,r)=>this.addEmitter(i,r),t.removeEmitter=i=>{const r=t.getEmitter(i);r&&this.removeEmitter(r)},t.playEmitter=i=>{const r=t.getEmitter(i);r&&r.externalPlay()},t.pauseEmitter=i=>{const r=t.getEmitter(i);r&&r.externalPause()}}addEmitter(e,t){const i=new Ha;i.load(e);const r=new x0(this._engine,this,this.container,i,t);return this.array.push(r),r}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if("emitter"!==e)return;let r;if(i&&i.value instanceof Array)if(i.value.length>0&&i.random.enable){r=[];const h=[];for(let y=0;y<i.random.count;y++){const w=rp(i.value);h.includes(w)&&h.length<i.value.length?y--:(h.push(w),r.push(Ch(i.value,w)))}}else r=i.value;else r=i?.value;const u=this.container.interactivity.mouse.clickPosition;un(r??t,h=>{this.addEmitter(h,u)})}init(){var e=this;return(0,we.Z)(function*(){if(e.emitters=e.container.actualOptions.emitters,e.interactivityEmitters=e.container.actualOptions.interactivity.modes.emitters,e.emitters)if(e.emitters instanceof Array)for(const t of e.emitters)e.addEmitter(t);else e.addEmitter(e.emitters)})()}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}const Tp=new Map;class R0{constructor(e){this._engine=e}addShape(e,t){this.getShape(e)||Tp.set(e,t)}getShape(e){return Tp.get(e)}getSupportedShapes(){return Tp.keys()}}function sy(n,e){return n+e*(Ut()-.5)}class O0{randomPosition(e,t,i){if(i)return{x:sy(e.x,t.width),y:sy(e.y,t.height)};{const r=t.width/2,l=t.height/2,u=Math.floor(4*Ut()),h=2*(Ut()-.5);switch(u){case 0:return{x:e.x+h*r,y:e.y-l};case 1:return{x:e.x-r,y:e.y+h*l};case 2:return{x:e.x+h*r,y:e.y+l};default:return{x:e.x+r,y:e.y+h*l}}}}}class k0{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return new ry(this._engine,e)}loadOptions(e,t){var i,r,l,u,h,y;if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=un(t.emitters,D=>{const A=new Ha;return A.load(D),A}));const w=null===(r=null===(i=t?.interactivity)||void 0===i?void 0:i.modes)||void 0===r?void 0:r.emitters;if(w)if(w instanceof Array)e.interactivity.modes.emitters={random:{count:1,enable:!0},value:w.map(D=>{const A=new Ha;return A.load(D),A})};else{const D=w;if(void 0!==D.value)if(D.value instanceof Array)e.interactivity.modes.emitters={random:{count:null!==(l=D.random.count)&&void 0!==l?l:1,enable:null!==(u=D.random.enable)&&void 0!==u&&u},value:D.value.map(A=>{const R=new Ha;return R.load(A),R})};else{const A=new Ha;A.load(D.value),e.interactivity.modes.emitters={random:{count:null!==(h=D.random.count)&&void 0!==h?h:1,enable:null!==(y=D.random.enable)&&void 0!==y&&y},value:A}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Ha}).value.load(w)}}needsPlugin(e){var t,i,r;if(!e)return!1;const l=e.emitters;return l instanceof Array&&!!l.length||void 0!==l||!(null===(r=null===(i=null===(t=e.interactivity)||void 0===t?void 0:t.events)||void 0===i?void 0:i.onClick)||void 0===r||!r.mode)&&En("emitter",e.interactivity.events.onClick.mode)}}function Ap(){return(Ap=(0,we.Z)(function*(n){n.emitterShapeManager||(n.emitterShapeManager=new R0(n)),n.addEmitterShape||(n.addEmitterShape=(t,i)=>{var r;null===(r=n.emitterShapeManager)||void 0===r||r.addShape(t,i)});const e=new k0(n);yield n.addPlugin(e),n.addEmitterShape("circle",new P0),n.addEmitterShape("square",new O0)})).apply(this,arguments)}class L0{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){e&&(void 0!==e.delay&&(this.delay=e.delay),void 0!==e.quantity&&(this.quantity=e.quantity),void 0!==e.particles&&(this.particles=Tn({},e.particles)),void 0!==e.pauseOnStop&&(this.pauseOnStop=e.pauseOnStop))}}class zC extends $o{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){var t=this;return(0,we.Z)(function*(){var i,r,l,u;if(!t.container.retina.reduceFactor)return;const h=t.container,w=h.actualOptions.interactivity.modes.trail;if(!w)return;const D=1e3*w.delay/t.container.retina.reduceFactor;if(t._delay<D&&(t._delay+=e.value),t._delay<D)return;let A=!0;w.pauseOnStop&&(h.interactivity.mouse.position===t._lastPosition||(null===(i=h.interactivity.mouse.position)||void 0===i?void 0:i.x)===(null===(r=t._lastPosition)||void 0===r?void 0:r.x)&&(null===(l=h.interactivity.mouse.position)||void 0===l?void 0:l.y)===(null===(u=t._lastPosition)||void 0===u?void 0:u.y))&&(A=!1),h.interactivity.mouse.position?t._lastPosition={x:h.interactivity.mouse.position.x,y:h.interactivity.mouse.position.y}:delete t._lastPosition,A&&h.particles.push(w.quantity,h.interactivity.mouse,w.particles),t._delay-=D})()}isEnabled(e){var t;const i=this.container,l=i.interactivity.mouse,u=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events;return l.clicking&&l.inside&&!!l.position&&En("trail",u.onClick.mode)||l.inside&&!!l.position&&En("trail",u.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new L0);for(const i of t)e.trail.load(i?.trail)}reset(){}}function oy(){return(oy=(0,we.Z)(function*(n){yield n.addInteractor("externalTrail",e=>new zC(e))})).apply(this,arguments)}class F0{constructor(){this.enable=!1,this.value=0}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.value&&(this.value=It(e.value)))}}class VC{constructor(){this.darken=new F0,this.enable=!1,this.enlighten=new F0,this.mode="vertical",this.speed=25}load(e){e&&(void 0!==e.backColor&&(this.backColor=dn.create(this.backColor,e.backColor)),this.darken.load(e.darken),void 0!==e.enable&&(this.enable=e.enable),this.enlighten.load(e.enlighten),void 0!==e.mode&&(this.mode=e.mode),void 0!==e.speed&&(this.speed=It(e.speed)))}}class $C{getTransformValues(e){var t;const i=(null===(t=e.roll)||void 0===t?void 0:t.enable)&&e.roll,l=i&&i.vertical;return{a:i&&i.horizontal?Math.cos(i.angle):void 0,d:l?Math.sin(i.angle):void 0}}init(e){const t=e.options.roll;if(t?.enable)if(e.roll={enable:t.enable,horizontal:"horizontal"===t.mode||"both"===t.mode,vertical:"vertical"===t.mode||"both"===t.mode,angle:Ut()*Math.PI*2,speed:He(t.speed)/360},t.backColor)e.backColor=jc(t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=Ut()>=.5?"darken":"enlighten";e.roll.alter={type:i,value:He("darken"===i?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:"darken",value:He(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:"enlighten",value:He(t.enlighten.value)});else e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.roll?.enable}loadOptions(e,...t){e.roll||(e.roll=new VC);for(const i of t)e.roll.load(i?.roll)}update(e,t){this.isEnabled(e)&&function jC(n,e){if(!n.roll||!n.options.roll?.enable)return;const r=2*Math.PI;n.roll.angle+=n.roll.speed*e.factor,n.roll.angle>r&&(n.roll.angle-=r)}(e,t)}}function ay(){return(ay=(0,we.Z)(function*(n){yield n.addParticleUpdater("roll",()=>new $C)})).apply(this,arguments)}const GC=n=>{const e=(i,r)=>n.load(i,r);return e.load=(i,r,l)=>{n.loadJSON(i,r).then(u=>{u&&l(u)}).catch(()=>{l(void 0)})},e.setOnClickHandler=i=>{n.setOnClickHandler(i)},{particlesJS:e,pJSDom:n.dom()}};class ZC{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=It(e.speed)),void 0!==e.decay&&(this.decay=It(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class qC extends Mr{constructor(){super(),this.animation=new ZC,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),void 0!==e.direction&&(this.direction=e.direction),this.animation.load(e.animation),void 0!==e.path&&(this.path=e.path))}}class YC{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:He(t.value)*Math.PI/180},e.pathRotation=t.path;let i=t.direction;switch("random"===i&&(i=Math.floor(2*Ut())>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing"}const r=t.animation;r.enable&&(e.rotate.decay=1-He(r.decay),e.rotate.velocity=He(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ut())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return!!t&&!e.destroyed&&!e.spawning&&t.animation.enable&&!t.path}loadOptions(e,...t){e.rotate||(e.rotate=new qC);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){var i,r;this.isEnabled(e)&&(function KC(n,e){var t,i;const r=n.rotate,l=n.options.rotate;if(!r||!l)return;const h=(null!==(t=r.velocity)&&void 0!==t?t:0)*e.factor,y=2*Math.PI,w=null!==(i=r.decay)&&void 0!==i?i:1;l.animation.enable&&("increasing"===r.status?(r.value+=h,r.value>y&&(r.value-=y)):(r.value-=h,r.value<0&&(r.value+=y)),r.velocity&&1!==w&&(r.velocity*=w))}(e,t),e.rotation=null!==(r=null===(i=e.rotate)||void 0===i?void 0:i.value)&&void 0!==r?r:0)}}function ly(){return(ly=(0,we.Z)(function*(n){yield n.addParticleUpdater("rotate",e=>new YC(e))})).apply(this,arguments)}class z0{init(e){var t;const i=e.container,r=e.options,l=r.move.gravity,u=r.move.spin;if(e.gravity={enable:l.enable,acceleration:He(l.acceleration),inverse:l.inverse},u.enable){const h=null!==(t=u.position)&&void 0!==t?t:{x:50,y:50},y={x:h.x/100*i.canvas.size.width,y:h.y/100*i.canvas.size.height},D=hi(e.getPosition(),y),A=He(u.acceleration);e.retina.spinAcceleration=A*i.retina.pixelRatio,e.spin={center:y,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:D,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){var i,r,l,u,h;const y=e.options,w=y.move;if(!w.enable)return;const D=e.container,A=function B0(n){return n.slow.inRange?n.slow.factor:1}(e),R=(null!==(i=(u=e.retina).moveSpeed)&&void 0!==i?i:u.moveSpeed=He(w.speed)*D.retina.pixelRatio)*D.retina.reduceFactor,k=null!==(r=(h=e.retina).moveDrift)&&void 0!==r?r:h.moveDrift=He(e.options.move.drift)*D.retina.pixelRatio,N=Ho(y.size.value)*D.retina.pixelRatio,Re=R*((w.size?e.getRadius()/N:1)*A*(t.factor||1))/2;if(w.spin.enable)!function JC(n,e){const t=n.container;if(!n.spin)return;const i={x:"clockwise"===n.spin.direction?Math.cos:Math.sin,y:"clockwise"===n.spin.direction?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*i.x(n.spin.angle),n.position.y=n.spin.center.y+n.spin.radius*i.y(n.spin.angle),n.spin.radius+=n.spin.acceleration;const r=Math.max(t.canvas.size.width,t.canvas.size.height);n.spin.radius>r/2?(n.spin.radius=r/2,n.spin.acceleration*=-1):n.spin.radius<0&&(n.spin.radius=0,n.spin.acceleration*=-1),n.spin.angle+=e/100*(1-n.spin.radius/r)}(e,Re);else{!function U0(n,e){var t;const r=n.options.move.path;if(!r.enable)return;if(n.lastPathTime<=n.pathDelay)return void(n.lastPathTime+=e.value);const u=null===(t=n.pathGenerator)||void 0===t?void 0:t.generate(n);u&&n.velocity.addTo(u),r.clamp&&(n.velocity.x=vs(n.velocity.x,-1,1),n.velocity.y=vs(n.velocity.y,-1,1)),n.lastPathTime-=n.pathDelay}(e,t);const tt=e.gravity,et=tt?.enable&&tt.inverse?-1:1;tt?.enable&&Re&&(e.velocity.y+=et*(tt.acceleration*t.factor)/(60*Re)),k&&Re&&(e.velocity.x+=k*t.factor/(60*Re));const Yt=e.moveDecay;1!=Yt&&e.velocity.multTo(Yt);const Ht=e.velocity.mult(Re),ni=null!==(l=e.retina.maxSpeed)&&void 0!==l?l:D.retina.maxSpeed;tt?.enable&&ni>0&&(!tt.inverse&&Ht.y>=0&&Ht.y>=ni||tt.inverse&&Ht.y<=0&&Ht.y<=-ni)&&(Ht.y=et*ni,Re&&(e.velocity.y=Ht.y/Re));const Xr=(1-e.zIndexFactor)**e.options.zIndex.velocityRate;1!=Xr&&Ht.multTo(Xr),e.position.addTo(Ht),w.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))}!function XC(n){const e=n.initialPosition,{dx:t,dy:i}=Qi(e,n.position),r=Math.abs(t),l=Math.abs(i),u=n.retina.maxDistance.horizontal,h=n.retina.maxDistance.vertical;if(u||h)if((u&&r>=u||h&&l>=h)&&!n.misplaced)n.misplaced=!!u&&r>u||!!h&&l>h,u&&(n.velocity.x=n.velocity.y/2-n.velocity.x),h&&(n.velocity.y=n.velocity.x/2-n.velocity.y);else if((!u||r<u)&&(!h||l<h)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const y=n.position,w=n.velocity;u&&(y.x<e.x&&w.x<0||y.x>e.x&&w.x>0)&&(w.x*=-Ut()),h&&(y.y<e.y&&w.y<0||y.y>e.y&&w.y>0)&&(w.y*=-Ut())}}(e)}}function Mp(){return(Mp=(0,we.Z)(function*(n){n.addMover("base",()=>new z0)})).apply(this,arguments)}class V0{draw(e,t,i){t.circleRange||(t.circleRange={min:0,max:2*Math.PI});const r=t.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,t){var i;const l=null!==(i=t.shapeData?.angle)&&void 0!==i?i:{max:360,min:0};t.circleRange="object"!=typeof l?{min:0,max:l*Math.PI/180}:{min:l.min*Math.PI/180,max:l.max*Math.PI/180}}}function Pp(){return(Pp=(0,we.Z)(function*(n){yield n.addShape("circle",new V0)})).apply(this,arguments)}function xp(n,e,t,i,r){var l,u;const h=e;if(!h||!t.enable||void 0!==h.loops&&void 0!==h.maxLoops&&h.maxLoops>0&&h.loops>=h.maxLoops)return;const y=di(t.offset),w=(null!==(l=e.velocity)&&void 0!==l?l:0)*n.factor+3.6*y,D=null!==(u=e.decay)&&void 0!==u?u:1;r&&"increasing"!==h.status?(h.value-=w,h.value<0&&(h.loops||(h.loops=0),h.loops++,h.status="increasing",h.value+=h.value)):(h.value+=w,h.value>i&&(h.loops||(h.loops=0),h.loops++,r&&(h.status="decreasing",h.value-=h.value%i))),h.velocity&&1!==D&&(h.velocity*=D),h.value>i&&(h.value%=i)}class W0{constructor(e){this.container=e}init(e){const t=jc(e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=Zv(t,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var t,i,r;const l=e.options.color.animation;return!e.destroyed&&!e.spawning&&(void 0!==(null===(t=e.color)||void 0===t?void 0:t.h.value)&&l.h.enable||void 0!==(null===(i=e.color)||void 0===i?void 0:i.s.value)&&l.s.enable||void 0!==(null===(r=e.color)||void 0===r?void 0:r.l.value)&&l.l.enable)}update(e,t){!function $0(n,e){var t,i,r;const l=n.options.color.animation,u=null===(t=n.color)||void 0===t?void 0:t.h,h=null===(i=n.color)||void 0===i?void 0:i.s,y=null===(r=n.color)||void 0===r?void 0:r.l;u&&xp(e,u,l.h,360,!1),h&&xp(e,h,l.s,100,!0),y&&xp(e,y,l.l,100,!0)}(e,t)}}function cy(){return(cy=(0,we.Z)(function*(n){yield n.addParticleUpdater("color",e=>new W0(e))})).apply(this,arguments)}class eI{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed),void 0!==e.speed&&(this.speed=e.speed))}}class dd extends $o{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const l=this.container.actualOptions.interactivity.modes.attract;if(l&&"attract"===i){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const u of t.attract.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},1e3*l.duration)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,we.Z)(function*(){const t=e.container,l=t.actualOptions.interactivity.events,y=l.onClick.enable,w=l.onClick.mode;t.interactivity.status===za&&l.onHover.enable&&En("attract",l.onHover.mode)?e.hoverAttract():y&&En("attract",w)&&e.clickAttract()})()}isEnabled(e){var t;const i=this.container,l=i.interactivity.mouse,u=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events;if(!(l.position&&u.onHover.enable||l.clickPosition&&u.onClick.enable))return!1;const y=u.onClick.mode;return En("attract",u.onHover.mode)||En("attract",y)}loadModeOptions(e,...t){e.attract||(e.attract=new eI);for(const i of t)e.attract.load(i?.attract)}reset(){}clickAttract(){const e=this.container;if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const t=e.interactivity.mouse.clickPosition,i=e.retina.attractModeDistance;if(!i||i<0||!t)return;this.processAttract(t,i,new Pr(t.x,t.y,i))}else!1===e.attract.clicking&&(e.attract.particles=[])}hoverAttract(){const e=this.container,t=e.interactivity.mouse.position,i=e.retina.attractModeDistance;!i||i<0||!t||this.processAttract(t,i,new Pr(t.x,t.y,i))}processAttract(e,t,i){const r=this.container,l=r.actualOptions.interactivity.modes.attract;if(!l)return;const u=r.particles.quadTree.query(i,h=>this.isEnabled(h));for(const h of u){const{dx:y,dy:w,distance:D}=Qi(h.position,e),A=l.speed*l.factor,R=vs(xm(l.easing)(1-D/t)*A,0,l.maxSpeed),k=cn.create(0===D?A:y/D*R,0===D?A:w/D*R);h.position.subFrom(k)}}}function Nh(){return(Nh=(0,we.Z)(function*(n){yield n.addInteractor("externalAttract",e=>new dd(n,e))})).apply(this,arguments)}class cA{constructor(){this.distance=200}load(e){e&&void 0!==e.distance&&(this.distance=e.distance)}}class G0 extends $o{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,we.Z)(function*(){const t=e.container,r=t.actualOptions.interactivity.events,y=r.onDiv;t.interactivity.status===za&&r.onHover.enable&&En("bounce",r.onHover.mode)?e.processMouseBounce():Dh("bounce",y,(w,D)=>e.singleSelectorBounce(w,D))})()}isEnabled(e){var t;const i=this.container,u=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events,h=u.onDiv;return i.interactivity.mouse.position&&u.onHover.enable&&En("bounce",u.onHover.mode)||Vv("bounce",h)}loadModeOptions(e,...t){e.bounce||(e.bounce=new cA);for(const i of t)e.bounce.load(i?.bounce)}reset(){}processBounce(e,t,i){const r=this.container.particles.quadTree.query(i,l=>this.isEnabled(l));for(const l of r)i instanceof Pr?Fm(op(l),{position:e,radius:t,mass:t**2*Math.PI/2,velocity:cn.origin,factor:cn.origin}):i instanceof xr&&jv(l,zc(e,t))}processMouseBounce(){const e=this.container,r=e.interactivity.mouse.position,l=e.retina.bounceModeDistance;!l||l<0||!r||this.processBounce(r,l,new Pr(r.x,r.y,l+10*e.retina.pixelRatio))}singleSelectorBounce(e,t){const i=this.container,r=document.querySelectorAll(e);r.length&&r.forEach(l=>{const u=l,h=i.retina.pixelRatio,y={x:(u.offsetLeft+u.offsetWidth/2)*h,y:(u.offsetTop+u.offsetHeight/2)*h},w=u.offsetWidth/2*h,D=10*h,A="circle"===t.type?new Pr(y.x,y.y,w+D):new xr(u.offsetLeft*h-D,u.offsetTop*h-D,u.offsetWidth*h+2*D,u.offsetHeight*h+2*D);this.processBounce(y,w,A)})}}function q0(){return(q0=(0,we.Z)(function*(n){yield n.addInteractor("externalBounce",e=>new G0(e))})).apply(this,arguments)}class Et{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.mix&&(this.mix=e.mix),void 0!==e.opacity&&(this.opacity=e.opacity),void 0!==e.color){const t=this.color instanceof Array?void 0:this.color;this.color=un(e.color,i=>dn.create(t,i))}void 0!==e.size&&(this.size=e.size)}}}class tI extends Et{constructor(){super(),this.selectors=[]}get ids(){return un(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=un(e,t=>`#${t}`)}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class nI extends Et{load(e){super.load(e),e&&(this.divs=un(e.divs,t=>{const i=new tI;return i.load(t),i}))}}function K0(n,e,t,i){return e>=t?vs(n+(e-t)*i,n,e):e<t?vs(n-(t-e)*i,e,n):void 0}class hd extends $o{constructor(e){super(e),e.bubble||(e.bubble={}),this.handleClickMode=t=>{"bubble"===t&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,void 0!==t.size&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){var t=this;return(0,we.Z)(function*(){const r=t.container.actualOptions.interactivity.events,l=r.onHover,u=r.onClick,w=u.enable,D=u.mode,A=r.onDiv;l.enable&&En("bubble",l.mode)?t.hoverBubble(e):w&&En("bubble",D)?t.clickBubble(e):Dh("bubble",A,(R,k)=>t.singleSelectorHover(e,R,k))})()}isEnabled(e){var t;const i=this.container,l=i.interactivity.mouse,u=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events,y=Vv("bubble",u.onDiv);if(!(y||u.onHover.enable&&l.position||u.onClick.enable&&l.clickPosition))return!1;const D=u.onClick.mode;return En("bubble",u.onHover.mode)||En("bubble",D)||y}loadModeOptions(e,...t){e.bubble||(e.bubble=new nI);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}clickBubble(e){var t,i;const r=this.container,u=r.interactivity.mouse.clickPosition,h=r.actualOptions.interactivity.modes.bubble;if(!h||!u)return;r.bubble||(r.bubble={});const y=r.retina.bubbleModeDistance;if(!y||y<0)return;const w=r.particles.quadTree.queryCircle(u,y,D=>this.isEnabled(D));for(const D of w){if(!r.bubble.clicking)continue;D.bubble.inRange=!r.bubble.durationEnd;const R=hi(D.getPosition(),u),k=((new Date).getTime()-(r.interactivity.mouse.clickTime||0))/1e3;k>h.duration&&(r.bubble.durationEnd=!0),k>2*h.duration&&(r.bubble.clicking=!1,r.bubble.durationEnd=!1);const N={bubbleObj:{optValue:r.retina.bubbleModeSize,value:D.bubble.radius},particlesObj:{optValue:Ho(D.options.size.value)*r.retina.pixelRatio,value:D.size.value},type:"size"};this.process(D,R,k,N);const Y={bubbleObj:{optValue:h.opacity,value:D.bubble.opacity},particlesObj:{optValue:Ho(D.options.opacity.value),value:null!==(i=null===(t=D.opacity)||void 0===t?void 0:t.value)&&void 0!==i?i:1},type:"opacity"};this.process(D,R,k,Y),r.bubble.durationEnd?delete D.bubble.color:R<=y?this.hoverBubbleColor(D,R):delete D.bubble.color}}hoverBubble(e){const t=this.container,i=t.interactivity.mouse.position,r=t.retina.bubbleModeDistance;if(!r||r<0||void 0===i)return;const l=t.particles.quadTree.queryCircle(i,r,u=>this.isEnabled(u));for(const u of l){u.bubble.inRange=!0;const y=hi(u.getPosition(),i),w=1-y/r;y<=r?w>=0&&t.interactivity.status===za&&(this.hoverBubbleSize(u,w),this.hoverBubbleOpacity(u,w),this.hoverBubbleColor(u,w)):this.reset(u),t.interactivity.status===Gc&&this.reset(u)}}hoverBubbleColor(e,t,i){const l=i??this.container.actualOptions.interactivity.modes.bubble;if(l){if(!e.bubble.finalColor){const u=l.color;if(!u)return;const h=Jn(u);e.bubble.finalColor=jc(h)}if(e.bubble.finalColor)if(l.mix){e.bubble.color=void 0;const u=e.getFillColor();e.bubble.color=u?Bm(cp(u,e.bubble.finalColor,1-t,t)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}hoverBubbleOpacity(e,t,i){var r,l,u,h;const D=null!==(r=i?.opacity)&&void 0!==r?r:null===(l=this.container.actualOptions.interactivity.modes.bubble)||void 0===l?void 0:l.opacity;if(!D)return;const k=K0(null!==(h=null===(u=e.opacity)||void 0===u?void 0:u.value)&&void 0!==h?h:1,D,Ho(e.options.opacity.value),t);void 0!==k&&(e.bubble.opacity=k)}hoverBubbleSize(e,t,i){const r=this.container,l=i?.size?i.size*r.retina.pixelRatio:r.retina.bubbleModeSize;if(void 0===l)return;const u=Ho(e.options.size.value)*r.retina.pixelRatio,y=K0(e.size.value,l,u,t);void 0!==y&&(e.bubble.radius=y)}process(e,t,i,r){const l=this.container,u=r.bubbleObj.optValue,y=l.actualOptions.interactivity.modes.bubble;if(!y||void 0===u)return;const w=y.duration,D=l.retina.bubbleModeDistance,R=r.bubbleObj.value,k=r.particlesObj.value||0,N=r.type;if(D&&!(D<0)&&u!==r.particlesObj.optValue)if(l.bubble||(l.bubble={}),l.bubble.durationEnd)R&&("size"===N&&delete e.bubble.radius,"opacity"===N&&delete e.bubble.opacity);else if(t<=D){if((R??k)!==u){const se=k-i*(k-u)/w;"size"===N&&(e.bubble.radius=se),"opacity"===N&&(e.bubble.opacity=se)}}else"size"===N&&delete e.bubble.radius,"opacity"===N&&delete e.bubble.opacity}singleSelectorHover(e,t,i){const r=this.container,l=document.querySelectorAll(t),u=r.actualOptions.interactivity.modes.bubble;!u||!l.length||l.forEach(h=>{const y=h,w=r.retina.pixelRatio,D={x:(y.offsetLeft+y.offsetWidth/2)*w,y:(y.offsetTop+y.offsetHeight/2)*w},R="circle"===i.type?new Pr(D.x,D.y,y.offsetWidth/2*w):new xr(y.offsetLeft*w,y.offsetTop*w,y.offsetWidth*w,y.offsetHeight*w),k=r.particles.quadTree.query(R,N=>this.isEnabled(N));for(const N of k){if(!R.contains(N.getPosition()))continue;N.bubble.inRange=!0;const se=Lm(u.divs,y);(!N.bubble.div||N.bubble.div!==y)&&(this.clear(N,e,!0),N.bubble.div=y),this.hoverBubbleSize(N,1,se),this.hoverBubbleOpacity(N,1,se),this.hoverBubbleColor(N,1,se)}})}}function fd(){return(fd=(0,we.Z)(function*(n){yield n.addInteractor("externalBubble",e=>new hd(e))})).apply(this,arguments)}class Rp{constructor(){this.opacity=.5}load(e){e&&void 0!==e.opacity&&(this.opacity=e.opacity)}}class Hn{constructor(){this.distance=80,this.links=new Rp,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var t,i;e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(i=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==i?i:e.line_linked),void 0!==e.radius&&(this.radius=e.radius))}}function rI(n,e,t){n.canvas.draw(i=>{var r;const l=function Q0(n,e,t,i){const l=n.actualOptions.interactivity.modes.connect;if(l)return function uA(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),l=e.getFillColor(),u=t.getFillColor();if(!l||!u)return;const h=e.getPosition(),y=t.getPosition(),w=cp(l,u,e.getRadius(),t.getRadius()),D=n.createLinearGradient(h.x,h.y,y.x,y.y);return D.addColorStop(0,$c(l,i)),D.addColorStop(r>1?1:r,Vo(w,i)),D.addColorStop(1,$c(u,i)),D}(e,t,i,l.links.opacity)}(n,i,e,t);if(!l)return;const u=e.getPosition(),h=t.getPosition();!function Y0(n,e,t,i,r){Th(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}(i,null!==(r=e.retina.linksWidth)&&void 0!==r?r:0,l,u,h)})}class X0 extends $o{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){var e=this;return(0,we.Z)(function*(){const t=e.container;if(t.actualOptions.interactivity.events.onHover.enable&&"pointermove"===t.interactivity.status){const r=t.interactivity.mouse.position;if(!t.retina.connectModeDistance||t.retina.connectModeDistance<0||!t.retina.connectModeRadius||t.retina.connectModeRadius<0||!r)return;const l=Math.abs(t.retina.connectModeRadius),u=t.particles.quadTree.queryCircle(r,l,y=>e.isEnabled(y));let h=0;for(const y of u){const w=y.getPosition();for(const D of u.slice(h+1)){const A=D.getPosition(),R=Math.abs(t.retina.connectModeDistance),k=Math.abs(w.x-A.x),N=Math.abs(w.y-A.y);k<R&&N<R&&rI(t,y,D)}++h}}})()}isEnabled(e){var t;const i=this.container,l=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events;return!(!l.onHover.enable||!i.interactivity.mouse.position)&&En("connect",l.onHover.mode)}loadModeOptions(e,...t){e.connect||(e.connect=new Hn);for(const i of t)e.connect.load(i?.connect)}reset(){}}function Op(){return(Op=(0,we.Z)(function*(n){yield n.addInteractor("externalConnect",e=>new X0(e))})).apply(this,arguments)}class eb{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(void 0!==e.blink&&(this.blink=e.blink),void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.opacity&&(this.opacity=e.opacity))}}class sI{constructor(){this.distance=100,this.links=new eb}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var t,i;e&&(void 0!==e.distance&&(this.distance=e.distance),this.links.load(null!==(i=null!==(t=e.links)&&void 0!==t?t:e.lineLinked)&&void 0!==i?i:e.line_linked))}}function aI(n,e,t,i,r){n.canvas.draw(l=>{var u;const h=e.getPosition();!function oI(n,e,t,i,r,l){Th(n,t,i),n.strokeStyle=Vo(r,l),n.lineWidth=e,n.stroke()}(l,null!==(u=e.retina.linksWidth)&&void 0!==u?u:0,h,r,t,i)})}class Lh extends $o{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,we.Z)(function*(){var t,i;const r=e.container,u=r.actualOptions.interactivity;if(!u.modes.grab||!u.events.onHover.enable||r.interactivity.status!==za)return;const h=r.interactivity.mouse.position;if(!h)return;const y=r.retina.grabModeDistance;if(!y||y<0)return;const w=r.particles.quadTree.queryCircle(h,y,D=>e.isEnabled(D));for(const D of w){const R=hi(D.getPosition(),h);if(R>y)continue;const k=u.modes.grab.links,N=k.opacity,Y=N-R*N/y;if(Y<=0)continue;const se=null!==(t=k.color)&&void 0!==t?t:null===(i=D.options.links)||void 0===i?void 0:i.color;if(!r.particles.grabLineColor&&se){const Re=u.modes.grab.links;r.particles.grabLineColor=up(se,Re.blink,Re.consent)}const ve=zm(D,void 0,r.particles.grabLineColor);if(!ve)return;aI(r,D,ve,Y,h)}})()}isEnabled(e){var t;const i=this.container,l=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events;return l.onHover.enable&&!!i.interactivity.mouse.position&&En("grab",l.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new sI);for(const i of t)e.grab.load(i?.grab)}reset(){}}function uy(){return(uy=(0,we.Z)(function*(n){yield n.addInteractor("externalGrab",e=>new Lh(e))})).apply(this,arguments)}class cI extends $o{constructor(e){super(e),this.handleClickMode=t=>{if("pause"!==t)return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}interact(){return(0,we.Z)(function*(){})()}isEnabled(){return!0}reset(){}}class tb{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(!e)return;void 0!==e.default&&(this.default=e.default),void 0!==e.groups&&(this.groups=e.groups.map(r=>r)),this.groups.length||(this.default=!0);const i=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==i&&(this.quantity=i)}}class nb extends $o{constructor(e){super(e),this.handleClickMode=t=>{if("push"!==t)return;const i=this.container,l=i.actualOptions.interactivity.modes.push;if(!l)return;const u=l.quantity;if(u<=0)return;const h=Ch([void 0,...l.groups]);i.particles.push(u,i.interactivity.mouse,void 0!==h?i.actualOptions.particles.groups[h]:void 0,h)}}clear(){}init(){}interact(){return(0,we.Z)(function*(){})()}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new tb);for(const i of t)e.push.load(i?.push)}reset(){}}function dy(){return(dy=(0,we.Z)(function*(n){yield n.addInteractor("externalPush",e=>new nb(e))})).apply(this,arguments)}class Fh{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var t;if(!e)return;const i=null!==(t=e.quantity)&&void 0!==t?t:e.particles_nb;void 0!==i&&(this.quantity=i)}}class Uh extends $o{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;r.interactivity.modes.remove&&"remove"===t&&i.particles.removeQuantity(r.interactivity.modes.remove.quantity)}}clear(){}init(){}interact(){return(0,we.Z)(function*(){})()}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new Fh);for(const i of t)e.remove.load(i?.remove)}reset(){}}class rb{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(void 0!==e.distance&&(this.distance=e.distance),void 0!==e.duration&&(this.duration=e.duration),void 0!==e.easing&&(this.easing=e.easing),void 0!==e.factor&&(this.factor=e.factor),void 0!==e.speed&&(this.speed=e.speed),void 0!==e.maxSpeed&&(this.maxSpeed=e.maxSpeed))}}class dI extends rb{constructor(){super(),this.selectors=[]}get ids(){return un(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=un(e,t=>`#${t}`)}load(e){super.load(e),e&&(void 0!==e.ids&&(this.ids=e.ids),void 0!==e.selectors&&(this.selectors=e.selectors))}}class sb extends rb{load(e){super.load(e),e&&(this.divs=un(e.divs,t=>{const i=new dI;return i.load(t),i}))}}class ob extends $o{constructor(e,t){super(t),this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const l=this.container.actualOptions.interactivity.modes.repulse;if(l&&"repulse"===i){t.repulse||(t.repulse={particles:[]}),t.repulse.clicking=!0,t.repulse.count=0;for(const u of t.repulse.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);t.repulse.particles=[],t.repulse.finish=!1,setTimeout(()=>{t.destroyed||(t.repulse||(t.repulse={particles:[]}),t.repulse.clicking=!1)},1e3*l.duration)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){var e=this;return(0,we.Z)(function*(){const t=e.container,l=t.actualOptions.interactivity.events,y=l.onClick.enable,w=l.onClick.mode,D=l.onDiv;t.interactivity.status===za&&l.onHover.enable&&En("repulse",l.onHover.mode)?e.hoverRepulse():y&&En("repulse",w)?e.clickRepulse():Dh("repulse",D,(A,R)=>e.singleSelectorRepulse(A,R))})()}isEnabled(e){var t;const i=this.container,l=i.interactivity.mouse,u=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events,y=Vv("repulse",u.onDiv);if(!(y||u.onHover.enable&&l.position||u.onClick.enable&&l.clickPosition))return!1;const D=u.onClick.mode;return En("repulse",u.onHover.mode)||En("repulse",D)||y}loadModeOptions(e,...t){e.repulse||(e.repulse=new sb);for(const i of t)e.repulse.load(i?.repulse)}reset(){}clickRepulse(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;if(t)if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const i=e.retina.repulseModeDistance;if(!i||i<0)return;const r=Math.pow(i/6,3),l=e.interactivity.mouse.clickPosition;if(void 0===l)return;const u=new Pr(l.x,l.y,r),h=e.particles.quadTree.query(u,y=>this.isEnabled(y));for(const y of h){const{dx:w,dy:D,distance:A}=Qi(l,y.position),R=A**2,N=-r*t.speed/R;if(R<=r){e.repulse.particles.push(y);const Y=cn.create(w,D);Y.length=N,y.velocity.setTo(Y)}}}else if(!1===e.repulse.clicking){for(const i of e.repulse.particles)i.velocity.setTo(i.initialVelocity);e.repulse.particles=[]}}hoverRepulse(){const e=this.container,t=e.interactivity.mouse.position,i=e.retina.repulseModeDistance;!i||i<0||!t||this.processRepulse(t,i,new Pr(t.x,t.y,i))}processRepulse(e,t,i,r){var l;const u=this.container,h=u.particles.quadTree.query(i,w=>this.isEnabled(w)),y=u.actualOptions.interactivity.modes.repulse;if(y)for(const w of h){const{dx:D,dy:A,distance:R}=Qi(w.position,e),k=(null!==(l=r?.speed)&&void 0!==l?l:y.speed)*y.factor,N=vs(xm(y.easing)(1-R/t)*k,0,y.maxSpeed),Y=cn.create(0===R?k:D/R*N,0===R?k:A/R*N);w.position.addTo(Y)}}singleSelectorRepulse(e,t){const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const l=document.querySelectorAll(e);l.length&&l.forEach(u=>{const h=u,y=i.retina.pixelRatio,w={x:(h.offsetLeft+h.offsetWidth/2)*y,y:(h.offsetTop+h.offsetHeight/2)*y},D=h.offsetWidth/2*y,A="circle"===t.type?new Pr(w.x,w.y,D):new xr(h.offsetLeft*y,h.offsetTop*y,h.offsetWidth*y,h.offsetHeight*y),k=Lm(r.divs,h);this.processRepulse(w,D,A,k)})}}function hy(){return(hy=(0,we.Z)(function*(n){yield n.addInteractor("externalRepulse",e=>new ob(n,e))})).apply(this,arguments)}class lb{constructor(){this.factor=3,this.radius=200}load(e){e&&(void 0!==e.factor&&(this.factor=e.factor),void 0!==e.radius&&(this.radius=e.radius))}}class hI extends $o{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){return(0,we.Z)(function*(){})()}isEnabled(e){var t;const i=this.container,l=(null!==(t=e?.interactivity)&&void 0!==t?t:i.actualOptions.interactivity).events;return l.onHover.enable&&!!i.interactivity.mouse.position&&En("slow",l.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new lb);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,r=t.interactivity.mouse.position,l=t.retina.slowModeRadius,u=t.actualOptions.interactivity.modes.slow;if(!u||!l||l<0||!r)return;const y=hi(r,e.getPosition()),w=y/l,D=u.factor;y<=l&&(e.slow.inRange=!0,e.slow.factor=w/D)}}function cb(){return(cb=(0,we.Z)(function*(n){yield n.addInteractor("externalSlow",e=>new hI(e))})).apply(this,arguments)}const dA=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function ub(n){return Np.apply(this,arguments)}function Np(){return(Np=(0,we.Z)(function*(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,console.error(`Error tsParticles - loading image: ${n.source}`),e()}),t.src=n.source})})).apply(this,arguments)}function Lp(n){return fy.apply(this,arguments)}function fy(){return(fy=(0,we.Z)(function*(n){if("svg"!==n.type)return void(yield ub(n));n.loading=!0;const e=yield fetch(n.source);e.ok||(console.error("Error tsParticles - Image not found"),n.error=!0),n.error||(n.svgData=yield e.text()),n.loading=!1})).apply(this,arguments)}class db{constructor(){this._images=[]}addImage(e,t){this.getImages(e)?.images.push(t)}destroy(){this._images=[]}draw(e,t,i,r){var l;const u=t.image,h=u?.element;if(!h)return;const y=null!==(l=u?.ratio)&&void 0!==l?l:1,w={x:-i,y:-i};e.globalAlpha=r,e.drawImage(h,w.x,w.y,2*i,2*i/y),e.globalAlpha=1}getImages(e){return this._images.find(i=>i.id===e.id)||(this._images.push({id:e.id,images:[]}),this.getImages(e))}getSidesCount(){return 12}loadShape(e){if("image"!==e.shape&&"images"!==e.shape)return;const t=e.container,i=this.getImages(t).images,r=e.shapeData;i.find(u=>u.source===r.src)||this.loadImageShape(t,r).then(()=>{this.loadShape(e)})}particleInit(e,t){var i;if("image"!==t.shape&&"images"!==t.shape)return;const r=this.getImages(e).images,l=t.shapeData,u=t.getFillColor(),h=null!==(i=l.replaceColor)&&void 0!==i?i:l.replace_color,y=r.find(w=>w.source===l.src);if(y){if(y.loading)return void setTimeout(()=>{this.particleInit(e,t)});(0,we.Z)(function*(){var w,D;let A;A=y.svgData&&u?yield function pI(n,e,t,i){var r,l,u;const h=function hA(n,e,t){const{svgData:i}=n;if(!i)return"";const r=$c(e,t);if(i.includes("fill"))return i.replace(dA,()=>r);const l=i.indexOf(">");return`${i.substring(0,l)} fill="${r}"${i.substring(l)}`}(n,t,null!==(l=null===(r=i.opacity)||void 0===r?void 0:r.value)&&void 0!==l?l:1),y={color:t,data:Object.assign(Object.assign({},n),{svgData:h}),loaded:!1,ratio:e.width/e.height,replaceColor:null!==(u=e.replaceColor)&&void 0!==u?u:e.replace_color,source:e.src};return new Promise(w=>{const D=new Blob([h],{type:"image/svg+xml"}),A=URL||window.URL||window.webkitURL||window,R=A.createObjectURL(D),k=new Image;k.addEventListener("load",()=>{y.loaded=!0,y.element=k,w(y),A.revokeObjectURL(R)}),k.addEventListener("error",(0,we.Z)(function*(){A.revokeObjectURL(R);const N=Object.assign(Object.assign({},n),{error:!1,loading:!0});yield ub(N),y.loaded=!0,y.element=N.element,w(y)})),k.src=R})}(y,l,u,t):{color:u,data:y,element:y.element,loaded:!0,ratio:l.width/l.height,replaceColor:h,source:l.src},A.ratio||(A.ratio=1);const N={image:A,fill:null!==(w=l.fill)&&void 0!==w?w:t.fill,close:null!==(D=l.close)&&void 0!==D?D:t.close};t.image=N.image,t.fill=N.fill,t.close=N.close})()}}loadImageShape(e,t){var i=this;return(0,we.Z)(function*(){var r;const l=t.src;if(!l)throw new Error("Error tsParticles - No image.src");try{const u={source:l,type:l.substring(l.length-3),error:!1,loading:!0};i.addImage(e,u),yield((null!==(r=t.replaceColor)&&void 0!==r?r:t.replace_color)?Lp:ub)(u)}catch{throw new Error(`tsParticles error - ${t.src} not found`)}})()}}function py(){return(py=(0,we.Z)(function*(n){yield n.addShape(["image","images"],new db)})).apply(this,arguments)}class gI extends Mr{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class mI extends Mr{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),void 0!==e.sync&&(this.sync=e.sync))}}class yI{constructor(){this.count=0,this.delay=new gI,this.duration=new mI}load(e){e&&(void 0!==e.count&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class fA{constructor(e){this.container=e}init(e){const t=this.container,r=e.options.life;r&&(e.life={delay:t.retina.reduceFactor?He(r.delay.value)*(r.delay.sync?1:Ut())/t.retina.reduceFactor*1e3:0,delayTime:0,duration:t.retina.reduceFactor?He(r.duration.value)*(r.duration.sync?1:Ut())/t.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new yI);for(const i of t)e.life.load(i?.life)}update(e,t){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning){if(i.delayTime+=t.value,!(i.delayTime>=e.life.delay))return;r=!0,e.spawning=!1,i.delayTime=0,i.time=0}if(-1===i.duration||e.spawning||(r?i.time=0:i.time+=t.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,0===e.life.count)return void e.destroy();const l=this.container.canvas.size,u=It(0,l.width),h=It(0,l.width);e.position.x=di(u),e.position.y=di(h),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const y=e.options.life;y&&(i.delay=1e3*He(y.delay.value),i.duration=1e3*He(y.duration.value))}}function Fp(){return(Fp=(0,we.Z)(function*(n){yield n.addParticleUpdater("life",e=>new fA(e))})).apply(this,arguments)}class vI{draw(e,t,i){e.moveTo(-i/2,0),e.lineTo(i/2,0)}getSidesCount(){return 1}}function Yc(){return(Yc=(0,we.Z)(function*(n){yield n.addShape("line",new vI)})).apply(this,arguments)}class EI{constructor(e){this.container=e}init(e){const t=e.options.opacity;e.opacity={enable:t.animation.enable,max:Ho(t.value),min:td(t.value),value:He(t.value),loops:0,maxLoops:He(t.animation.count)};const i=t.animation;if(i.enable){e.opacity.decay=1-He(i.decay),e.opacity.status="increasing";const r=t.value;switch(e.opacity.min=td(r),e.opacity.max=Ho(r),i.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status="increasing";break;case"random":e.opacity.value=di(e.opacity),e.opacity.status=Ut()>=.5?"increasing":"decreasing";break;default:e.opacity.value=e.opacity.max,e.opacity.status="decreasing"}e.opacity.velocity=He(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Ut())}e.opacity.initialValue=e.opacity.value}isEnabled(e){var t,i,r,l;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((null!==(t=e.opacity.maxLoops)&&void 0!==t?t:0)<=0||(null!==(i=e.opacity.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=e.opacity.loops)&&void 0!==r?r:0)<(null!==(l=e.opacity.maxLoops)&&void 0!==l?l:0))}reset(e){e.opacity&&(e.opacity.loops=0)}update(e,t){this.isEnabled(e)&&function hb(n,e){var t,i,r,l,u,h;if(!n.opacity)return;const y=n.opacity.min,w=n.opacity.max,D=null!==(t=n.opacity.decay)&&void 0!==t?t:1;if(!(n.destroyed||!n.opacity.enable||(null!==(i=n.opacity.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=n.opacity.loops)&&void 0!==r?r:0)>(null!==(l=n.opacity.maxLoops)&&void 0!==l?l:0))){switch(n.opacity.status){case"increasing":n.opacity.value>=w?(n.opacity.status="decreasing",n.opacity.loops||(n.opacity.loops=0),n.opacity.loops++):n.opacity.value+=(null!==(u=n.opacity.velocity)&&void 0!==u?u:0)*e.factor;break;case"decreasing":n.opacity.value<=y?(n.opacity.status="increasing",n.opacity.loops||(n.opacity.loops=0),n.opacity.loops++):n.opacity.value-=(null!==(h=n.opacity.velocity)&&void 0!==h?h:0)*e.factor}n.opacity.velocity&&1!==n.opacity.decay&&(n.opacity.velocity*=D),function wI(n,e,t,i){switch(n.options.opacity.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy()}}(n,n.opacity.value,y,w),n.destroyed||(n.opacity.value=vs(n.opacity.value,y,w))}}(e,t)}}function gy(){return(gy=(0,we.Z)(function*(n){yield n.addParticleUpdater("opacity",e=>new EI(e))})).apply(this,arguments)}class my{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,t,i,r){if(!this.modes.includes(r))return;const l=this.container;let u=!1;for(const[,R]of l.plugins)if(void 0!==R.particleBounce&&(u=R.particleBounce(e,i,t)),u)break;if(u)return;const h=e.getPosition(),y=e.offset,w=e.getRadius(),D=zc(h,w),A=l.canvas.size;(function pb(n){if("bounce"!==n.outMode&&"bounce-horizontal"!==n.outMode&&"bounceHorizontal"!==n.outMode&&"split"!==n.outMode)return;n.bounds.right<0?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if("right"===n.direction&&n.bounds.right>=n.canvasSize.width&&e>0||"left"===n.direction&&n.bounds.left<=0&&e<0){const r=Ys(n.particle.options.bounce.horizontal);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=0&&(n.particle.position.x=i),"split"===n.outMode&&n.particle.destroy()})({particle:e,outMode:r,direction:t,bounds:D,canvasSize:A,offset:y,size:w}),function CI(n){if("bounce"!==n.outMode&&"bounce-vertical"!==n.outMode&&"bounceVertical"!==n.outMode&&"split"!==n.outMode)return;n.bounds.bottom<0?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if("bottom"===n.direction&&n.bounds.bottom>=n.canvasSize.height&&e>0||"top"===n.direction&&n.bounds.top<=0&&e<0){const r=Ys(n.particle.options.bounce.vertical);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=0&&(n.particle.position.y=i),"split"===n.outMode&&n.particle.destroy()}({particle:e,outMode:r,direction:t,bounds:D,canvasSize:A,offset:y,size:w})}}class II{constructor(e){this.container=e,this.modes=["destroy"]}update(e,t,i,r){if(!this.modes.includes(r))return;const l=this.container;switch(e.outType){case"normal":case"outside":if(Ih(e.position,l.canvas.size,cn.origin,e.getRadius(),t))return;break;case"inside":{const{dx:u,dy:h}=Qi(e.position,e.moveCenter),{x:y,y:w}=e.velocity;if(y<0&&u>e.moveCenter.radius||w<0&&h>e.moveCenter.radius||y>=0&&u<-e.moveCenter.radius||w>=0&&h<-e.moveCenter.radius)return;break}}l.particles.remove(e,void 0,!0)}}class gb{constructor(e){this.container=e,this.modes=["none"]}update(e,t,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&("left"===t||"right"===t)||e.options.move.distance.vertical&&("top"===t||"bottom"===t))return;const l=e.options.move.gravity,u=this.container,h=u.canvas.size,y=e.getRadius();if(l.enable){const w=e.position;(!l.inverse&&w.y>h.height+y&&"bottom"===t||l.inverse&&w.y<-y&&"top"===t)&&u.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=h.height+y||e.velocity.y<0&&e.position.y>=-y||e.velocity.x>0&&e.position.x<=h.width+y||e.velocity.x<0&&e.position.x>=-y)return;Ih(e.position,u.canvas.size,cn.origin,y,t)||u.particles.remove(e)}}}class mb{constructor(e){this.container=e,this.modes=["out"]}update(e,t,i,r){if(!this.modes.includes(r))return;const l=this.container;switch(e.outType){case"inside":{const{x:u,y:h}=e.velocity,y=cn.origin;y.length=e.moveCenter.radius,y.angle=e.velocity.angle+Math.PI,y.addTo(cn.create(e.moveCenter));const{dx:w,dy:D}=Qi(e.position,y);if(u<=0&&w>=0||h<=0&&D>=0||u>=0&&w<=0||h>=0&&D<=0)return;e.position.x=Math.floor(di({min:0,max:l.canvas.size.width})),e.position.y=Math.floor(di({min:0,max:l.canvas.size.height}));const{dx:A,dy:R}=Qi(e.position,e.moveCenter);e.direction=Math.atan2(-R,-A),e.velocity.angle=e.direction;break}default:if(Ih(e.position,l.canvas.size,cn.origin,e.getRadius(),t))return;switch(e.outType){case"outside":{e.position.x=Math.floor(di({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(di({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:u,dy:h}=Qi(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(h,u),e.velocity.angle=e.direction);break}case"normal":{const u=e.options.move.warp,h=l.canvas.size,y={bottom:h.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:h.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},w=e.getRadius(),D=zc(e.position,w);"right"===t&&D.left>h.width+e.offset.x?(e.position.x=y.left,e.initialPosition.x=e.position.x,u||(e.position.y=Ut()*h.height,e.initialPosition.y=e.position.y)):"left"===t&&D.right<-e.offset.x&&(e.position.x=y.right,e.initialPosition.x=e.position.x,u||(e.position.y=Ut()*h.height,e.initialPosition.y=e.position.y)),"bottom"===t&&D.top>h.height+e.offset.y?(u||(e.position.x=Ut()*h.width,e.initialPosition.x=e.position.x),e.position.y=y.top,e.initialPosition.y=e.position.y):"top"===t&&D.bottom<-e.offset.y&&(u||(e.position.x=Ut()*h.width,e.initialPosition.x=e.position.x),e.position.y=y.bottom,e.initialPosition.y=e.position.y);break}}}}}class DI{constructor(e){this.container=e,this.updaters=[new my(e),new II(e),new mb(e),new gb(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){var i,r,l,u;const h=e.options.move.outModes;this.updateOutMode(e,t,null!==(i=h.bottom)&&void 0!==i?i:h.default,"bottom"),this.updateOutMode(e,t,null!==(r=h.left)&&void 0!==r?r:h.default,"left"),this.updateOutMode(e,t,null!==(l=h.right)&&void 0!==l?l:h.default,"right"),this.updateOutMode(e,t,null!==(u=h.top)&&void 0!==u?u:h.default,"top")}updateOutMode(e,t,i,r){for(const l of this.updaters)l.update(e,r,t,i)}}function yy(){return(yy=(0,we.Z)(function*(n){yield n.addParticleUpdater("outModes",e=>new DI(e))})).apply(this,arguments)}class _y{init(){}isEnabled(e){return!Xi()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions;if(Xi()||!i.interactivity.events.onHover.parallax.enable)return;const r=i.interactivity.events.onHover.parallax.force,l=t.interactivity.mouse.position;if(!l)return;const u_x=t.canvas.size.width/2,u_y=t.canvas.size.height/2,h=i.interactivity.events.onHover.parallax.smooth,y=e.getRadius()/r,w_y=(l.y-u_y)*y;e.offset.x+=((l.x-u_x)*y-e.offset.x)/h,e.offset.y+=(w_y-e.offset.y)/h}}function Up(){return(Up=(0,we.Z)(function*(n){n.addMover("parallax",()=>new _y)})).apply(this,arguments)}class AI extends Oh{constructor(e){super(e)}clear(){}init(){}interact(e){var t=this;return(0,we.Z)(function*(){var i;const r=t.container,l=null!==(i=e.retina.attractDistance)&&void 0!==i?i:r.retina.attractDistance,u=e.getPosition(),h=r.particles.quadTree.queryCircle(u,l);for(const y of h){if(e===y||!y.options.move.attract.enable||y.destroyed||y.spawning)continue;const w=y.getPosition(),{dx:D,dy:A}=Qi(u,w),R=e.options.move.attract.rotate,k=D/(1e3*R.x),N=A/(1e3*R.y),Y=y.size.value/e.size.value,se=1/Y;e.velocity.x-=k*Y,e.velocity.y-=N*Y,y.velocity.x+=k*se,y.velocity.y+=N*se}})()}isEnabled(e){return e.options.move.attract.enable}reset(){}}function vy(){return(vy=(0,we.Z)(function*(n){yield n.addInteractor("particlesAttract",e=>new AI(e))})).apply(this,arguments)}function yb(n,e,t,i,r,l){const u=vs(n.options.collisions.absorb.speed*r.factor/10,0,i);n.size.value+=u/2,t.size.value-=u,i<=l&&(t.size.value=0,t.destroy())}function _b(n,e){Fm(op(n),op(e))}function RI(n,e,t,i){switch(n.options.collisions.mode){case"absorb":!function PI(n,e,t,i){const r=n.getRadius(),l=e.getRadius();void 0===r&&void 0!==l?n.destroy():void 0!==r&&void 0===l?e.destroy():void 0!==r&&void 0!==l&&(r>=l?yb(n,0,e,l,t,i):yb(e,0,n,r,t,i))}(n,e,t,i);break;case"bounce":_b(n,e);break;case"destroy":!function xI(n,e){!n.unbreakable&&!e.unbreakable&&_b(n,e),void 0===n.getRadius()&&void 0!==e.getRadius()?n.destroy():void 0!==n.getRadius()&&void 0===e.getRadius()?e.destroy():void 0!==n.getRadius()&&void 0!==e.getRadius()&&(n.getRadius()>=e.getRadius()?n:e).destroy()}(n,e)}}class vb extends Oh{constructor(e){super(e)}clear(){}init(){}interact(e,t){var i=this;return(0,we.Z)(function*(){const r=i.container,l=e.getPosition(),u=e.getRadius(),h=r.particles.quadTree.queryCircle(l,2*u);for(const y of h){if(e===y||!y.options.collisions.enable||e.options.collisions.mode!==y.options.collisions.mode||y.destroyed||y.spawning)continue;const w=y.getPosition(),D=y.getRadius();Math.abs(Math.round(l.z)-Math.round(w.z))>u+D||(hi(l,w)>u+D||RI(e,y,t,r.retina.pixelRatio))}})()}isEnabled(e){return e.options.collisions.enable}reset(){}}function by(){return(by=(0,we.Z)(function*(n){yield n.addInteractor("particlesCollisions",e=>new vb(e))})).apply(this,arguments)}class OI extends Pr{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize=Object.assign({},r)}contains(e){return!!super.contains(e)||(!!super.contains({x:e.x-this.canvasSize.width,y:e.y})||(!!super.contains({x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height})||super.contains({x:e.x,y:e.y-this.canvasSize.height})))}intersects(e){if(super.intersects(e))return!0;const t=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(void 0!==e.radius){const l=new Pr(r.x,r.y,2*e.radius);return super.intersects(l)}if(void 0!==t.size){const l=new xr(r.x,r.y,2*t.size.width,2*t.size.height);return super.intersects(l)}return!1}}class wb{constructor(){this.blur=5,this.color=new dn,this.color.value="#000",this.enable=!1}load(e){e&&(void 0!==e.blur&&(this.blur=e.blur),this.color=dn.create(this.color,e.color),void 0!==e.enable&&(this.enable=e.enable))}}class kI{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity))}}class NI{constructor(){this.blink=!1,this.color=new dn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new wb,this.triangles=new kI,this.width=1,this.warp=!1}load(e){e&&(void 0!==e.id&&(this.id=e.id),void 0!==e.blink&&(this.blink=e.blink),this.color=dn.create(this.color,e.color),void 0!==e.consent&&(this.consent=e.consent),void 0!==e.distance&&(this.distance=e.distance),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),void 0!==e.width&&(this.width=e.width),void 0!==e.warp&&(this.warp=e.warp))}}function LI(n,e,t,i,r){let l=hi(n,e);return!r||l<=t?l:(l=hi(n,{x:e.x-i.width,y:e.y}),l<=t?l:(l=hi(n,{x:e.x-i.width,y:e.y-i.height}),l<=t||(l=hi(n,{x:e.x,y:e.y-i.height})),l))}class wy extends Oh{constructor(e){super(e),this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}interact(e){var t=this;return(0,we.Z)(function*(){var i;if(!e.options.links)return;e.links=[];const r=e.getPosition(),l=t.container,u=l.canvas.size;if(r.x<0||r.y<0||r.x>u.width||r.y>u.height)return;const h=e.options.links,y=h.opacity,w=null!==(i=e.retina.linksDistance)&&void 0!==i?i:0,D=h.warp,A=D?new OI(r.x,r.y,w,u):new Pr(r.x,r.y,w),R=l.particles.quadTree.query(A);for(const k of R){const N=k.options.links;if(e===k||!N?.enable||h.id!==N.id||k.spawning||k.destroyed||!k.links||-1!==e.links.map(Re=>Re.destination).indexOf(k)||-1!==k.links.map(Re=>Re.destination).indexOf(e))continue;const Y=k.getPosition();if(Y.x<0||Y.y<0||Y.x>u.width||Y.y>u.height)continue;const se=LI(r,Y,w,u,D&&N.warp);if(se>w)return;const ve=(1-se/w)*y;t.setColor(e),e.links.push({destination:k,opacity:ve})}})()}isEnabled(e){var t;return!(null===(t=e.options.links)||void 0===t||!t.enable)}loadParticlesOptions(e,...t){var i,r;e.links||(e.links=new NI);for(const l of t)e.links.load(null!==(r=null!==(i=l?.links)&&void 0!==i?i:l?.lineLinked)&&void 0!==r?r:l?.line_linked)}reset(){}setColor(e){if(!e.options.links)return;const t=this.linkContainer,i=e.options.links;let r=void 0===i.id?t.particles.linksColor:t.particles.linksColors.get(i.id);r||(r=up(i.color,i.blink,i.consent),void 0===i.id?t.particles.linksColor=r:t.particles.linksColors.set(i.id,r))}}function Bp(){return(Bp=(0,we.Z)(function*(n){yield n.addInteractor("particlesLinks",e=>new wy(e))})).apply(this,arguments)}function zp(n,e){const t=function UI(n){return n.sort((e,t)=>e-t),n.join("_")}(n.map(r=>r.id));let i=e.get(t);return void 0===i&&(i=Ut(),e.set(t,i)),i}class BI{constructor(e){this.container=e,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){var i;const r=t.options;if(!t.links||t.links.length<=0)return;const l=t.links.filter(u=>r.links&&this.getLinkFrequency(t,u.destination)<=r.links.frequency);for(const u of l)this.drawTriangles(r,t,u,l),u.opacity>0&&(null!==(i=t.retina.linksWidth)&&void 0!==i?i:0)>0&&this.drawLinkLine(t,u)}init(){var e=this;return(0,we.Z)(function*(){e._freqs.links=new Map,e._freqs.triangles=new Map})()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this.container.retina.pixelRatio;e.retina.linksDistance=e.options.links.distance*t,e.retina.linksWidth=e.options.links.width*t}particleDestroyed(e){e.links=[]}drawLinkLine(e,t){const i=this.container,r=i.actualOptions,l=t.destination,u=e.getPosition(),h=l.getPosition();let y=t.opacity;i.canvas.draw(w=>{var D,A,R;if(!e.options.links)return;let k;const N=null===(D=e.options.twinkle)||void 0===D?void 0:D.lines;if(N?.enable){const ve=N.frequency,Re=bs(N.color);Ut()<ve&&Re&&(k=Re,y=He(N.opacity))}if(!k){const ve=e.options.links,Re=void 0!==ve?.id?i.particles.linksColors.get(ve.id):i.particles.linksColor;k=zm(e,l,Re)}if(!k)return;const Y=null!==(A=e.retina.linksWidth)&&void 0!==A?A:0,se=null!==(R=e.retina.linksDistance)&&void 0!==R?R:0;!function Cy(n,e,t,i,r,l,u,h,y,w,D,A){let R=!1;if(hi(t,i)<=r)Th(n,t,i),R=!0;else if(u){let k,N;const se=Qi(t,{x:i.x-l.width,y:i.y});if(se.distance<=r){const ve=t.y-se.dy/se.dx*t.x;k={x:0,y:ve},N={x:l.width,y:ve}}else{const Re=Qi(t,{x:i.x,y:i.y-l.height});if(Re.distance<=r){const et=-(t.y-Re.dy/Re.dx*t.x)/(Re.dy/Re.dx);k={x:et,y:0},N={x:et,y:l.height}}else{const et=Qi(t,{x:i.x-l.width,y:i.y-l.height});if(et.distance<=r){const Yt=t.y-et.dy/et.dx*t.x;k={x:-Yt/(et.dy/et.dx),y:Yt},N={x:k.x+l.width,y:k.y+l.height}}}}k&&N&&(Th(n,t,k),Th(n,i,N),R=!0)}if(R){if(n.lineWidth=e,h&&(n.globalCompositeOperation=y),n.strokeStyle=Vo(w,D),A.enable){const k=bs(A.color);k&&(n.shadowBlur=A.blur,n.shadowColor=Vo(k))}n.stroke()}}(w,Y,u,h,se,i.canvas.size,e.options.links.warp,r.backgroundMask.enable,r.backgroundMask.composite,k,y,e.options.links.shadow)})}drawLinkTriangle(e,t,i){var r;if(!e.options.links)return;const l=this.container,u=l.actualOptions,h=t.destination,y=i.destination,w=e.options.links.triangles,D=null!==(r=w.opacity)&&void 0!==r?r:(t.opacity+i.opacity)/2;D<=0||l.canvas.draw(A=>{var R;const k=e.getPosition(),N=h.getPosition(),Y=y.getPosition(),se=null!==(R=e.retina.linksDistance)&&void 0!==R?R:0;if(hi(k,N)>se||hi(Y,N)>se||hi(Y,k)>se)return;let ve=bs(w.color);if(!ve){const Re=e.options.links,tt=void 0!==Re?.id?l.particles.linksColors.get(Re.id):l.particles.linksColor;ve=zm(e,h,tt)}ve&&function FI(n,e,t,i,r,l,u,h){(function pC(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()})(n,e,t,i),r&&(n.globalCompositeOperation=l),n.fillStyle=Vo(u,h),n.fill()}(A,k,N,Y,u.backgroundMask.enable,u.backgroundMask.composite,ve,D)})}drawTriangles(e,t,i,r){var l,u,h;const y=i.destination;if(null===(l=e.links)||void 0===l||!l.triangles.enable||null===(u=y.options.links)||void 0===u||!u.triangles.enable)return;const w=null===(h=y.links)||void 0===h?void 0:h.filter(D=>{const A=this.getLinkFrequency(y,D.destination);return y.options.links&&A<=y.options.links.frequency&&r.findIndex(R=>R.destination===D.destination)>=0});if(w?.length)for(const D of w)this.getTriangleFrequency(t,y,D.destination)>e.links.triangles.frequency||this.drawLinkTriangle(t,i,D)}getLinkFrequency(e,t){return zp([e,t],this._freqs.links)}getTriangleFrequency(e,t,i){return zp([e,t,i],this._freqs.triangles)}}class zI{constructor(){this.id="links"}getPlugin(e){return new BI(e)}loadOptions(){}needsPlugin(){return!0}}function Hp(){return(Hp=(0,we.Z)(function*(n){const e=new zI;yield n.addPlugin(e)})).apply(this,arguments)}function Eb(){return Eb=(0,we.Z)(function*(n){yield function Ey(n){return Bp.apply(this,arguments)}(n),yield function pd(n){return Hp.apply(this,arguments)}(n)}),Eb.apply(this,arguments)}class Iy{draw(e,t,i){const r=this.getCenter(t,i),l=this.getSidesData(t,i),u=l.count.numerator*l.count.denominator,h=l.count.numerator/l.count.denominator,w=Math.PI-Math.PI*(180*(h-2)/h)/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let D=0;D<u;D++)e.lineTo(l.length,0),e.translate(l.length,0),e.rotate(w)}}getSidesCount(e){var t,i;const r=e.shapeData;return Math.round(He(null!==(i=null!==(t=r?.sides)&&void 0!==t?t:r?.nb_sides)&&void 0!==i?i:5))}}class Dy extends Iy{getCenter(e,t){return{x:-t/(e.sides/3.5),y:-t/.76}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:2.66*t/(i/3)}}}class VI extends Iy{getCenter(e,t){return{x:-t,y:t/1.66}}getSidesCount(){return 3}getSidesData(e,t){return{count:{denominator:2,numerator:3},length:2*t}}}function Ty(){return(Ty=(0,we.Z)(function*(n){yield n.addShape("polygon",new Dy)})).apply(this,arguments)}function zh(){return(zh=(0,we.Z)(function*(n){yield n.addShape("triangle",new VI)})).apply(this,arguments)}function Vp(){return Vp=(0,we.Z)(function*(n){yield function Sy(n){return Ty.apply(this,arguments)}(n),yield function Cb(n){return zh.apply(this,arguments)}(n)}),Vp.apply(this,arguments)}class jI{init(e){var t;const i=e.container,l=e.options.size.animation;l.enable&&(e.size.velocity=(null!==(t=e.retina.sizeAnimationSpeed)&&void 0!==t?t:i.retina.sizeAnimationSpeed)/100*i.retina.reduceFactor,l.sync||(e.size.velocity*=Ut()))}isEnabled(e){var t,i,r,l;return!e.destroyed&&!e.spawning&&e.size.enable&&((null!==(t=e.size.maxLoops)&&void 0!==t?t:0)<=0||(null!==(i=e.size.maxLoops)&&void 0!==i?i:0)>0&&(null!==(r=e.size.loops)&&void 0!==r?r:0)<(null!==(l=e.size.maxLoops)&&void 0!==l?l:0))}reset(e){e.size.loops=0}update(e,t){this.isEnabled(e)&&function Sb(n,e){var t,i,r,l,u;const h=(null!==(t=n.size.velocity)&&void 0!==t?t:0)*e.factor,y=n.size.min,w=n.size.max,D=null!==(i=n.size.decay)&&void 0!==i?i:1;if(!(n.destroyed||!n.size.enable||(null!==(r=n.size.maxLoops)&&void 0!==r?r:0)>0&&(null!==(l=n.size.loops)&&void 0!==l?l:0)>(null!==(u=n.size.maxLoops)&&void 0!==u?u:0))){switch(n.size.status){case"increasing":n.size.value>=w?(n.size.status="decreasing",n.size.loops||(n.size.loops=0),n.size.loops++):n.size.value+=h;break;case"decreasing":n.size.value<=y?(n.size.status="increasing",n.size.loops||(n.size.loops=0),n.size.loops++):n.size.value-=h}n.size.velocity&&1!==D&&(n.size.velocity*=D),function Db(n,e,t,i){switch(n.options.size.animation.destroy){case"max":e>=i&&n.destroy();break;case"min":e<=t&&n.destroy()}}(n,n.size.value,y,w),n.destroyed||(n.size.value=vs(n.size.value,y,w))}}(e,t)}}function Ay(){return(Ay=(0,we.Z)(function*(n){yield n.addParticleUpdater("size",()=>new jI)})).apply(this,arguments)}const jp=Math.sqrt(2);class Tb{draw(e,t,i){e.rect(-i/jp,-i/jp,2*i/jp,2*i/jp)}getSidesCount(){return 4}}function $p(){return($p=(0,we.Z)(function*(n){const e=new Tb;yield n.addShape(["edge","square"],e)})).apply(this,arguments)}class WI{draw(e,t,i){var r;const l=t.sides,u=null!==(r=t.starInset)&&void 0!==r?r:2;e.moveTo(0,0-i);for(let h=0;h<l;h++)e.rotate(Math.PI/l),e.lineTo(0,0-i*u),e.rotate(Math.PI/l),e.lineTo(0,0-i)}getSidesCount(e){var t,i;const r=e.shapeData;return Math.round(He(null!==(i=null!==(t=r?.sides)&&void 0!==t?t:r?.nb_sides)&&void 0!==i?i:5))}particleInit(e,t){var i;const l=He(null!==(i=t.shapeData?.inset)&&void 0!==i?i:2);t.starInset=l}}function Ab(){return(Ab=(0,we.Z)(function*(n){yield n.addShape("star",new WI)})).apply(this,arguments)}function My(n,e,t,i,r){var l,u;const h=e;if(!h||!h.enable||void 0!==h.loops&&void 0!==h.maxLoops&&h.maxLoops>0&&h.loops>=h.maxLoops)return;const y=di(t.offset),w=(null!==(l=e.velocity)&&void 0!==l?l:0)*n.factor+3.6*y,D=null!==(u=e.decay)&&void 0!==u?u:1;r&&"increasing"!==h.status?(h.value-=w,h.value<0&&(h.loops||(h.loops=0),h.loops++,h.status="increasing",h.value+=h.value)):(h.value+=w,h.value>i&&(h.loops||(h.loops=0),h.loops++,r&&(h.status="decreasing",h.value-=h.value%i))),h.velocity&&1!==D&&(h.velocity*=D),h.value>i&&(h.value%=i)}class qI{constructor(e){this.container=e}init(e){var t,i,r;const l=this.container,u=Jn(e.options.stroke,e.id,e.options.reduceDuplicates);e.strokeWidth=He(u.width)*l.retina.pixelRatio,e.strokeOpacity=He(null!==(t=u.opacity)&&void 0!==t?t:1),e.strokeAnimation=null===(i=u.color)||void 0===i?void 0:i.animation;const h=null!==(r=jc(u.color))&&void 0!==r?r:e.getFillColor();h&&(e.strokeColor=Zv(h,e.strokeAnimation,l.retina.reduceFactor))}isEnabled(e){var t,i,r;return!e.destroyed&&!e.spawning&&!!e.strokeAnimation&&(void 0!==(null===(t=e.strokeColor)||void 0===t?void 0:t.h.value)&&e.strokeColor.h.enable||void 0!==(null===(i=e.strokeColor)||void 0===i?void 0:i.s.value)&&e.strokeColor.s.enable||void 0!==(null===(r=e.strokeColor)||void 0===r?void 0:r.l.value)&&e.strokeColor.l.enable)}update(e,t){this.isEnabled(e)&&function ZI(n,e){if(!n.strokeColor||!n.strokeAnimation)return;const t=n.strokeColor.h;t&&My(e,t,n.strokeAnimation.h,360,!1);const i=n.strokeColor.s;i&&My(e,i,n.strokeAnimation.s,100,!0);const r=n.strokeColor.l;r&&My(e,r,n.strokeAnimation.l,100,!0)}(e,t)}}function Py(){return(Py=(0,we.Z)(function*(n){yield n.addParticleUpdater("strokeColor",e=>new qI(e))})).apply(this,arguments)}const xy=["text","character","char"];class KI{draw(e,t,i,r){var l,u,h;const y=t.shapeData;if(void 0===y)return;const w=y.value;if(void 0===w)return;const D=t;void 0===D.text&&(D.text=Jn(w,t.randomIndexData));const A=D.text,R=null!==(l=y.style)&&void 0!==l?l:"",k=null!==(u=y.weight)&&void 0!==u?u:"400",N=2*Math.round(i),Y=null!==(h=y.font)&&void 0!==h?h:"Verdana",se=t.fill,ve=A.length*i/2;e.font=`${R} ${k} ${N}px "${Y}"`;const Re={x:-ve,y:i/2};e.globalAlpha=r,se?e.fillText(A,Re.x,Re.y):e.strokeText(A,Re.x,Re.y),e.globalAlpha=1}getSidesCount(){return 12}init(e){return(0,we.Z)(function*(){const t=e.actualOptions;if(xy.find(i=>En(i,t.particles.shape.type))){const i=xy.map(l=>t.particles.shape.options[l]).find(l=>!!l),r=[];un(i,l=>{r.push(function dC(n,e){return Nm.apply(this,arguments)}(l.font,l.weight))}),yield Promise.all(r)}})()}}function Ry(){return(Ry=(0,we.Z)(function*(n){yield n.addShape(xy,new KI)})).apply(this,arguments)}function Oy(){return Oy=(0,we.Z)(function*(n){yield function H0(n){return Mp.apply(this,arguments)}(n),yield function TI(n){return Up.apply(this,arguments)}(n),yield function lA(n){return Nh.apply(this,arguments)}(n),yield function Z0(n){return q0.apply(this,arguments)}(n),yield function iI(n){return fd.apply(this,arguments)}(n),yield function J0(n){return Op.apply(this,arguments)}(n),yield function lI(n){return uy.apply(this,arguments)}(n),yield function kp(n){n.addInteractor("externalPause",e=>new cI(e))}(n),yield function ib(n){return dy.apply(this,arguments)}(n),yield function uI(n){n.addInteractor("externalRemove",e=>new Uh(e))}(n),yield function ab(n){return hy.apply(this,arguments)}(n),yield function fI(n){return cb.apply(this,arguments)}(n),yield function MI(n){return vy.apply(this,arguments)}(n),yield function bb(n){return by.apply(this,arguments)}(n),yield function HI(n){return Eb.apply(this,arguments)}(n),yield function j0(n){return Pp.apply(this,arguments)}(n),yield function Bh(n){return py.apply(this,arguments)}(n),yield function bI(n){return Yc.apply(this,arguments)}(n),yield function Ib(n){return Vp.apply(this,arguments)}(n),yield function pA(n){return $p.apply(this,arguments)}(n),yield function GI(n){return Ab.apply(this,arguments)}(n),yield function YI(n){return Ry.apply(this,arguments)}(n),yield function _I(n){return Fp.apply(this,arguments)}(n),yield function fb(n){return gy.apply(this,arguments)}(n),yield function $I(n){return Ay.apply(this,arguments)}(n),yield function QC(n){return ly.apply(this,arguments)}(n),yield function Kc(n){return cy.apply(this,arguments)}(n),yield function Mb(n){return Py.apply(this,arguments)}(n),yield function SI(n){return yy.apply(this,arguments)}(n),yield GC(n)}),Oy.apply(this,arguments)}class XI{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed&&(this.speed=It(e.speed)),void 0!==e.decay&&(this.decay=It(e.decay)),void 0!==e.sync&&(this.sync=e.sync))}}class Hh extends Mr{constructor(){super(),this.animation=new XI,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),void 0!==e.direction&&(this.direction=e.direction),void 0!==e.enable&&(this.enable=e.enable))}}class xb{constructor(e){this.container=e}getTransformValues(e){var t;const i=(null===(t=e.tilt)||void 0===t?void 0:t.enable)&&e.tilt;return{b:i?Math.cos(i.value)*i.cosDirection:void 0,c:i?Math.sin(i.value)*i.sinDirection:void 0}}init(e){var t;const i=e.options.tilt;if(!i)return;e.tilt={enable:i.enable,value:He(i.value)*Math.PI/180,sinDirection:Ut()>=.5?1:-1,cosDirection:Ut()>=.5?1:-1};let r=i.direction;switch("random"===r&&(r=Math.floor(2*Ut())>0?"counter-clockwise":"clockwise"),r){case"counter-clockwise":case"counterClockwise":e.tilt.status="decreasing";break;case"clockwise":e.tilt.status="increasing"}const l=null===(t=e.options.tilt)||void 0===t?void 0:t.animation;l?.enable&&(e.tilt.decay=1-He(l.decay),e.tilt.velocity=He(l.speed)/360*this.container.retina.reduceFactor,l.sync||(e.tilt.velocity*=Ut()))}isEnabled(e){var t;const i=null===(t=e.options.tilt)||void 0===t?void 0:t.animation;return!e.destroyed&&!e.spawning&&!!i?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new Hh);for(const i of t)e.tilt.load(i?.tilt)}update(e,t){this.isEnabled(e)&&function Pb(n,e){var t,i;if(!n.tilt||!n.options.tilt)return;const u=(null!==(t=n.tilt.velocity)&&void 0!==t?t:0)*e.factor,h=2*Math.PI,y=null!==(i=n.tilt.decay)&&void 0!==i?i:1;n.options.tilt.animation.enable&&("increasing"===n.tilt.status?(n.tilt.value+=u,n.tilt.value>h&&(n.tilt.value-=h)):(n.tilt.value-=u,n.tilt.value<0&&(n.tilt.value+=h)),n.tilt.velocity&&1!==y&&(n.tilt.velocity*=y))}(e,t)}}function Wp(){return(Wp=(0,we.Z)(function*(n){yield n.addParticleUpdater("tilt",e=>new xb(e))})).apply(this,arguments)}class ky{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){e&&(void 0!==e.color&&(this.color=dn.create(this.color,e.color)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.frequency&&(this.frequency=e.frequency),void 0!==e.opacity&&(this.opacity=It(e.opacity)))}}class Ob{constructor(){this.lines=new ky,this.particles=new ky}load(e){e&&(this.lines.load(e.lines),this.particles.load(e.particles))}}class JI{getColorStyles(e,t,i,r){const u=e.options.twinkle;if(!u)return{};const h=u.particles,y=h.enable&&Ut()<h.frequency,D=(1-e.zIndexFactor)**e.options.zIndex.opacityRate,A=y?He(h.opacity)*D:r,R=jc(h.color),k=R?$c(R,A):void 0,N={},Y=y&&k;return N.fill=Y?k:void 0,N.stroke=Y?k:void 0,N}init(){}isEnabled(e){const i=e.options.twinkle;return!!i&&i.particles.enable}loadOptions(e,...t){e.twinkle||(e.twinkle=new Ob);for(const i of t)e.twinkle.load(i?.twinkle)}update(){}}function Gp(){return(Gp=(0,we.Z)(function*(n){yield n.addParticleUpdater("twinkle",()=>new JI)})).apply(this,arguments)}class eD{constructor(){this.angle=50,this.move=10}load(e){e&&(void 0!==e.angle&&(this.angle=It(e.angle)),void 0!==e.move&&(this.move=It(e.move)))}}class tD{constructor(){this.distance=5,this.enable=!1,this.speed=new eD}load(e){if(e&&(void 0!==e.distance&&(this.distance=It(e.distance)),void 0!==e.enable&&(this.enable=e.enable),void 0!==e.speed))if("number"==typeof e.speed)this.speed.load({angle:e.speed});else{const t=e.speed;this.speed.load(void 0!==t.min?{angle:t}:e.speed)}}}class iD{constructor(e){this.container=e}init(e){var t;const i=e.options.wobble;e.wobble=i?.enable?{angle:Ut()*Math.PI*2,angleSpeed:He(i.speed.angle)/360,moveSpeed:He(i.speed.move)/10}:{angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=He(null!==(t=i?.distance)&&void 0!==t?t:0)*this.container.retina.pixelRatio}isEnabled(e){var t;return!e.destroyed&&!e.spawning&&!(null===(t=e.options.wobble)||void 0===t||!t.enable)}loadOptions(e,...t){e.wobble||(e.wobble=new tD);for(const i of t)e.wobble.load(i?.wobble)}update(e,t){this.isEnabled(e)&&function nD(n,e){var t;if(!n.options.wobble?.enable||!n.wobble)return;const u=n.wobble.moveSpeed*e.factor*((null!==(t=n.retina.wobbleDistance)&&void 0!==t?t:0)*e.factor)/(1e3/60),h=2*Math.PI;n.wobble.angle+=n.wobble.angleSpeed*e.factor,n.wobble.angle>h&&(n.wobble.angle-=h),n.position.x+=u*Math.cos(n.wobble.angle),n.position.y+=u*Math.abs(Math.sin(n.wobble.angle))}(e,t)}}function Ny(){return(Ny=(0,we.Z)(function*(n){yield n.addParticleUpdater("wobble",e=>new iD(e))})).apply(this,arguments)}function Zp(n){return Es.apply(this,arguments)}function Es(){return Es=(0,we.Z)(function*(n){yield function QI(n){return Oy.apply(this,arguments)}(n),yield function UC(n){return Dp.apply(this,arguments)}(n),yield function WC(n){return ay.apply(this,arguments)}(n),yield function Rb(n){return Wp.apply(this,arguments)}(n),yield function gA(n){return Gp.apply(this,arguments)}(n),yield function Vh(n){return Ny.apply(this,arguments)}(n),yield function HC(n){return oy.apply(this,arguments)}(n),yield function kC(n){return ty.apply(this,arguments)}(n),yield function N0(n){return Ap.apply(this,arguments)}(n)}),Es.apply(this,arguments)}class qp{}class jh{}class Kr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),l=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Kr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Kr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Kr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const l=e.value;if(l){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===l.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rD{encodeKey(e){return kb(e)}encodeValue(e){return kb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Kp=/%(\d[a-f0-9])/gi,Yp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kb(n){return encodeURIComponent(n).replace(Kp,(e,t)=>Yp[t]??e)}function Qp(n){return`${n}`}class Va{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rD,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sD(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[u,h]=-1==l?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,l)),e.decodeValue(r.slice(l+1))],y=t.get(u)||[];y.push(h),t.set(u,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Qp):[Qp(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(l=>{t.push({param:i,value:l,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Va({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Qp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Qp(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ly{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Xp(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Jp(n){return typeof Blob<"u"&&n instanceof Blob}function Fy(n){return typeof FormData<"u"&&n instanceof FormData}class Qc{constructor(e,t,i,r){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Nb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Kr),this.context||(this.context=new Ly),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Va,this.urlWithParams=t}serializeBody(){return null===this.body?null:Xp(this.body)||Jp(this.body)||Fy(this.body)||function Uy(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Va?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fy(this.body)?null:Jp(this.body)?this.body.type||null:Xp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Va?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,w=e.params||this.params;const D=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((A,R)=>A.set(R,e.setHeaders[R]),y)),e.setParams&&(w=Object.keys(e.setParams).reduce((A,R)=>A.set(R,e.setParams[R]),w)),new Qc(t,i,l,{params:w,headers:y,context:D,reportProgress:h,responseType:r,withCredentials:u})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class By{constructor(e,t=200,i="OK"){this.headers=e.headers||new Kr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zy extends By{constructor(e={}){super(e),this.type=ei.ResponseHeader}clone(e={}){return new zy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eg extends By{constructor(e={}){super(e),this.type=ei.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new eg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Hy extends By{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $h(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let tg=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let l;if(t instanceof Qc)l=t;else{let y,w;y=r.headers instanceof Kr?r.headers:new Kr(r.headers),r.params&&(w=r.params instanceof Va?r.params:new Va({fromObject:r.params})),l=new Qc(t,i,void 0!==r.body?r.body:null,{headers:y,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=ot(l).pipe(fs(y=>this.handler.handle(y)));if(t instanceof Qc||"events"===r.observe)return u;const h=u.pipe(cr(y=>y instanceof eg));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return h.pipe((0,G.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return h.pipe((0,G.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return h.pipe((0,G.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return h.pipe((0,G.U)(y=>y.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Va).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,$h(r,i))}post(t,i,r={}){return this.request("POST",t,$h(r,i))}put(t,i,r={}){return this.request("PUT",t,$h(r,i))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(qp))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function Vy(n,e){return e(n)}function Lb(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const aD=new m.OlP("HTTP_INTERCEPTORS"),gd=new m.OlP("HTTP_INTERCEPTOR_FNS");function Ub(){let n=null;return(e,t)=>(null===n&&(n=((0,m.f3M)(aD,{optional:!0})??[]).reduceRight(Lb,Vy)),n(e,t))}let Bb=(()=>{class n extends qp{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(gd)));this.chain=i.reduceRight((r,l)=>function Fb(n,e,t){return(i,r)=>t.runInContext(()=>e(i,l=>n(l,r)))}(r,l,this.injector),Vy)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(jh),m.LFG(m.lqb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const cD=/^\)\]\}',?\n/;let Hb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Fi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((k,N)=>r.setRequestHeader(k,N.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&r.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();r.responseType="json"!==k?k:"text"}const l=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const k=r.statusText||"OK",N=new Kr(r.getAllResponseHeaders()),Y=function $y(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new zy({headers:N,status:r.status,statusText:k,url:Y}),u},y=()=>{let{headers:k,status:N,statusText:Y,url:se}=h(),ve=null;204!==N&&(ve=typeof r.response>"u"?r.responseText:r.response),0===N&&(N=ve?200:0);let Re=N>=200&&N<300;if("json"===t.responseType&&"string"==typeof ve){const tt=ve;ve=ve.replace(cD,"");try{ve=""!==ve?JSON.parse(ve):null}catch(et){ve=tt,Re&&(Re=!1,ve={error:et,text:ve})}}Re?(i.next(new eg({body:ve,headers:k,status:N,statusText:Y,url:se||void 0})),i.complete()):i.error(new Hy({error:ve,headers:k,status:N,statusText:Y,url:se||void 0}))},w=k=>{const{url:N}=h(),Y=new Hy({error:k,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(Y)};let D=!1;const A=k=>{D||(i.next(h()),D=!0);let N={type:ei.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),"text"===t.responseType&&r.responseText&&(N.partialText=r.responseText),i.next(N)},R=k=>{let N={type:ei.UploadProgress,loaded:k.loaded};k.lengthComputable&&(N.total=k.total),i.next(N)};return r.addEventListener("load",y),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",A),null!==l&&r.upload&&r.upload.addEventListener("progress",R)),r.send(l),i.next({type:ei.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",y),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",A),null!==l&&r.upload&&r.upload.removeEventListener("progress",R)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Ql))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();const ig=new m.OlP("XSRF_ENABLED"),Vb=new m.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rg=new m.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wy{}let jb=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=qn(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te),m.LFG(m.Lbi),m.LFG(Vb))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();function sg(n,e){const t=n.url.toLowerCase();if(!(0,m.f3M)(ig)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,m.f3M)(Wy).getToken(),r=(0,m.f3M)(rg);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var ti=(()=>((ti=ti||{})[ti.Interceptors=0]="Interceptors",ti[ti.LegacyInterceptors=1]="LegacyInterceptors",ti[ti.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ti[ti.NoXsrfProtection=3]="NoXsrfProtection",ti[ti.JsonpSupport=4]="JsonpSupport",ti[ti.RequestsMadeViaParent=5]="RequestsMadeViaParent",ti))();function Xc(n,e){return{\u0275kind:n,\u0275providers:e}}function hD(...n){const e=[tg,Hb,Bb,{provide:qp,useExisting:Bb},{provide:jh,useExisting:Hb},{provide:gd,useValue:sg,multi:!0},{provide:ig,useValue:!0},{provide:Wy,useClass:jb}];for(const t of n)e.push(...t.\u0275providers);return(0,m.MR2)(e)}const Jc=new m.OlP("LEGACY_INTERCEPTOR_FN");let mD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:[hD(Xc(ti.LegacyInterceptors,[{provide:Jc,useFactory:Ub},{provide:gd,useExisting:Jc,multi:!0}]))]}),n})();var Gy=F(5032);function Zy(n){return(0,Di.e)((e,t)=>{(0,Bi.Xf)(n).subscribe((0,at.x)(t,()=>t.complete(),Gy.Z)),!t.closed&&e.subscribe(t)})}class Gb{}class Zb{}const Zo="*";function yD(n,e){return{type:7,name:n,definitions:e,options:{}}}function qb(n,e=null){return{type:4,styles:e,timings:n}}function Kb(n,e=null){return{type:2,steps:n,options:e}}function md(n){return{type:6,styles:n,offset:null}}function Yb(n,e,t){return{type:0,name:n,styles:e,options:t}}function qy(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function wD(n){Promise.resolve().then(n)}class og{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class ED{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const l=this.players.length;0==l?wD(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==l&&this._onFinish()}),u.onDestroy(()=>{++i==l&&this._onDestroy()}),u.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Qb="!",TA=["overlay"];function AA(n,e){1&n&&m._UZ(0,"div")}function MA(n,e){if(1&n&&(m.TgZ(0,"div"),m.YNc(1,AA,1,0,"div",6),m.qZA()),2&n){const t=m.oxw(2);m.Tol(t.spinner.class),m.Udp("color",t.spinner.color),m.xp6(1),m.Q6J("ngForOf",t.spinner.divArray)}}function ag(n,e){if(1&n&&(m._UZ(0,"div",7),m.ALo(1,"safeHtml")),2&n){const t=m.oxw(2);m.Q6J("innerHTML",m.lcZ(1,1,t.template),m.oJD)}}function PA(n,e){if(1&n&&(m.TgZ(0,"div",1,2),m.YNc(2,MA,2,5,"div",3),m.YNc(3,ag,2,3,"div",4),m.TgZ(4,"div",5),m.Hsn(5),m.qZA()()),2&n){const t=m.oxw();m.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),m.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),m.xp6(2),m.Q6J("ngIf",!t.template),m.xp6(1),m.Q6J("ngIf",t.template),m.xp6(1),m.Udp("z-index",t.spinner.zIndex)}}const Xb=["*"],lg={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},ug="primary";class yd{constructor(e){Object.assign(this,e)}static create(e){return!e?.template&&(null==e?.type||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new yd(e)}}let Gh=(()=>{class n{constructor(){this.spinnerObservable=new Yi(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe(cr(i=>i&&i.name===t))}show(t=ug,i){return new Promise((r,l)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=t,this.spinnerObservable.next(new yd({...i,show:!0})),r(!0)):(this.spinnerObservable.next(new yd({name:t,show:!0})),r(!0))},10)})}hide(t=ug,i=10){return new Promise((r,l)=>{setTimeout(()=>{this.spinnerObservable.next(new yd({name:t,show:!1})),r(!0)},i)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ky=new m.OlP("NGX_SPINNER_CONFIG");let CD=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Vs,16))},n.\u0275pipe=m.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),Yy=(()=>{class n{constructor(t,i,r,l){this.spinnerService=t,this.changeDetector=i,this.elementRef=r,this.globalConfig=l,this.disableAnimation=!1,this.spinner=new yd,this.ngUnsubscribe=new Bn.x,this.setDefaultOptions=()=>{const{type:u}=this.globalConfig??{};this.spinner=yd.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??u,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=ug,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Zy(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const i in t)if(i){const r=t[i];if(r.isFirstChange())return;typeof r.currentValue<"u"&&r.currentValue!==r.previousValue&&""!==r.currentValue&&(this.spinner[i]=r.currentValue,"showSpinner"===i&&(r.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(t,i){this.spinner.divCount=lg[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((l,u)=>u);let r="";switch(i.toLowerCase()){case"small":r="la-sm";break;case"medium":r="la-2x";break;case"large":r="la-3x"}return"la-"+t+" "+r}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(Gh),m.Y36(m.sBO),m.Y36(m.SBq),m.Y36(Ky,8))},n.\u0275cmp=m.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,i){if(1&t&&m.Gf(TA,5),2&t){let r;m.iGM(r=m.CRH())&&(i.spinnerDOM=r.first)}},hostBindings:function(t,i){1&t&&m.NdJ("keydown",function(l){return i.handleKeyboardEvent(l)},!1,m.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[m.TTD],ngContentSelectors:Xb,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,i){1&t&&(m.F$t(),m.YNc(0,PA,6,12,"div",0)),2&t&&m.Q6J("ngIf",i.spinner.show)},dependencies:[Gi,Lr,CD],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[yD("fadeIn",[Yb("in",md({opacity:1})),qy(":enter",[md({opacity:0}),qb(300)]),qy(":leave",qb(200,md({opacity:0})))])]},changeDetection:0}),n})(),xA=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Ky,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({imports:[Ya]}),n})();var ID=F(4986),Qy=F(6451),Jb=F(3099);function DD(n,e){return n===e}var qo=F(2122),Xs=F(2011),SD=(F(8971),F(3942)),_d=F(4859),eu=F(9681),U=F(2090),Zh=F(1877);const TD="@firebase/database";let Xy="";function hg(n){Xy=n}class AD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class NA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Yr=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new AD(e)}}catch{}return new NA},tu=Yr("localStorage"),qh=Yr("sessionStorage"),vd=new Zh.Yd("@firebase/database"),ew=function(){let n=1;return function(){return n++}}(),fg=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const i=t.digest();return U.US.encodeByteArray(i)},bd=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=bd.apply(null,i):e+="object"==typeof i?(0,U.Wl)(i):i,e+=" "}return e};let kl=null,tw=!0;const Jy=function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(vd.logLevel=Zh.in.VERBOSE,kl=vd.log.bind(vd),e&&qh.set("logging_enabled",!0)):"function"==typeof n?kl=n:(kl=null,qh.remove("logging_enabled"))},pi=function(...n){if(!0===tw&&(tw=!1,null===kl&&!0===qh.get("logging_enabled")&&Jy(!0)),kl){const e=bd.apply(null,n);kl(e)}},Kh=function(n){return function(...e){pi(n,...e)}},pg=function(...n){const e="FIREBASE INTERNAL ERROR: "+bd(...n);vd.error(e)},Ko=function(...n){const e=`FIREBASE FATAL ERROR: ${bd(...n)}`;throw vd.error(e),new Error(e)},Ti=function(...n){const e="FIREBASE WARNING: "+bd(...n);vd.warn(e)},Yh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},er="[MIN_NAME]",ja="[MAX_NAME]",wd=function(n,e){if(n===e)return 0;if(n===er||e===ja)return-1;if(e===er||n===ja)return 1;{const t=i_(n),i=i_(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},MD=function(n,e){return n===e?0:n<e?-1:1},Qh=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(e))},t_=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,U.Wl)(e[i]),t+=":",t+=t_(n[e[i]]);return t+="}",t},nw=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function gi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const PD=function(n){(0,U.hu)(!Yh(n),"Invalid JSON number");const i=1023;let r,l,u,h,y;0===n?(l=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=h+i,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(l=0,u=Math.round(n/Math.pow(2,-1074))));const w=[];for(y=52;y;y-=1)w.push(u%2?1:0),u=Math.floor(u/2);for(y=11;y;y-=1)w.push(l%2?1:0),l=Math.floor(l/2);w.push(r?1:0),w.reverse();const D=w.join("");let A="";for(y=0;y<64;y+=8){let R=parseInt(D.substr(y,8),2).toString(16);1===R.length&&(R="0"+R),A+=R}return A.toLowerCase()},LA=new RegExp("^-?(0*)\\d{1,10}$"),i_=function(n){if(LA.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},nu=function(n){try{n()}catch(e){setTimeout(()=>{throw Ti("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ow=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ed=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class gg{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mg{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(pi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ti(e)}}let Cd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const r_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ND="websocket",LD="long_polling";class uw{constructor(e,t,i,r,l=!1,u="",h=!1,y=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=tu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&tu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function FD(n,e,t){let i;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===ND)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==LD)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function FA(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return gi(t,(l,u)=>{r.push(l+"="+u)}),i+r.join("&")}class UD{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const Id={},o_={};function a_(n){const e=n.toString();return Id[e]||(Id[e]=new UD),Id[e]}class iu{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&nu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class $a{constructor(e,t,i,r,l,u,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=l,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kh(e),this.stats_=a_(t),this.urlFn=y=>(this.appCheckToken&&(y.ac=this.appCheckToken),FD(t,LD,y))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new iu(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bg((...l)=>{const[u,h,y,w,D]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=y;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[u,h]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$a.forceAllow_=!0}static forceDisallow(){$a.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!$a.forceAllow_&&($a.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,U.h$)(t),r=nw(i,1840);for(let l=0;l<r.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[l]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class bg{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ew(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=bg.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){pi("frame writing exception"),h.stack&&pi(h.stack),pi(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pi("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{pi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Jh=null;typeof MozWebSocket<"u"?Jh=MozWebSocket:typeof WebSocket<"u"&&(Jh=WebSocket);let Ll=(()=>{class n{constructor(t,i,r,l,u,h,y){this.connId=t,this.applicationId=r,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kh(this.connId),this.stats_=a_(i),this.connURL=n.connectionURL_(i,h,y,l,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,l,u){const h={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),l&&(h.ac=l),u&&(h.p=u),FD(t,ND,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,tu.set("previous_websocket_failure",!0);try{let r;if((0,U.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Xy}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new Jh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const l=r.message||r.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const l=r.message||r.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Jh&&!n.forceDisallow_}static previouslyFailed(){return tu.isInMemoryStorage||!0===tu.get("previous_websocket_failure")}markConnectionHealthy(){tu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,U.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,U.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=nw(i,16384);r.length>1&&this.sendString_(String(r.length));for(let l=0;l<r.length;l++)this.sendString_(r[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),$D=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[$a,Ll]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Ll&&Ll.isAvailable();let r=i&&!Ll.previouslyFailed();if(t.webSocketOnly&&(i||Ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ll];else{const l=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class vw{constructor(e,t,i,r,l,u,h,y,w,D){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=l,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=y,this.onKill_=w,this.lastSessionId=D,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kh("c:"+this.id+":"),this.transportManager_=new $D(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ed(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Qh("t",e),i=Qh("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Qh("t",e),i=Qh("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Qh("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?pg("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pg("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Ed(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ed(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(tu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class eS{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class tS{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let l=0;l<r.length;l++)if(r[l].callback===t&&(!i||i===r[l].context))return void r.splice(l,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class h_ extends tS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new h_}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const nS=32,iS=768;class tn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function s(){return new tn("")}function o(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function a(n){return n.pieces_.length-n.pieceNum_}function c(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new tn(n.pieces_,e)}function d(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function v(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function E(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new tn(e,0)}function C(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof tn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new tn(t,0)}function T(n){return n.pieceNum_>=n.pieces_.length}function P(n,e){const t=o(n),i=o(e);if(null===t)return e;if(t===i)return P(c(n),c(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function B(n,e){const t=v(n,0),i=v(e,0);for(let r=0;r<t.length&&r<i.length;r++){const l=wd(t[r],i[r]);if(0!==l)return l}return t.length===i.length?0:t.length<i.length?-1:1}function Z(n,e){if(a(n)!==a(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function J(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(a(n)>a(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class ye{constructor(e,t){this.errorPrefix_=t,this.parts_=v(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);it(this)}}function it(n){if(n.byteLength_>iS)throw new Error(n.errorPrefix_+"has a key path longer than "+iS+" bytes ("+n.byteLength_+").");if(n.parts_.length>nS)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+nS+") or object contains a cycle "+mt(n))}function mt(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Pe extends tS{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Pe}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const xt=1e3;let ww,ef=(()=>{class n extends eS{constructor(t,i,r,l,u,h,y,w){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=y,this.authOverride_=w,this.id=n.nextPersistentConnectionId_++,this.log_=Kh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xt,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,w&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pe.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&h_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const l=++this.requestNumber_,u={r:l,a:t,b:i};this.log_((0,U.Wl)(u)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[l]=r)}get(t){this.initConnection_();const i=new U.BH,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const y=h.d;"ok"===h.s?i.resolve(y):i.reject(y)}};return this.outstandingGets_.push(l),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,l){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const y={onComplete:l,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,y),this.connected_&&this.sendListen_(y)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+r+" for "+l);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,y=>{const w=y.d,D=y.s;n.warnOnListenWarnings_(w,i),(this.listens.get(r)&&this.listens.get(r).get(l))===t&&(this.log_("listen response",y),"ok"!==D&&this.removeListen_(r,l),t.onComplete&&t.onComplete(D,w))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const r=(0,U.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,U.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,l=>{const u=l.s,h=l.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+l),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,l)&&this.connected_&&this.sendUnlisten_(r,l,t._queryObject,i)}sendUnlisten_(t,i,r,l){this.log_("Unlisten on "+t+" for "+i);const u={p:t};l&&(u.q=r,u.t=l),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,l){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{l&&setTimeout(()=>{l(h.s,h.d)},Math.floor(0))})}put(t,i,r,l){this.putInternal("p",t,i,r,l)}merge(t,i,r,l){this.putInternal("m",t,i,r,l)}putInternal(t,i,r,l,u){this.initConnection_();const h={p:i,d:r};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):pg("Unrecognized action received from server: "+(0,U.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,we.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),l=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let y=!1,w=null;const D=function(){w?w.close():(y=!0,l())};t.realtime_={close:D,sendRequest:function(k){(0,U.hu)(w,"sendRequest call when we're not connected not allowed."),w.sendRequest(k)}};const R=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[k,N]=yield Promise.all([t.authTokenProvider_.getToken(R),t.appCheckTokenProvider_.getToken(R)]);y?pi("getToken() completed but was canceled"):(pi("getToken() completed. Creating connection."),t.authToken_=k&&k.accessToken,t.appCheckToken_=N&&N.token,w=new vw(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,l,Y=>{Ti(Y+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(k){t.log_("Failed to get token: "+k),y||(t.repoInfo_.nodeAdmin&&Ti(k),D())}}})()}interrupt(t){pi("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){pi("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>t_(u)).join("$"):"default";const l=this.removeListen_(t,r);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,i){const r=new tn(t).toString();let l;if(this.listens.has(r)){const u=this.listens.get(r);l=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else l=void 0;return l}onAuthRevoked_(t,i){pi("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){pi("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Xy.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=h_.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Zt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Zt(e,t)}}class bw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Zt(er,e),r=new Zt(er,t);return 0!==this.compare(i,r)}minPost(){return Zt.MIN}}class WA extends bw{static get __EMPTY_NODE(){return ww}static set __EMPTY_NODE(e){ww=e}compare(e,t){return wd(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Zt.MIN}maxPost(){return new Zt(ja,ww)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Zt(e,ww)}toString(){return".key"}}const Fl=new WA;class Ew{constructor(e,t,i,r,l=null){this.isReverse_=r,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let sS,Wa=(()=>{class n{constructor(t,i,r,l,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=l??Is.EMPTY_NODE,this.right=u??Is.EMPTY_NODE}copy(t,i,r,l,u){return new n(t??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const u=r(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,i,r),null):0===u?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Is.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,l;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Is.EMPTY_NODE;l=r.right.min_(),r=r.copy(l.key,l.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Is{constructor(e,t=Is.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Is(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wa.BLACK,null,null))}remove(e){return new Is(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wa.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ew(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Ew(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Ew(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Ew(this.root_,null,this.comparator_,!0,e)}}function qx(n,e){return wd(n.name,e.name)}function rS(n,e){return wd(n,e)}Is.EMPTY_NODE=new class Zx{copy(e,t,i,r,l){return this}insert(e,t,i){return new Wa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const GA=function(n){return"number"==typeof n?"number:"+PD(n):"string:"+n},ZA=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===sS||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===sS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let qA,KA,YA,wg=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ZA(this.priorityNode_)}static set __childrenNodeConstructor(t){qA=t}static get __childrenNodeConstructor(){return qA}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return T(t)?this:".priority"===o(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=o(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,U.hu)(".priority"!==r||1===a(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(c(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+GA(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?PD(this.value_):this.value_,this.lazyHash_=fg(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,U.hu)(l>=0,"Unknown leaf type: "+i),(0,U.hu)(u>=0,"Unknown leaf type: "+r),l===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Pn=new class Xx extends bw{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),l=i.compareTo(r);return 0===l?wd(e.name,t.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Zt.MIN}maxPost(){return new Zt(ja,new wg("[PRIORITY-POST]",YA))}makePost(e,t){const i=KA(e);return new Zt(t,new wg("[PRIORITY-POST]",i))}toString(){return".priority"}},Jx=Math.log(2);class eR{constructor(e){this.count=parseInt(Math.log(e+1)/Jx,10),this.current_=this.count-1;const r=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cw=function(n,e,t,i){n.sort(e);const r=function(y,w){const D=w-y;let A,R;if(0===D)return null;if(1===D)return A=n[y],R=t?t(A):A,new Wa(R,A.node,Wa.BLACK,null,null);{const k=parseInt(D/2,10)+y,N=r(y,k),Y=r(k+1,w);return A=n[k],R=t?t(A):A,new Wa(R,A.node,Wa.BLACK,N,Y)}},h=function(y){let w=null,D=null,A=n.length;const R=function(N,Y){const se=A-N,ve=A;A-=N;const Re=r(se+1,ve),tt=n[se],et=t?t(tt):tt;k(new Wa(et,tt.node,Y,null,Re))},k=function(N){w?(w.left=N,w=N):(D=N,w=N)};for(let N=0;N<y.count;++N){const Y=y.nextBitIsOne(),se=Math.pow(2,y.count-(N+1));Y?R(se,Wa.BLACK):(R(se,Wa.BLACK),R(se,Wa.RED))}return D}(new eR(n.length));return new Is(i||e,h)};let oS;const Eg={};class ru{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(Eg&&Pn,"ChildrenNode.ts has not been loaded"),oS=oS||new ru({".priority":Eg},{".priority":Pn}),oS}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Is?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==Fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const l=t.getIterator(Zt.Wrap);let h,u=l.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=l.getNext();h=r?Cw(i,e.getCompare()):Eg;const y=e.toString(),w=Object.assign({},this.indexSet_);w[y]=e;const D=Object.assign({},this.indexes_);return D[y]=h,new ru(D,w)}addToIndexes(e,t){const i=(0,U.UI)(this.indexes_,(r,l)=>{const u=(0,U.DV)(this.indexSet_,l);if((0,U.hu)(u,"Missing index implementation for "+l),r===Eg){if(u.isDefinedOn(e.node)){const h=[],y=t.getIterator(Zt.Wrap);let w=y.getNext();for(;w;)w.name!==e.name&&h.push(w),w=y.getNext();return h.push(e),Cw(h,u.getCompare())}return Eg}{const h=t.get(e.name);let y=r;return h&&(y=y.remove(new Zt(e.name,h))),y.insert(e,e.node)}});return new ru(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,U.UI)(this.indexes_,r=>{if(r===Eg)return r;{const l=t.get(e.name);return l?r.remove(new Zt(e.name,l)):r}});return new ru(i,this.indexSet_)}}let f_,zt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZA(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return f_||(f_=new n(new Is(rS),null,ru.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||f_}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?f_:i}}getChild(t){const i=o(t);return null===i?this:this.getImmediateChild(i).getChild(c(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Zt(t,i);let l,u;i.isEmpty()?(l=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(l=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=l.isEmpty()?f_:this.priorityNode_;return new n(l,h,u)}}updateChild(t,i){const r=o(t);if(null===r)return i;{(0,U.hu)(".priority"!==o(t)||1===a(t),".priority must be the last token in a path");const l=this.getImmediateChild(r).updateChild(c(t),i);return this.updateImmediateChild(r,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,l=0,u=!0;if(this.forEachChild(Pn,(h,y)=>{i[h]=y.val(t),r++,u&&n.INTEGER_REGEXP_.test(h)?l=Math.max(l,Number(h)):u=!1}),!t&&u&&l<2*r){const h=[];for(const y in i)h[y]=i[y];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+GA(this.getPriority().val())+":"),this.forEachChild(Pn,(i,r)=>{const l=r.hash();""!==l&&(t+=":"+i+":"+l)}),this.lazyHash_=""===t?"":fg(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const l=this.resolveIndex_(r);if(l){const u=l.getPredecessorKey(new Zt(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Zt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Zt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,Zt.Wrap);let u=l.peek();for(;null!=u&&i.compare(u,t)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,Zt.Wrap);let u=l.peek();for(;null!=u&&i.compare(u,t)>0;)l.getNext(),u=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===p_?-1:0}withIndex(t){if(t===Fl||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Fl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Pn),l=i.getIterator(Pn);let u=r.getNext(),h=l.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=l.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===Fl?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const p_=new class tR extends zt{constructor(){super(new Is(rS),zt.EMPTY_NODE,ru.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return zt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Zt,{MIN:{value:new Zt(er,zt.EMPTY_NODE)},MAX:{value:new Zt(ja,p_)}}),WA.__EMPTY_NODE=zt.EMPTY_NODE,wg.__childrenNodeConstructor=zt,function Kx(n){sS=n}(p_),function Qx(n){YA=n}(p_);const nR=!0;function Gn(n,e=null){if(null===n)return zt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new wg(n,Gn(e));if(n instanceof Array||!nR){let t=zt.EMPTY_NODE;return gi(n,(i,r)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const l=Gn(r);(l.isLeafNode()||!l.isEmpty())&&(t=t.updateImmediateChild(i,l))}}),t.updatePriority(Gn(e))}{const t=[];let i=!1;if(gi(n,(u,h)=>{if("."!==u.substring(0,1)){const y=Gn(h);y.isEmpty()||(i=i||!y.getPriority().isEmpty(),t.push(new Zt(u,y)))}}),0===t.length)return zt.EMPTY_NODE;const l=Cw(t,qx,u=>u.name,rS);if(i){const u=Cw(t,Pn.getCompare());return new zt(l,Gn(e),new ru({".priority":u},{".priority":Pn}))}return new zt(l,Gn(e),ru.Default)}}!function Yx(n){KA=n}(Gn);class aS extends bw{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!T(e)&&".priority"!==o(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),l=i.compareTo(r);return 0===l?wd(e.name,t.name):l}makePost(e,t){const i=Gn(e),r=zt.EMPTY_NODE.updateChild(this.indexPath_,i);return new Zt(t,r)}maxPost(){const e=zt.EMPTY_NODE.updateChild(this.indexPath_,p_);return new Zt(ja,e)}toString(){return v(this.indexPath_,0).join("/")}}const lS=new class iR extends bw{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?wd(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Zt.MIN}maxPost(){return Zt.MAX}makePost(e,t){const i=Gn(e);return new Zt(t,i)}toString(){return".value"}};function QA(n){return{type:"value",snapshotNode:n}}function Cg(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function g_(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function m_(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class cS{constructor(e){this.index_=e}updateChild(e,t,i,r,l,u){(0,U.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(g_(t,h)):(0,U.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(Cg(t,i)):u.trackChildChange(m_(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Pn,(r,l)=>{t.hasChild(r)||i.trackChildChange(g_(r,l))}),t.isLeafNode()||t.forEachChild(Pn,(r,l)=>{if(e.hasChild(r)){const u=e.getImmediateChild(r);u.equals(l)||i.trackChildChange(m_(r,l,u))}else i.trackChildChange(Cg(r,l))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?zt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class y_{constructor(e){this.indexedFilter_=new cS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=y_.getStartPost_(e),this.endPost_=y_.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,l,u){return this.matches(new Zt(t,i))||(i=zt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,l,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=zt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(zt.EMPTY_NODE);const l=this;return t.forEachChild(Pn,(u,h)=>{l.matches(new Zt(u,h))||(r=r.updateImmediateChild(u,zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class sR{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new y_(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,l,u){return this.rangedFilter_.matches(new Zt(t,i))||(i=zt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,l,u):this.fullLimitUpdateChild_(e,t,i,l,u)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let l;r=zt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const h=l.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),u++}}}else{let l;r=t.withIndex(this.index_),r=r.updatePriority(zt.EMPTY_NODE),l=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;l.hasNext();){const h=l.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:r=r.updateImmediateChild(h.name,zt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,l){let u;if(this.reverse_){const A=this.index_.getCompare();u=(R,k)=>A(k,R)}else u=this.index_.getCompare();const h=e;(0,U.hu)(h.numChildren()===this.limit_,"");const y=new Zt(t,i),w=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),D=this.rangedFilter_.matches(y);if(h.hasChild(t)){const A=h.getImmediateChild(t);let R=r.getChildAfterChild(this.index_,w,this.reverse_);for(;null!=R&&(R.name===t||h.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const k=null==R?1:u(R,y);if(D&&!i.isEmpty()&&k>=0)return l?.trackChildChange(m_(t,i,A)),h.updateImmediateChild(t,i);{l?.trackChildChange(g_(t,A));const Y=h.updateImmediateChild(t,zt.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(l?.trackChildChange(Cg(R.name,R.node)),Y.updateImmediateChild(R.name,R.node)):Y}}return i.isEmpty()?e:D&&u(w,y)>=0?(null!=l&&(l.trackChildChange(g_(w.name,w.node)),l.trackChildChange(Cg(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(w.name,zt.EMPTY_NODE)):e}}class Iw{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:er}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ja}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pn}copy(){const e=new Iw;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uS(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function dS(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function Dw(n,e){const t=n.copy();return t.index_=e,t}function XA(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Pn?t="$priority":n.index_===lS?t="$value":n.index_===Fl?t="$key":((0,U.hu)(n.index_ instanceof aS,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,U.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,U.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function JA(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Pn&&(e.i=n.index_.toString()),e}class Sw extends eS{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Kh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Sw.getListenId_(e,i),h={};this.listens_[u]=h;const y=XA(e._queryParams);this.restRequest_(l+".json",y,(w,D)=>{let A=D;if(404===w&&(A=null,w=null),null===w&&this.onDataUpdate_(l,A,!1,i),(0,U.DV)(this.listens_,u)===h){let R;R=w?401===w?"permission_denied":"rest_error:"+w:"ok",r(R,null)}})}unlisten(e,t){const i=Sw.getListenId_(e,t);delete this.listens_[i]}get(e){const t=XA(e._queryParams),i=e._path.toString(),r=new U.BH;return this.restRequest_(i+".json",t,(l,u)=>{let h=u;404===l&&(h=null,l=null),null===l?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,l])=>{r&&r.accessToken&&(t.auth=r.accessToken),l&&l.token&&(t.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let y=null;if(h.status>=200&&h.status<300){try{y=(0,U.cI)(h.responseText)}catch{Ti("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,y)}else 401!==h.status&&404!==h.status&&Ti("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class dR{constructor(){this.rootNode_=zt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Tw(){return{value:null,children:new Map}}function Ig(n,e,t){if(T(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=o(e);n.children.has(i)||n.children.set(i,Tw()),Ig(n.children.get(i),e=c(e),t)}}function hS(n,e){if(T(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Pn,(i,r)=>{Ig(n,new tn(i),r)}),hS(n,e)}}if(n.children.size>0){const t=o(e);return e=c(e),n.children.has(t)&&hS(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function fS(n,e,t){null!==n.value?t(e,n.value):function hR(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{fS(r,new tn(e.toString()+"/"+i),t)})}class fR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&gi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class mR{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new fR(e);const i=1e4+2e4*Math.random();Ed(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;gi(e,(r,l)=>{l>0&&(0,U.r3)(this.statsToReport_,r)&&(t[r]=l,i=!0)}),i&&this.server_.reportStats(t),Ed(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Yo=(()=>{return(n=Yo||(Yo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Yo;var n})();function mS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Aw{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Yo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(T(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new tn(e));return new Aw(s(),t,this.revert)}}return(0,U.hu)(o(this.path)===e,"operationForChild called for unrelated child."),new Aw(c(this.path),this.affectedTree,this.revert)}}class __{constructor(e,t){this.source=e,this.path=t,this.type=Yo.LISTEN_COMPLETE}operationForChild(e){return T(this.path)?new __(this.source,s()):new __(this.source,c(this.path))}}class tf{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Yo.OVERWRITE}operationForChild(e){return T(this.path)?new tf(this.source,s(),this.snap.getImmediateChild(e)):new tf(this.source,c(this.path),this.snap)}}class Dg{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Yo.MERGE}operationForChild(e){if(T(this.path)){const t=this.children.subtree(new tn(e));return t.isEmpty()?null:t.value?new tf(this.source,s(),t.value):new Dg(this.source,s(),t)}return(0,U.hu)(o(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dg(this.source,c(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Dd{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(T(e))return this.isFullyInitialized()&&!this.filtered_;const t=o(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class yR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function v_(n,e,t,i,r,l){const u=i.filter(h=>h.type===t);u.sort((h,y)=>function bR(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new Zt(e.childName,e.snapshotNode),r=new Zt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,y)),u.forEach(h=>{const y=function vR(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,l);r.forEach(w=>{w.respondsTo(h.type)&&e.push(w.createEvent(y,n.query_))})})}function Mw(n,e){return{eventCache:n,serverCache:e}}function b_(n,e,t,i){return Mw(new Dd(e,t,i),n.serverCache)}function tM(n,e,t,i){return Mw(n.eventCache,new Dd(e,t,i))}function Pw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function nf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let yS;class xn{constructor(e,t=(()=>(yS||(yS=new Is(MD)),yS))()){this.value=e,this.children=t}static fromObject(e){let t=new xn(null);return gi(e,(i,r)=>{t=t.set(new tn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:s(),value:this.value};if(T(e))return null;{const i=o(e),r=this.children.get(i);if(null!==r){const l=r.findRootMostMatchingPathAndValue(c(e),t);return null!=l?{path:C(new tn(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(T(e))return this;{const t=o(e),i=this.children.get(t);return null!==i?i.subtree(c(e)):new xn(null)}}set(e,t){if(T(e))return new xn(t,this.children);{const i=o(e),l=(this.children.get(i)||new xn(null)).set(c(e),t),u=this.children.insert(i,l);return new xn(this.value,u)}}remove(e){if(T(e))return this.children.isEmpty()?new xn(null):new xn(null,this.children);{const t=o(e),i=this.children.get(t);if(i){const r=i.remove(c(e));let l;return l=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&l.isEmpty()?new xn(null):new xn(this.value,l)}return this}}get(e){if(T(e))return this.value;{const t=o(e),i=this.children.get(t);return i?i.get(c(e)):null}}setTree(e,t){if(T(e))return t;{const i=o(e),l=(this.children.get(i)||new xn(null)).setTree(c(e),t);let u;return u=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new xn(this.value,u)}}fold(e){return this.fold_(s(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,l)=>{i[r]=l.fold_(C(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,s(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(T(e))return null;{const l=o(e),u=this.children.get(l);return u?u.findOnPath_(c(e),C(t,l),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,s(),t)}foreachOnPath_(e,t,i){if(T(e))return this;{this.value&&i(t,this.value);const r=o(e),l=this.children.get(r);return l?l.foreachOnPath_(c(e),C(t,r),i):new xn(null)}}foreach(e){this.foreach_(s(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(C(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ga{constructor(e){this.writeTree_=e}static empty(){return new Ga(new xn(null))}}function w_(n,e,t){if(T(e))return new Ga(new xn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let l=i.value;const u=P(r,e);return l=l.updateChild(u,t),new Ga(n.writeTree_.set(r,l))}{const r=new xn(t),l=n.writeTree_.setTree(e,r);return new Ga(l)}}}function _S(n,e,t){let i=n;return gi(t,(r,l)=>{i=w_(i,C(e,r),l)}),i}function nM(n,e){if(T(e))return Ga.empty();{const t=n.writeTree_.setTree(e,new xn(null));return new Ga(t)}}function vS(n,e){return null!=rf(n,e)}function rf(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(P(t.path,e)):null}function iM(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Pn,(i,r)=>{e.push(new Zt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Zt(i,r.value))}),e}function Sd(n,e){if(T(e))return n;{const t=rf(n,e);return new Ga(null!=t?new xn(t):n.writeTree_.subtree(e))}}function bS(n){return n.writeTree_.isEmpty()}function Sg(n,e){return rM(s(),n.writeTree_,e)}function rM(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,l)=>{".priority"===r?((0,U.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):t=rM(C(n,r),l,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(C(n,".priority"),i)),t}}function xw(n,e){return cM(e,n)}function SR(n,e){if(n.snap)return J(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&J(C(n.path,t),e))return!0;return!1}function AR(n){return n.visible}function sM(n,e,t){let i=Ga.empty();for(let r=0;r<n.length;++r){const l=n[r];if(e(l)){const u=l.path;let h;if(l.snap)J(t,u)?(h=P(t,u),i=w_(i,h,l.snap)):J(u,t)&&(h=P(u,t),i=w_(i,s(),l.snap.getChild(h)));else{if(!l.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(J(t,u))h=P(t,u),i=_S(i,h,l.children);else if(J(u,t))if(h=P(u,t),T(h))i=_S(i,s(),l.children);else{const y=(0,U.DV)(l.children,o(h));if(y){const w=y.getChild(c(h));i=w_(i,s(),w)}}}}}return i}function oM(n,e,t,i,r){if(i||r){const l=Sd(n.visibleWrites,e);return!r&&bS(l)?t:r||null!=t||vS(l,s())?Sg(sM(n.allWrites,function(w){return(w.visible||r)&&(!i||!~i.indexOf(w.writeId))&&(J(w.path,e)||J(e,w.path))},e),t||zt.EMPTY_NODE):null}{const l=rf(n.visibleWrites,e);if(null!=l)return l;{const u=Sd(n.visibleWrites,e);return bS(u)?t:null!=t||vS(u,s())?Sg(u,t||zt.EMPTY_NODE):null}}}function Rw(n,e,t,i){return oM(n.writeTree,n.treePath,e,t,i)}function wS(n,e){return function MR(n,e,t){let i=zt.EMPTY_NODE;const r=rf(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Pn,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(t){const l=Sd(n.visibleWrites,e);return t.forEachChild(Pn,(u,h)=>{const y=Sg(Sd(l,new tn(u)),h);i=i.updateImmediateChild(u,y)}),iM(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return iM(Sd(n.visibleWrites,e)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,e)}function aM(n,e,t,i){return function PR(n,e,t,i,r){(0,U.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const l=C(e,t);if(vS(n.visibleWrites,l))return null;{const u=Sd(n.visibleWrites,l);return bS(u)?r.getChild(t):Sg(u,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Ow(n,e){return function RR(n,e){return rf(n.visibleWrites,e)}(n.writeTree,C(n.treePath,e))}function ES(n,e,t){return function xR(n,e,t,i){const r=C(e,t),l=rf(n.visibleWrites,r);return null!=l?l:i.isCompleteForChild(t)?Sg(Sd(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function lM(n,e){return cM(C(n.treePath,e),n.writeTree)}function cM(n,e){return{treePath:n,writeTree:e}}class LR{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const l=r.type;if("child_added"===t&&"child_removed"===l)this.changeMap.set(i,m_(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===l)this.changeMap.set(i,g_(i,r.oldSnap));else if("child_changed"===t&&"child_added"===l)this.changeMap.set(i,Cg(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==l)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,m_(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const uM=new class FR{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class CS{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Dd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ES(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:nf(this.viewCache_),l=function NR(n,e,t,i,r,l){return function OR(n,e,t,i,r,l,u){let h;const y=Sd(n.visibleWrites,e),w=rf(y,s());if(null!=w)h=w;else{if(null==t)return[];h=Sg(y,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const D=[],A=u.getCompare(),R=l?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let k=R.getNext();for(;k&&D.length<r;)0!==A(k,i)&&D.push(k),k=R.getNext();return D}}(n.writeTree,n.treePath,e,t,i,r,l)}(this.writes_,r,t,1,i,e);return 0===l.length?null:l[0]}}function dM(n,e,t,i,r,l){const u=e.eventCache;if(null!=Ow(i,t))return e;{let h,y;if(T(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const w=nf(e),A=wS(i,w instanceof zt?w:zt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),A,l)}else{const w=Rw(i,nf(e));h=n.filter.updateFullNode(e.eventCache.getNode(),w,l)}else{const w=o(t);if(".priority"===w){(0,U.hu)(1===a(t),"Can't have a priority with additional path components");const D=u.getNode();y=e.serverCache.getNode();const A=aM(i,t,D,y);h=null!=A?n.filter.updatePriority(D,A):u.getNode()}else{const D=c(t);let A;if(u.isCompleteForChild(w)){y=e.serverCache.getNode();const R=aM(i,t,u.getNode(),y);A=null!=R?u.getNode().getImmediateChild(w).updateChild(D,R):u.getNode().getImmediateChild(w)}else A=ES(i,w,e.serverCache);h=null!=A?n.filter.updateChild(u.getNode(),w,A,D,r,l):u.getNode()}}return b_(e,h,u.isFullyInitialized()||T(t),n.filter.filtersNodes())}}function kw(n,e,t,i,r,l,u,h){const y=e.serverCache;let w;const D=u?n.filter:n.filter.getIndexedFilter();if(T(t))w=D.updateFullNode(y.getNode(),i,null);else if(D.filtersNodes()&&!y.isFiltered()){const k=y.getNode().updateChild(t,i);w=D.updateFullNode(y.getNode(),k,null)}else{const k=o(t);if(!y.isCompleteForPath(t)&&a(t)>1)return e;const N=c(t),se=y.getNode().getImmediateChild(k).updateChild(N,i);w=".priority"===k?D.updatePriority(y.getNode(),se):D.updateChild(y.getNode(),k,se,N,uM,null)}const A=tM(e,w,y.isFullyInitialized()||T(t),D.filtersNodes());return dM(n,A,t,r,new CS(r,A,l),h)}function IS(n,e,t,i,r,l,u){const h=e.eventCache;let y,w;const D=new CS(r,e,l);if(T(t))w=n.filter.updateFullNode(e.eventCache.getNode(),i,u),y=b_(e,w,!0,n.filter.filtersNodes());else{const A=o(t);if(".priority"===A)w=n.filter.updatePriority(e.eventCache.getNode(),i),y=b_(e,w,h.isFullyInitialized(),h.isFiltered());else{const R=c(t),k=h.getNode().getImmediateChild(A);let N;if(T(R))N=i;else{const Y=D.getCompleteChild(A);N=null!=Y?".priority"===d(R)&&Y.getChild(E(R)).isEmpty()?Y:Y.updateChild(R,i):zt.EMPTY_NODE}y=k.equals(N)?e:b_(e,n.filter.updateChild(h.getNode(),A,N,R,D,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return y}function hM(n,e){return n.eventCache.isCompleteForChild(e)}function fM(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function DS(n,e,t,i,r,l,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let w,y=e;w=T(t)?i:new xn(null).setTree(t,i);const D=e.serverCache.getNode();return w.children.inorderTraversal((A,R)=>{if(D.hasChild(A)){const N=fM(0,e.serverCache.getNode().getImmediateChild(A),R);y=kw(n,y,new tn(A),N,r,l,u,h)}}),w.children.inorderTraversal((A,R)=>{const k=!e.serverCache.isCompleteForChild(A)&&null===R.value;if(!D.hasChild(A)&&!k){const Y=fM(0,e.serverCache.getNode().getImmediateChild(A),R);y=kw(n,y,new tn(A),Y,r,l,u,h)}}),y}class GR{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new cS(i.getIndex()),l=function oR(n){return n.loadsAllData()?new cS(n.getIndex()):n.hasLimit()?new sR(n):new y_(n)}(i);this.processor_=function UR(n){return{filter:n}}(l);const u=t.serverCache,h=t.eventCache,y=r.updateFullNode(zt.EMPTY_NODE,u.getNode(),null),w=l.updateFullNode(zt.EMPTY_NODE,h.getNode(),null),D=new Dd(y,u.isFullyInitialized(),r.filtersNodes()),A=new Dd(w,h.isFullyInitialized(),l.filtersNodes());this.viewCache_=Mw(A,D),this.eventGenerator_=new yR(this.query_)}get query(){return this.query_}}function KR(n,e){const t=nf(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!T(e)&&!t.getImmediateChild(o(e)).isEmpty())?t.getChild(e):null}function pM(n){return 0===n.eventRegistrations_.length}function gM(n,e,t){const i=[];if(t){(0,U.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(t,r);u&&i.push(u)})}if(e){let r=[];for(let l=0;l<n.eventRegistrations_.length;++l){const u=n.eventRegistrations_[l];if(u.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(l+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function mM(n,e,t,i){e.type===Yo.MERGE&&null!==e.source.queryId&&((0,U.hu)(nf(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Pw(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,l=function zR(n,e,t,i,r){const l=new LR;let u,h;if(t.type===Yo.OVERWRITE){const w=t;w.source.fromUser?u=IS(n,e,w.path,w.snap,i,r,l):((0,U.hu)(w.source.fromServer,"Unknown source."),h=w.source.tagged||e.serverCache.isFiltered()&&!T(w.path),u=kw(n,e,w.path,w.snap,i,r,h,l))}else if(t.type===Yo.MERGE){const w=t;w.source.fromUser?u=function VR(n,e,t,i,r,l,u){let h=e;return i.foreach((y,w)=>{const D=C(t,y);hM(e,o(D))&&(h=IS(n,h,D,w,r,l,u))}),i.foreach((y,w)=>{const D=C(t,y);hM(e,o(D))||(h=IS(n,h,D,w,r,l,u))}),h}(n,e,w.path,w.children,i,r,l):((0,U.hu)(w.source.fromServer,"Unknown source."),h=w.source.tagged||e.serverCache.isFiltered(),u=DS(n,e,w.path,w.children,i,r,h,l))}else if(t.type===Yo.ACK_USER_WRITE){const w=t;u=w.revert?function WR(n,e,t,i,r,l){let u;if(null!=Ow(i,t))return e;{const h=new CS(i,e,r),y=e.eventCache.getNode();let w;if(T(t)||".priority"===o(t)){let D;if(e.serverCache.isFullyInitialized())D=Rw(i,nf(e));else{const A=e.serverCache.getNode();(0,U.hu)(A instanceof zt,"serverChildren would be complete if leaf node"),D=wS(i,A)}w=n.filter.updateFullNode(y,D,l)}else{const D=o(t);let A=ES(i,D,e.serverCache);null==A&&e.serverCache.isCompleteForChild(D)&&(A=y.getImmediateChild(D)),w=null!=A?n.filter.updateChild(y,D,A,c(t),h,l):e.eventCache.getNode().hasChild(D)?n.filter.updateChild(y,D,zt.EMPTY_NODE,c(t),h,l):y,w.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Rw(i,nf(e)),u.isLeafNode()&&(w=n.filter.updateFullNode(w,u,l)))}return u=e.serverCache.isFullyInitialized()||null!=Ow(i,s()),b_(e,w,u,n.filter.filtersNodes())}}(n,e,w.path,i,r,l):function jR(n,e,t,i,r,l,u){if(null!=Ow(r,t))return e;const h=e.serverCache.isFiltered(),y=e.serverCache;if(null!=i.value){if(T(t)&&y.isFullyInitialized()||y.isCompleteForPath(t))return kw(n,e,t,y.getNode().getChild(t),r,l,h,u);if(T(t)){let w=new xn(null);return y.getNode().forEachChild(Fl,(D,A)=>{w=w.set(new tn(D),A)}),DS(n,e,t,w,r,l,h,u)}return e}{let w=new xn(null);return i.foreach((D,A)=>{const R=C(t,D);y.isCompleteForPath(R)&&(w=w.set(D,y.getNode().getChild(R)))}),DS(n,e,t,w,r,l,h,u)}}(n,e,w.path,w.affectedTree,i,r,l)}else{if(t.type!==Yo.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);u=function $R(n,e,t,i,r){const l=e.serverCache;return dM(n,tM(e,l.getNode(),l.isFullyInitialized()||T(t),l.isFiltered()),t,i,uM,r)}(n,e,t.path,i,l)}const y=l.getChanges();return function HR(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=Pw(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&t.push(QA(Pw(e)))}}(e,u,y),{viewCache:u,changes:y}}(n.processor_,r,e,t,i);return function BR(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,U.hu)(l.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,yM(n,l.changes,l.viewCache.eventCache.getNode(),null)}function yM(n,e,t,i){return function _R(n,e,t,i){const r=[],l=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(function rR(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),v_(n,r,"child_removed",e,i,t),v_(n,r,"child_added",e,i,t),v_(n,r,"child_moved",l,i,t),v_(n,r,"child_changed",e,i,t),v_(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let Nw,Fw;class _M{constructor(){this.views=new Map}}function SS(n,e,t,i){const r=e.source.queryId;if(null!==r){const l=n.views.get(r);return(0,U.hu)(null!=l,"SyncTree gave us an op for an invalid query."),mM(l,e,t,i)}{let l=[];for(const u of n.views.values())l=l.concat(mM(u,e,t,i));return l}}function vM(n,e,t,i,r){const u=n.views.get(e._queryIdentifier);if(!u){let h=Rw(t,r?i:null),y=!1;h?y=!0:i instanceof zt?(h=wS(t,i),y=!1):(h=zt.EMPTY_NODE,y=!1);const w=Mw(new Dd(h,y,!1),new Dd(i,r,!1));return new GR(e,w)}return u}function bM(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Td(n,e){let t=null;for(const i of n.views.values())t=t||KR(i,e);return t}function wM(n,e){return e._queryParams.loadsAllData()?Lw(n):n.views.get(e._queryIdentifier)}function EM(n,e){return null!=wM(n,e)}function Ad(n){return null!=Lw(n)}function Lw(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let sO=1;class CM{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xn(null),this.pendingWriteTree_=function kR(){return{visibleWrites:Ga.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TS(n,e,t,i,r){return function ER(n,e,t,i,r){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=w_(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Tg(n,new tf({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Md(n,e,t=!1){const i=function IR(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function DR(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,l=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&SR(h,i.path)?r=!1:J(i.path,h.path)&&(l=!0)),u--}return!!r&&(l?(function TR(n){n.visibleWrites=sM(n.allWrites,AR,s()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=nM(n.visibleWrites,i.path):gi(i.children,y=>{n.visibleWrites=nM(n.visibleWrites,C(i.path,y))}),!0))}(n.pendingWriteTree_,e)){let l=new xn(null);return null!=i.snap?l=l.set(s(),!0):gi(i.children,u=>{l=l.set(new tn(u),!0)}),Tg(n,new Aw(i.path,l,t))}return[]}function E_(n,e,t){return Tg(n,new tf({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Uw(n,e,t,i,r=!1){const l=e._path,u=n.syncPointTree_.get(l);let h=[];if(u&&("default"===e._queryIdentifier||EM(u,e))){const y=function nO(n,e,t,i){const r=e._queryIdentifier,l=[];let u=[];const h=Ad(n);if("default"===r)for(const[y,w]of n.views.entries())u=u.concat(gM(w,t,i)),pM(w)&&(n.views.delete(y),w.query._queryParams.loadsAllData()||l.push(w.query));else{const y=n.views.get(r);y&&(u=u.concat(gM(y,t,i)),pM(y)&&(n.views.delete(r),y.query._queryParams.loadsAllData()||l.push(y.query)))}return h&&!Ad(n)&&l.push(new(function JR(){return(0,U.hu)(Nw,"Reference.ts has not been loaded"),Nw}())(e._repo,e._path)),{removed:l,events:u}}(u,e,t,i);(function eO(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(l));const w=y.removed;if(h=y.events,!r){const D=-1!==w.findIndex(R=>R._queryParams.loadsAllData()),A=n.syncPointTree_.findOnPath(l,(R,k)=>Ad(k));if(D&&!A){const R=n.syncPointTree_.subtree(l);if(!R.isEmpty()){const k=function hO(n){return n.fold((e,t,i)=>{if(t&&Ad(t))return[Lw(t)];{let r=[];return t&&(r=bM(t)),gi(i,(l,u)=>{r=r.concat(u)}),r}})}(R);for(let N=0;N<k.length;++N){const Y=k[N],se=Y.query,ve=TM(n,Y);n.listenProvider_.startListening(I_(se),C_(n,se),ve.hashFn,ve.onComplete)}}}!A&&w.length>0&&!i&&(D?n.listenProvider_.stopListening(I_(e),null):w.forEach(R=>{const k=n.queryToTagMap.get(zw(R));n.listenProvider_.stopListening(I_(R),k)}))}!function fO(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=zw(i),l=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(l)}}}(n,w)}return h}function IM(n,e,t,i){const r=MS(n,i);if(null!=r){const l=PS(r),u=l.path,h=l.queryId,y=P(u,e);return xS(n,u,new tf(mS(h),y,t))}return[]}function AS(n,e,t,i=!1){const r=e._path;let l=null,u=!1;n.syncPointTree_.foreachOnPath(r,(R,k)=>{const N=P(R,r);l=l||Td(k,N),u=u||Ad(k)});let y,h=n.syncPointTree_.get(r);h?(u=u||Ad(h),l=l||Td(h,s())):(h=new _M,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=l?y=!0:(y=!1,l=zt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((k,N)=>{const Y=Td(N,s());Y&&(l=l.updateImmediateChild(k,Y))}));const w=EM(h,e);if(!w&&!e._queryParams.loadsAllData()){const R=zw(e);(0,U.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const k=function pO(){return sO++}();n.queryToTagMap.set(R,k),n.tagToQueryMap.set(k,R)}let A=function tO(n,e,t,i,r,l){const u=vM(n,e,i,r,l);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function YR(n,e){n.eventRegistrations_.push(e)}(u,t),function QR(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Pn,(l,u)=>{i.push(Cg(l,u))}),t.isFullyInitialized()&&i.push(QA(t.getNode())),yM(n,i,t.getNode(),e)}(u,t)}(h,e,t,xw(n.pendingWriteTree_,r),l,y);if(!w&&!u&&!i){const R=wM(h,e);A=A.concat(function gO(n,e,t){const i=e._path,r=C_(n,e),l=TM(n,t),u=n.listenProvider_.startListening(I_(e),r,l.hashFn,l.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,U.hu)(!Ad(h.value),"If we're adding a query, it shouldn't be shadowed");else{const y=h.fold((w,D,A)=>{if(!T(w)&&D&&Ad(D))return[Lw(D).query];{let R=[];return D&&(R=R.concat(bM(D).map(k=>k.query))),gi(A,(k,N)=>{R=R.concat(N)}),R}});for(let w=0;w<y.length;++w){const D=y[w];n.listenProvider_.stopListening(I_(D),C_(n,D))}}return u}(n,e,R))}return A}function Bw(n,e,t){const r=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(e,(u,h)=>{const w=Td(h,P(u,e));if(w)return w});return oM(r,e,l,t,!0)}function Tg(n,e){return DM(e,n.syncPointTree_,null,xw(n.pendingWriteTree_,s()))}function DM(n,e,t,i){if(T(n.path))return SM(n,e,t,i);{const r=e.get(s());null==t&&null!=r&&(t=Td(r,s()));let l=[];const u=o(n.path),h=n.operationForChild(u),y=e.children.get(u);if(y&&h){const w=t?t.getImmediateChild(u):null,D=lM(i,u);l=l.concat(DM(h,y,w,D))}return r&&(l=l.concat(SS(r,n,i,t))),l}}function SM(n,e,t,i){const r=e.get(s());null==t&&null!=r&&(t=Td(r,s()));let l=[];return e.children.inorderTraversal((u,h)=>{const y=t?t.getImmediateChild(u):null,w=lM(i,u),D=n.operationForChild(u);D&&(l=l.concat(SM(D,h,y,w)))}),r&&(l=l.concat(SS(r,n,i,t))),l}function TM(n,e){const t=e.query,i=C_(n,t);return{hashFn:()=>(function ZR(n){return n.viewCache_.serverCache.getNode()}(e)||zt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function cO(n,e,t){const i=MS(n,t);if(i){const r=PS(i),l=r.path,u=r.queryId,h=P(l,e);return xS(n,l,new __(mS(u),h))}return[]}(n,t._path,i):function lO(n,e){return Tg(n,new __({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const l=function rw(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return Uw(n,t,null,l)}}}}function C_(n,e){const t=zw(e);return n.queryToTagMap.get(t)}function zw(n){return n._path.toString()+"$"+n._queryIdentifier}function MS(n,e){return n.tagToQueryMap.get(e)}function PS(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new tn(n.substr(0,e))}}function xS(n,e,t){const i=n.syncPointTree_.get(e);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),SS(i,t,xw(n.pendingWriteTree_,e),null)}function I_(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function rO(){return(0,U.hu)(Fw,"Reference.ts has not been loaded"),Fw}())(n._repo,n._path):n}class RS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new RS(t)}node(){return this.node_}}class OS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=C(this.path_,e);return new OS(this.syncTree_,t)}node(){return Bw(this.syncTree_,this.path_)}}const mO=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},AM=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?yO(n[".sv"],e,t):"object"==typeof n[".sv"]?_O(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},yO=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},_O=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,U.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},MM=function(n,e,t,i){return NS(e,new OS(t,n),i)},kS=function(n,e,t){return NS(n,new RS(e),t)};function NS(n,e,t){const i=n.getPriority().val(),r=AM(i,e.getImmediateChild(".priority"),t);let l;if(n.isLeafNode()){const u=n,h=AM(u.getValue(),e,t);return h!==u.getValue()||r!==u.getPriority().val()?new wg(h,Gn(r)):n}{const u=n;return l=u,r!==u.getPriority().val()&&(l=l.updatePriority(new wg(r))),u.forEachChild(Pn,(h,y)=>{const w=NS(y,e.getImmediateChild(h),t);w!==y&&(l=l.updateImmediateChild(h,w))}),l}}class LS{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function Hw(n,e){let t=e instanceof tn?e:new tn(e),i=n,r=o(t);for(;null!==r;){const l=(0,U.DV)(i.node.children,r)||{children:{},childCount:0};i=new LS(r,i,l),t=c(t),r=o(t)}return i}function sf(n){return n.node.value}function FS(n,e){n.node.value=e,US(n)}function PM(n){return n.node.childCount>0}function Vw(n,e){gi(n.node.children,(t,i)=>{e(new LS(t,n,i))})}function xM(n,e,t,i){t&&!i&&e(n),Vw(n,r=>{xM(r,e,!0,i)}),t&&i&&e(n)}function D_(n){return new tn(null===n.parent?n.name:D_(n.parent)+"/"+n.name)}function US(n){null!==n.parent&&function wO(n,e,t){const i=function vO(n){return void 0===sf(n)&&!PM(n)}(t),r=(0,U.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,US(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,US(n))}(n.parent,n.name,n)}const EO=/[\[\].#$\/\u0000-\u001F\u007F]/,CO=/[\[\].#$\u0000-\u001F\u007F]/,BS=10485760,jw=function(n){return"string"==typeof n&&0!==n.length&&!EO.test(n)},RM=function(n){return"string"==typeof n&&0!==n.length&&!CO.test(n)},S_=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Yh(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Ul=function(n,e,t,i){i&&void 0===e||T_((0,U.gK)(n,"value"),e,t)},T_=function(n,e,t){const i=t instanceof tn?new ye(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+mt(i));if("function"==typeof e)throw new Error(n+"contains a function "+mt(i)+" with contents = "+e.toString());if(Yh(e))throw new Error(n+"contains "+e.toString()+" "+mt(i));if("string"==typeof e&&e.length>BS/3&&(0,U.ug)(e)>BS)throw new Error(n+"contains a string greater than "+BS+" utf8 bytes "+mt(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,l=!1;if(gi(e,(u,h)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(l=!0,!jw(u)))throw new Error(n+" contains an invalid key ("+u+") "+mt(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Le(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),it(n)})(i,u),T_(n,h,i),function Ge(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&l)throw new Error(n+' contains ".value" child '+mt(i)+" in addition to actual children.")}},OM=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,U.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const l=[];gi(e,(u,h)=>{const y=new tn(u);if(T_(r,h,C(t,y)),".priority"===d(y)&&!S_(h))throw new Error(r+"contains an invalid value for '"+y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(y)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const l=v(i);for(let u=0;u<l.length;u++)if((".priority"!==l[u]||u!==l.length-1)&&!jw(l[u]))throw new Error(n+"contains an invalid key ("+l[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(B);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&J(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,l)},zS=function(n,e,t){if(!t||void 0!==e){if(Yh(e))throw new Error((0,U.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!S_(e))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},A_=function(n,e,t,i){if(!(i&&void 0===t||jw(t)))throw new Error((0,U.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},M_=function(n,e,t,i){if(!(i&&void 0===t||RM(t)))throw new Error((0,U.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},SO=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),M_(n,e,t,i)},Qo=function(n,e){if(".info"===o(e))throw new Error(n+" failed = Can't modify data under /.info/")},kM=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!jw(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),RM(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class TO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $w(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],l=r.getPath();null!==t&&!Z(l,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:l}),t.events.push(r)}t&&n.eventLists_.push(t)}function NM(n,e,t){$w(n,t),LM(n,i=>Z(i,e))}function Js(n,e,t){$w(n,t),LM(n,i=>J(i,e)||J(e,i))}function LM(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(AO(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function AO(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();kl&&pi("event: "+t.toString()),nu(i)}}}const FM="repo_interrupt",MO=25;class PO{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tw(),this.transactionQueueTree_=new LS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function UM(n){const t=n.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function P_(n){return mO({timestamp:UM(n)})}function BM(n,e,t,i,r){n.dataUpdateCount++;const l=new tn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(r)if(i){const y=(0,U.UI)(t,w=>Gn(w));u=function uO(n,e,t,i){const r=MS(n,i);if(r){const l=PS(r),u=l.path,h=l.queryId,y=P(u,e),w=xn.fromObject(t);return xS(n,u,new Dg(mS(h),y,w))}return[]}(n.serverSyncTree_,l,y,r)}else{const y=Gn(t);u=IM(n.serverSyncTree_,l,y,r)}else if(i){const y=(0,U.UI)(t,w=>Gn(w));u=function aO(n,e,t){const i=xn.fromObject(t);return Tg(n,new Dg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,l,y)}else{const y=Gn(t);u=E_(n.serverSyncTree_,l,y)}let h=l;u.length>0&&(h=Mg(n,l)),Js(n.eventQueue_,h,u)}function zM(n,e){HS(n,"connected",e),!1===e&&function NO(n){Ag(n,"onDisconnectEvents");const e=P_(n),t=Tw();fS(n.onDisconnect_,s(),(r,l)=>{const u=MM(r,l,n.serverSyncTree_,e);Ig(t,r,u)});let i=[];fS(t,s(),(r,l)=>{i=i.concat(E_(n.serverSyncTree_,r,l));const u=WS(n,r);Mg(n,u)}),n.onDisconnect_=Tw(),Js(n.eventQueue_,s(),i)}(n)}function HS(n,e,t){const i=new tn("/.info/"+e),r=Gn(t);n.infoData_.updateSnapshot(i,r);const l=E_(n.infoSyncTree_,i,r);Js(n.eventQueue_,i,l)}function Ww(n){return n.nextWriteId_++}function VS(n,e,t,i,r){Ag(n,"set",{path:e.toString(),value:t,priority:i});const l=P_(n),u=Gn(t,i),h=Bw(n.serverSyncTree_,e),y=kS(u,h,l),w=Ww(n),D=TS(n.serverSyncTree_,e,y,w,!0);$w(n.eventQueue_,D),n.server_.put(e.toString(),u.val(!0),(R,k)=>{const N="ok"===R;N||Ti("set at "+e+" failed: "+R);const Y=Md(n.serverSyncTree_,w,!N);Js(n.eventQueue_,e,Y),Pd(0,r,R,k)});const A=WS(n,e);Mg(n,A),Js(n.eventQueue_,A,[])}function LO(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&hS(n.onDisconnect_,e),Pd(0,t,i,r)})}function HM(n,e,t,i){const r=Gn(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(l,u)=>{"ok"===l&&Ig(n.onDisconnect_,e,r),Pd(0,i,l,u)})}function jS(n,e,t){let i;i=".info"===o(e._path)?Uw(n.infoSyncTree_,e,t):Uw(n.serverSyncTree_,e,t),NM(n.eventQueue_,e._path,i)}function VM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(FM)}function Ag(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),pi(t,...e)}function Pd(n,e,t,i){e&&nu(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let l=r;i&&(l+=": "+i);const u=new Error(l);u.code=r,e(u)}})}function $S(n,e,t){return Bw(n.serverSyncTree_,e,t)||zt.EMPTY_NODE}function Gw(n,e=n.transactionQueueTree_){if(e||Zw(n,e),sf(e)){const t=$M(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function VO(n,e,t){const i=t.map(w=>w.currentWriteId),r=$S(n,e,i);let l=r;const u=r.hash();for(let w=0;w<t.length;w++){const D=t[w];(0,U.hu)(0===D.status,"tryToSendTransactionQueue_: items in queue should all be run."),D.status=1,D.retryCount++;const A=P(e,D.path);l=l.updateChild(A,D.currentOutputSnapshotRaw)}const h=l.val(!0),y=e;n.server_.put(y.toString(),h,w=>{Ag(n,"transaction put response",{path:y.toString(),status:w});let D=[];if("ok"===w){const A=[];for(let R=0;R<t.length;R++)t[R].status=2,D=D.concat(Md(n.serverSyncTree_,t[R].currentWriteId)),t[R].onComplete&&A.push(()=>t[R].onComplete(null,!0,t[R].currentOutputSnapshotResolved)),t[R].unwatcher();Zw(n,Hw(n.transactionQueueTree_,e)),Gw(n,n.transactionQueueTree_),Js(n.eventQueue_,e,D);for(let R=0;R<A.length;R++)nu(A[R])}else{if("datastale"===w)for(let A=0;A<t.length;A++)t[A].status=3===t[A].status?4:0;else{Ti("transaction at "+y.toString()+" failed: "+w);for(let A=0;A<t.length;A++)t[A].status=4,t[A].abortReason=w}Mg(n,e)}},u)}(n,D_(e),t)}else PM(e)&&Vw(e,t=>{Gw(n,t)})}function Mg(n,e){const t=jM(n,e),i=D_(t);return function jO(n,e,t){if(0===e.length)return;const i=[];let r=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const y=e[h],w=P(t,y.path);let A,D=!1;if((0,U.hu)(null!==w,"rerunTransactionsUnderNode_: relativePath should not be null."),4===y.status)D=!0,A=y.abortReason,r=r.concat(Md(n.serverSyncTree_,y.currentWriteId,!0));else if(0===y.status)if(y.retryCount>=MO)D=!0,A="maxretry",r=r.concat(Md(n.serverSyncTree_,y.currentWriteId,!0));else{const R=$S(n,y.path,u);y.currentInputSnapshot=R;const k=e[h].update(R.val());if(void 0!==k){T_("transaction failed: Data returned ",k,y.path);let N=Gn(k);"object"==typeof k&&null!=k&&(0,U.r3)(k,".priority")||(N=N.updatePriority(R.getPriority()));const se=y.currentWriteId,ve=P_(n),Re=kS(N,R,ve);y.currentOutputSnapshotRaw=N,y.currentOutputSnapshotResolved=Re,y.currentWriteId=Ww(n),u.splice(u.indexOf(se),1),r=r.concat(TS(n.serverSyncTree_,y.path,Re,y.currentWriteId,y.applyLocally)),r=r.concat(Md(n.serverSyncTree_,se,!0))}else D=!0,A="nodata",r=r.concat(Md(n.serverSyncTree_,y.currentWriteId,!0))}Js(n.eventQueue_,t,r),r=[],D&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===A?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(A),!1,null)))}Zw(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)nu(i[h]);Gw(n,n.transactionQueueTree_)}(n,$M(n,t),i),i}function jM(n,e){let t,i=n.transactionQueueTree_;for(t=o(e);null!==t&&void 0===sf(i);)i=Hw(i,t),t=o(e=c(e));return i}function $M(n,e){const t=[];return WM(n,e,t),t.sort((i,r)=>i.order-r.order),t}function WM(n,e,t){const i=sf(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);Vw(e,r=>{WM(n,r,t)})}function Zw(n,e){const t=sf(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,FS(e,t.length>0?t:void 0)}Vw(e,i=>{Zw(n,i)})}function WS(n,e){const t=D_(jM(n,e)),i=Hw(n.transactionQueueTree_,e);return function bO(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{GS(n,r)}),GS(n,i),xM(i,r=>{GS(n,r)}),t}function GS(n,e){const t=sf(e);if(t){const i=[];let r=[],l=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,U.hu)(l===u-1,"All SENT items should be at beginning of queue."),l=u,t[u].status=3,t[u].abortReason="set"):((0,U.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),r=r.concat(Md(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===l?FS(e,void 0):t.length=l+1,Js(n.eventQueue_,D_(e),r);for(let u=0;u<i.length;u++)nu(i[u])}}const ZS=function(n,e){const t=GO(n),i=t.namespace;return"firebase.com"===t.domain&&Ko(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ko("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new uw(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new tn(t.pathString)}},GO=function(n){let e="",t="",i="",r="",l="",u=!0,h="https",y=443;if("string"==typeof n){let w=n.indexOf("//");w>=0&&(h=n.substring(0,w-1),n=n.substring(w+2));let D=n.indexOf("/");-1===D&&(D=n.length);let A=n.indexOf("?");-1===A&&(A=n.length),e=n.substring(0,Math.min(D,A)),D<A&&(r=function $O(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(D,A)));const R=function WO(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ti(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,A)));w=e.indexOf(":"),w>=0?(u="https"===h||"wss"===h,y=parseInt(e.substring(w+1),10)):w=e.length;const k=e.slice(0,w);if("localhost"===k.toLowerCase())t="localhost";else if(k.split(".").length<=2)t=k;else{const N=e.indexOf(".");i=e.substring(0,N).toLowerCase(),t=e.substring(N+1),l=i}"ns"in R&&(l=R.ns)}return{host:e,port:y,domain:t,subdomain:i,secure:u,scheme:h,pathString:r,namespace:l}},GM="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ZO=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const l=new Array(8);for(r=7;r>=0;r--)l[r]=GM.charAt(t%64),t=Math.floor(t/64);(0,U.hu)(0===t,"Cannot push at time == 0");let u=l.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=GM.charAt(e[r]);return(0,U.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class ZM{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class qM{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qS{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class KM{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new U.BH;return LO(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qo("OnDisconnect.remove",this._path);const e=new U.BH;return HM(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qo("OnDisconnect.set",this._path),Ul("OnDisconnect.set",e,this._path,!1);const t=new U.BH;return HM(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Qo("OnDisconnect.setWithPriority",this._path),Ul("OnDisconnect.setWithPriority",e,this._path,!1),zS("OnDisconnect.setWithPriority",t,!1);const i=new U.BH;return function FO(n,e,t,i,r){const l=Gn(t,i);n.server_.onDisconnectPut(e.toString(),l.val(!0),(u,h)=>{"ok"===u&&Ig(n.onDisconnect_,e,l),Pd(0,r,u,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Qo("OnDisconnect.update",this._path),OM("OnDisconnect.update",e,this._path,!1);const t=new U.BH;return function UO(n,e,t,i){if((0,U.xb)(t))return pi("onDisconnect().update() called with empty data.  Don't do anything."),void Pd(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,l)=>{"ok"===r&&gi(t,(u,h)=>{const y=Gn(h);Ig(n.onDisconnect_,C(e,u),y)}),Pd(0,i,r,l)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ds{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return T(this._path)?null:d(this._path)}get ref(){return new Xo(this._repo,this._path)}get _queryIdentifier(){const e=JA(this._queryParams),t=t_(e);return"{}"===t?"default":t}get _queryObject(){return JA(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof Ds))return!1;const t=this._repo===e._repo,i=Z(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function p(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function qw(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function xd(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Fl){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==er)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ja)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Pn){if(null!=e&&!S_(e)||null!=t&&!S_(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof aS||n.getIndex()===lS,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kw(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Xo extends Ds{constructor(e,t){super(e,t,new Iw,!1)}get parent(){const e=E(this._path);return null===e?null:new Xo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class af{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new tn(e),i=lf(this.ref,e);return new af(this._node.getChild(t),i,Pn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new af(r,lf(this.ref,i),Pn)))}hasChild(e){const t=new tn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function YM(n,e){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==e?lf(n._root,e):n._root}function QM(n,e){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const t=ZS(e,n._repo.repoInfo_.nodeAdmin);kM("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Ko("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),YM(n,t.path.toString())}function lf(n,e){return null===o((n=(0,U.m9)(n))._path)?SO("child","path",e,!1):M_("child","path",e,!1),new Xo(n._repo,C(n._path,e))}function KS(n,e){n=(0,U.m9)(n),Qo("set",n._path),Ul("set",e,n._path,!1);const t=new U.BH;return VS(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function XO(n,e){OM("update",e,n._path,!1);const t=new U.BH;return function kO(n,e,t,i){Ag(n,"update",{path:e.toString(),value:t});let r=!0;const l=P_(n),u={};if(gi(t,(h,y)=>{r=!1,u[h]=MM(C(e,h),Gn(y),n.serverSyncTree_,l)}),r)pi("update() called with empty data.  Don't do anything."),Pd(0,i,"ok",void 0);else{const h=Ww(n),y=function oO(n,e,t,i){!function CR(n,e,t,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=_S(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=xn.fromObject(t);return Tg(n,new Dg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,u,h);$w(n.eventQueue_,y),n.server_.merge(e.toString(),t,(w,D)=>{const A="ok"===w;A||Ti("update at "+e+" failed: "+w);const R=Md(n.serverSyncTree_,h,!A),k=R.length>0?Mg(n,e):e;Js(n.eventQueue_,k,R),Pd(0,i,w,D)}),gi(t,w=>{const D=WS(n,C(e,w));Mg(n,D)}),Js(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function JO(n){n=(0,U.m9)(n);const e=new qS(()=>{}),t=new x_(e);return function OO(n,e,t){const i=function dO(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(w,D)=>{const A=P(w,t);i=i||Td(D,A)});let r=n.syncPointTree_.get(t);r?i=i||Td(r,s()):(r=new _M,n.syncPointTree_=n.syncPointTree_.set(t,r));const l=null!=i,u=l?new Dd(i,!0,!1):null;return function qR(n){return Pw(n.viewCache_)}(vM(r,e,xw(n.pendingWriteTree_,e._path),l?u.getNode():zt.EMPTY_NODE,l))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const l=Gn(r).withIndex(e._queryParams.getIndex());let u;if(AS(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=E_(n.serverSyncTree_,e._path,l);else{const h=C_(n.serverSyncTree_,e);u=IM(n.serverSyncTree_,e._path,l,h)}return Js(n.eventQueue_,e._path,u),Uw(n.serverSyncTree_,e,t,null,!0),l},r=>(Ag(n,"get for query "+(0,U.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new af(i,new Xo(n._repo,n._path),n._queryParams.getIndex()))}class x_{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new ZM("value",this,new af(e.snapshotNode,new Xo(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qM(this,e,t):null}matches(e){return e instanceof x_&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yw{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qM(this,e,t):null}createEvent(e,t){(0,U.hu)(null!=e.childName,"Child events should have a childName.");const i=lf(new Xo(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ZM(e.type,this,new af(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Yw&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function R_(n,e,t,i,r){let l;if("object"==typeof i&&(l=void 0,r=i),"function"==typeof i&&(l=i),r&&r.onlyOnce){const y=t,w=(D,A)=>{jS(n._repo,n,h),y(D,A)};w.userCallback=t.userCallback,w.context=t.context,t=w}const u=new qS(t,l||void 0),h="value"===e?new x_(u):new Yw(e,u);return function BO(n,e,t){let i;i=".info"===o(e._path)?AS(n.infoSyncTree_,e,t):AS(n.serverSyncTree_,e,t),NM(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>jS(n._repo,n,h)}function YS(n,e,t,i){return R_(n,"value",e,t,i)}function XM(n,e,t,i){return R_(n,"child_added",e,t,i)}function JM(n,e,t,i){return R_(n,"child_changed",e,t,i)}function eP(n,e,t,i){return R_(n,"child_moved",e,t,i)}function tP(n,e,t,i){return R_(n,"child_removed",e,t,i)}function nP(n,e,t){let i=null;const r=t?new qS(t):null;"value"===e?i=new x_(r):e&&(i=new Yw(e,r)),jS(n._repo,n,i)}class Za{}class iP extends Za{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ul("endAt",this._value,e._path,!0);const t=dS(e._queryParams,this._value,this._key);if(Kw(t),xd(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ds(e._repo,e._path,t,e._orderByCalled)}}class tk extends Za{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ul("endBefore",this._value,e._path,!1);const t=function uR(n,e,t){let i;return i=dS(n,e,n.index_===Fl||t?t:er),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(Kw(t),xd(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ds(e._repo,e._path,t,e._orderByCalled)}}class rP extends Za{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ul("startAt",this._value,e._path,!0);const t=uS(e._queryParams,this._value,this._key);if(Kw(t),xd(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ds(e._repo,e._path,t,e._orderByCalled)}}class rk extends Za{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Ul("startAfter",this._value,e._path,!1);const t=function cR(n,e,t){let i;return i=uS(n,e,n.index_===Fl||t?t:ja),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(Kw(t),xd(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ds(e._repo,e._path,t,e._orderByCalled)}}class ok extends Za{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ds(e._repo,e._path,function aR(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class lk extends Za{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ds(e._repo,e._path,function lR(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class uk extends Za{constructor(e){super(),this._path=e}_apply(e){qw(e,"orderByChild");const t=new tn(this._path);if(T(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new aS(t),r=Dw(e._queryParams,i);return xd(r),new Ds(e._repo,e._path,r,!0)}}class hk extends Za{_apply(e){qw(e,"orderByKey");const t=Dw(e._queryParams,Fl);return xd(t),new Ds(e._repo,e._path,t,!0)}}class pk extends Za{_apply(e){qw(e,"orderByPriority");const t=Dw(e._queryParams,Pn);return xd(t),new Ds(e._repo,e._path,t,!0)}}class mk extends Za{_apply(e){qw(e,"orderByValue");const t=Dw(e._queryParams,lS);return xd(t),new Ds(e._repo,e._path,t,!0)}}class _k extends Za{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Ul("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new iP(this._value,this._key)._apply(new rP(this._value,this._key)._apply(e))}}function qa(n,...e){let t=(0,U.m9)(n);for(const i of e)t=i._apply(t);return t}(function XR(n){(0,U.hu)(!Nw,"__referenceConstructor has already been defined"),Nw=n})(Xo),function iO(n){(0,U.hu)(!Fw,"__referenceConstructor has already been defined"),Fw=n}(Xo);const bk="FIREBASE_DATABASE_EMULATOR_HOST",QS={};let sP=!1;function oP(n,e,t,i,r){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||Ko("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pi("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let y,w,u=ZS(l,r),h=u.repoInfo;typeof process<"u"&&process.env&&(w=process.env[bk]),w?(y=!0,l=`http://${w}?ns=${h.namespace}`,u=ZS(l,r),h=u.repoInfo):y=!u.repoInfo.secure;const D=r&&y?new Cd(Cd.OWNER):new mg(n.name,n.options,e);kM("Invalid Firebase Database URL",u),T(u.path)||Ko("Database URL must point to the root of a Firebase Database (not including a child path).");const A=function Ck(n,e,t,i){let r=QS[e.name];r||(r={},QS[e.name]=r);let l=r[n.toURLString()];return l&&Ko("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new PO(n,sP,t,i),r[n.toURLString()]=l,l}(h,n,D,new gg(n.name,t));return new Dk(A,n)}class Dk{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xO(n,e,t){if(n.stats_=a_(n.repoInfo_),n.forceRestClient_||ow())n.server_=new Sw(n.repoInfo_,(i,r,l,u)=>{BM(n,i,r,l,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>zM(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new ef(n.repoInfo_,e,(i,r,l,u)=>{BM(n,i,r,l,u)},i=>{zM(n,i)},i=>{!function RO(n,e){gi(e,(t,i)=>{HS(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function dw(n,e){const t=n.toString();return o_[t]||(o_[t]=e()),o_[t]}(n.repoInfo_,()=>new mR(n.stats_,n.server_)),n.infoData_=new dR,n.infoSyncTree_=new CM({startListening:(i,r,l,u)=>{let h=[];const y=n.infoData_.getNode(i._path);return y.isEmpty()||(h=E_(n.infoSyncTree_,i._path,y),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),HS(n,"connected",!1),n.serverSyncTree_=new CM({startListening:(i,r,l,u)=>(n.server_.listen(i,l,r,(h,y)=>{const w=u(h,y);Js(n.eventQueue_,i._path,w)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xo(this._repo,s())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ek(n,e){const t=QS[e];(!t||t[n.key]!==n)&&Ko(`Database ${e}(${n.repoInfo_}) has already been deleted.`),VM(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ko("Cannot call "+e+" on a deleted database.")}}function aP(){$D.IS_TRANSPORT_INITIALIZED&&Ti("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Sk(){aP(),$a.forceDisallow()}function Tk(){aP(),Ll.forceDisallow(),$a.forceAllow()}function Pk(n,e){Jy(n,e)}const Rk={".sv":"timestamp"};class Nk{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ef.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},ef.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function xk(n){hg(eu.SDK_VERSION),(0,eu._registerComponent)(new _d.wA("database",(e,{instanceIdentifier:t})=>oP(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,eu.registerVersion)(TD,"0.14.4",n),(0,eu.registerVersion)(TD,"0.14.4","esm2017")}();const Bk=new Zh.Yd("@firebase/database-compat"),cP=function(n){Bk.warn("FIREBASE WARNING: "+n)};class Vk{constructor(e){this._delegate=e}cancel(e){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),l=>i(l)),r}update(e,t){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let l=0;l<e.length;++l)r[""+l]=e[l];e=r,cP("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class jk{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Rd{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),M_("DataSnapshot.child","path",e,!1),new Rd(this._database,this._delegate.child(e))}hasChild(e){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),M_("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Rd(this._database,t)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new eo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class pr{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var l;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",t,!1);const u=pr.getCancelAndContextArgs_("Query.on",i,r),h=(w,D)=>{t.call(u.context,new Rd(this.database,w),D)};h.userCallback=t,h.context=u.context;const y=null===(l=u.cancel)||void 0===l?void 0:l.bind(u.context);switch(e){case"value":return YS(this._delegate,h,y),t;case"child_added":return XM(this._delegate,h,y),t;case"child_removed":return tP(this._delegate,h,y),t;case"child_changed":return JM(this._delegate,h,y),t;case"child_moved":return eP(this._delegate,h,y),t;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,U.Wj)("Query.off","callback",t,!0),(0,U.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,nP(this._delegate,e,r)}else nP(this._delegate,e)}get(){return JO(this._delegate).then(e=>new Rd(this.database,e))}once(e,t,i,r){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",t,!0);const l=pr.getCancelAndContextArgs_("Query.once",i,r),u=new U.BH,h=(w,D)=>{const A=new Rd(this.database,w);t&&t.call(l.context,A,D),u.resolve(A)};h.userCallback=t,h.context=l.context;const y=w=>{l.cancel&&l.cancel.call(l.context,w),u.reject(w)};switch(e){case"value":YS(this._delegate,h,y,{onlyOnce:!0});break;case"child_added":XM(this._delegate,h,y,{onlyOnce:!0});break;case"child_removed":tP(this._delegate,h,y,{onlyOnce:!0});break;case"child_changed":JM(this._delegate,h,y,{onlyOnce:!0});break;case"child_moved":eP(this._delegate,h,y,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new pr(this.database,qa(this._delegate,function ak(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ok(n)}(e)))}limitToLast(e){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new pr(this.database,qa(this._delegate,function ck(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lk(n)}(e)))}orderByChild(e){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new pr(this.database,qa(this._delegate,function dk(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return M_("orderByChild","path",n,!1),new uk(n)}(e)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new pr(this.database,qa(this._delegate,function fk(){return new hk}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new pr(this.database,qa(this._delegate,function gk(){return new pk}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new pr(this.database,qa(this._delegate,function yk(){return new mk}()))}startAt(e=null,t){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new pr(this.database,qa(this._delegate,function ik(n=null,e){return A_("startAt","key",e,!0),new rP(n,e)}(e,t)))}startAfter(e=null,t){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new pr(this.database,qa(this._delegate,function sk(n,e){return A_("startAfter","key",e,!0),new rk(n,e)}(e,t)))}endAt(e=null,t){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new pr(this.database,qa(this._delegate,function ek(n,e){return A_("endAt","key",e,!0),new iP(n,e)}(e,t)))}endBefore(e=null,t){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new pr(this.database,qa(this._delegate,function nk(n,e){return A_("endBefore","key",e,!0),new tk(n,e)}(e,t)))}equalTo(e,t){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new pr(this.database,qa(this._delegate,function vk(n,e){return A_("equalTo","key",e,!0),new _k(n,e)}(e,t)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof pr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,U.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,U.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,U.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new eo(this.database,new Xo(this._delegate._repo,this._delegate._path))}}class eo extends pr{constructor(e,t){super(e,new Ds(t._repo,t._path,new Iw,!1)),this.database=e,this._delegate=t}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new eo(this.database,lf(this._delegate,e))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new eo(this.database,e):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new eo(this.database,this._delegate.root)}set(e,t){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",t,!0);const i=KS(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let l=0;l<e.length;++l)r[""+l]=e[l];e=r,cP("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qo("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",t,!0);const i=XO(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function QO(n,e,t){if(Qo("setWithPriority",n._path),Ul("setWithPriority",e,n._path,!1),zS("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return VS(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),l=>i(l)),r}remove(e){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",e,!0);const t=function KO(n){return Qo("remove",n._path),KS(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,U.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Lk(n,e,t){var i;if(n=(0,U.m9)(n),Qo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,l=new U.BH,h=YS(n,()=>{});return function HO(n,e,t,i,r,l){Ag(n,"transaction on "+e);const u={path:e,update:t,onComplete:i,status:null,order:ew(),applyLocally:l,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=$S(n,e,void 0);u.currentInputSnapshot=h;const y=u.update(h.val());if(void 0===y)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{T_("transaction failed: Data returned ",y,u.path),u.status=0;const w=Hw(n.transactionQueueTree_,e),D=sf(w)||[];let A;D.push(u),FS(w,D),"object"==typeof y&&null!==y&&(0,U.r3)(y,".priority")?(A=(0,U.DV)(y,".priority"),(0,U.hu)(S_(A),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):A=(Bw(n.serverSyncTree_,e)||zt.EMPTY_NODE).getPriority().val();const R=P_(n),k=Gn(y,A),N=kS(k,h,R);u.currentOutputSnapshotRaw=k,u.currentOutputSnapshotResolved=N,u.currentWriteId=Ww(n);const Y=TS(n.serverSyncTree_,e,N,u.currentWriteId,u.applyLocally);Js(n.eventQueue_,e,Y),Gw(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(y,w,D)=>{let A=null;y?l.reject(y):(A=new af(D,new Xo(n._repo,n._path),Pn),l.resolve(new Nk(w,A)))},h,r),l.promise}(this._delegate,e,{applyLocally:i}).then(l=>new jk(l.committed,new Rd(this.database,l.snapshot)));return t&&r.then(l=>t(null,l.committed,l.snapshot),l=>t(l,!1,null)),r}setPriority(e,t){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",t,!0);const i=function YO(n,e){n=(0,U.m9)(n),Qo("setPriority",n._path),zS("setPriority",e,!1);const t=new U.BH;return VS(n._repo,C(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",t,!0);const i=function qO(n,e){n=(0,U.m9)(n),Qo("push",n._path),Ul("push",e,n._path,!0);const t=UM(n._repo),i=ZO(t),r=lf(n,i),l=lf(n,i);let u;return u=null!=e?KS(l,e).then(()=>l):Promise.resolve(l),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,e),r=i.then(u=>new eo(this.database,u));t&&r.then(()=>t(null),u=>t(u));const l=new eo(this.database,i);return l.then=r.then.bind(r),l.catch=r.catch.bind(r,void 0),l}onDisconnect(){return Qo("Reference.onDisconnect",this._delegate._path),new Vk(new KM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class O_{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Sk,forceLongPolling:Tk}}useEmulator(e,t,i={}){!function lP(n,e,t,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ko("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let l;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Ko('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Cd(Cd.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);l=new Cd(u)}!function wk(n,e,t,i){n.repoInfo_=new uw(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,l)}(this._delegate,e,t,i)}ref(e){if((0,U.Dv)("database.ref",0,1,arguments.length),e instanceof eo){const t=QM(this._delegate,e.toString());return new eo(this,t)}{const t=YM(this._delegate,e);return new eo(this,t)}}refFromURL(e){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=QM(this._delegate,e);return new eo(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function Ak(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),VM(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function Mk(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function zO(n){n.persistentConnection_&&n.persistentConnection_.resume(FM)}(n._repo)}(this._delegate)}}O_.ServerValue={TIMESTAMP:function Ok(){return Rk}(),increment:n=>function kk(n){return{".sv":{increment:n}}}(n)};var Wk=Object.freeze({__proto__:null,initStandalone:function $k({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:l=!1}){hg(t);const u=new _d.zt("auth-internal",new _d.H0("database-standalone"));return u.setComponent(new _d.wA("auth-internal",()=>i,"PRIVATE")),{instance:new O_(oP(n,u,void 0,e,l),n),namespace:r}}});const Gk=O_.ServerValue;!function Zk(n){n.INTERNAL.registerComponent(new _d.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new O_(r,i)},"PUBLIC").setServiceProps({Reference:eo,Query:pr,Database:O_,DataSnapshot:Rd,enableLogging:Pk,INTERNAL:Wk,ServerValue:Gk}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(SD.Z);var Qw=F(5363),qk=F(6063);class Kk extends Bn.x{constructor(e=1/0,t=1/0,i=qk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:u}=this;t||(i.push(e),!r&&i.push(l.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let u=0;u<l.length&&!e.closed;u+=i?1:2)e.next(l[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*e;if(e<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const u=t.now();let h=0;for(let y=1;y<i.length&&i[y]<=u;y+=2)h=y;h&&i.splice(0,h+1)}}}function uP(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Jb.B)({connector:()=>new Kk(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function dP(n,e){return(0,Qd.m)(e)?_n(()=>n,e):_n(()=>n)}var XS=F(9468);F(259);const eT=new Map,fP={activated:!1,tokenObservers:[]},eN={initialized:!1,enabled:!1};function gr(n){return eT.get(n)||Object.assign({},fP)}function Jw(){return eN}const tT="https://content-firebaseappcheck.googleapis.com/v1",rN="exchangeDebugToken",pP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class oN{constructor(e,t,i,r,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function aN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iT(n,e){return rT.apply(this,arguments)}function rT(){return(rT=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,l)}catch(A){throw Qr.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==u.status)throw Qr.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(A){throw Qr.create("fetch-parse-error",{originalErrorMessage:A?.message})}const y=h.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const w=1e3*Number(y[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+w,issuedAtTimeMillis:D}})).apply(this,arguments)}const hN="firebase-app-check-database",fN=1,k_="firebase-app-check-store";let nE=null;function _P(n,e){return sT.apply(this,arguments)}function sT(){return(sT=(0,we.Z)(function*(n,e){const i=(yield function yP(){return nE||(nE=new Promise((n,e)=>{try{const t=indexedDB.open(hN,fN);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Qr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(k_,{keyPath:"compositeKey"})}}catch(t){e(Qr.create("storage-open",{originalErrorMessage:t?.message}))}}),nE)}()).transaction(k_,"readwrite"),l=i.objectStore(k_).put({compositeKey:n,value:e});return new Promise((u,h)=>{l.onsuccess=y=>{u()},i.onerror=y=>{var w;h(Qr.create("storage-set",{originalErrorMessage:null===(w=y.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const N_=new Zh.Yd("@firebase/app-check");function lT(n,e){return(0,U.hl)()?function gN(n,e){return _P(function bP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{N_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function EP(){return uT.apply(this,arguments)}function uT(){return(uT=(0,we.Z)(function*(){const n=Jw();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wN={error:"UNKNOWN_ERROR"};function EN(n){return U.US.encodeString(JSON.stringify(n),!1)}function iE(n){return dT.apply(this,arguments)}function dT(){return(dT=(0,we.Z)(function*(n,e=!1){const t=n.app;!function gP(n){if(!gr(n).activated)throw Qr.create("use-before-activation",{appName:n.name})}(t);const i=gr(t);let l,r=i.token;if(r&&!Pg(r)&&(i.token=void 0,r=void 0),!r){const y=yield i.cachedTokenPromise;y&&(Pg(y)?r=y:yield lT(t,void 0))}if(!e&&r&&Pg(r))return{token:r.token};let h,u=!1;if(function wP(){return Jw().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=iT(function dN(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${tT}/projects/${t}/apps/${i}:${rN}?key=${r}`,body:{debug_token:e}}}(t,yield EP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const y=yield i.exchangeTokenPromise;return yield lT(t,y),i.token=y,{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield gr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?N_.warn(y.message):N_.error(y),l=y}return r?l?h=Pg(r)?{token:r.token,internalError:l}:DP(l):(h={token:r.token},i.token=r,yield lT(t,r)):h=DP(l),u&&function IP(n,e){const t=gr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function fT(n,e){const t=gr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function CP(n){const{app:e}=n,t=gr(e);let i=t.tokenRefresher;i||(i=function CN(n){const{app:e}=n;return new oN((0,we.Z)(function*(){let i;if(i=gr(e).token?yield iE(n,!0):yield iE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=gr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},pP.RETRIAL_MIN_WAIT,pP.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Pg(n){return n.expireTimeMillis-Date.now()>0}function DP(n){return{token:EN(wN),error:n}}class IN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gr(this.app);for(const t of e)fT(this.app,t.next);return Promise.resolve()}}const OP="app-check-internal";!function UN(){(0,eu._registerComponent)(new _d.wA("app-check",n=>function DN(n,e){return new IN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(OP).initialize()})),(0,eu._registerComponent)(new _d.wA(OP,n=>function SN(n){return{getToken:e=>iE(n,e),addTokenListener:e=>function hT(n,e,t,i){const{app:r}=n,l=gr(r);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:i,type:e}],l.token&&Pg(l.token)){const h=l.token;Promise.resolve().then(()=>{t({token:h.token}),CP(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>CP(n))}(n,"INTERNAL",e),removeTokenListener:e=>fT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,eu.registerVersion)("@firebase/app-check","0.6.4")}();class yT{constructor(){return(0,qo.vb)("app-check")}}typeof window<"u"&&window,F(9260);const NP=new m.OlP("angularfire2.auth.use-emulator"),LP=new m.OlP("angularfire2.auth.settings"),FP=new m.OlP("angularfire2.auth.tenant-id"),UP=new m.OlP("angularfire2.auth.langugage-code"),BP=new m.OlP("angularfire2.auth.use-device-language"),zP=new m.OlP("angularfire.auth.persistence"),HP=(n,e,t,i,r,l,u,h)=>(0,Xs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),i&&(y.tenantId=i),y.languageCode=r,l&&y.useDeviceLanguage(),u)for(const[w,D]of Object.entries(u))y.settings[w]=D;return h&&y.setPersistence(h),y},[t,i,r,l,u,h]);let VP=(()=>{class n{constructor(t,i,r,l,u,h,y,w,D,A,R,k){const N=new Bn.x,Y=ot(void 0).pipe((0,Qw.Q)(u.outsideAngular),_n(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8971)))),(0,G.U)(()=>(0,Xs.on)(t,l,i)),(0,G.U)(se=>HP(se,l,h,w,D,A,y,R)),uP({bufferSize:1,refCount:!1}));if(Qa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{Y.pipe(Ro()).subscribe();const ve=Y.pipe(_n(et=>et.getRedirectResult().then(Yt=>Yt,()=>null)),qo.iC,uP({bufferSize:1,refCount:!1})),Re=Y.pipe(_n(et=>new Fi.y(Yt=>({unsubscribe:l.runOutsideAngular(()=>et.onAuthStateChanged(Ht=>Yt.next(Ht),Ht=>Yt.error(Ht),()=>Yt.complete()))})))),tt=Y.pipe(_n(et=>new Fi.y(Yt=>({unsubscribe:l.runOutsideAngular(()=>et.onIdTokenChanged(Ht=>Yt.next(Ht),Ht=>Yt.error(Ht),()=>Yt.complete()))}))));this.authState=ve.pipe(dP(Re),(0,XS.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular)),this.user=ve.pipe(dP(tt),(0,XS.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular)),this.idToken=this.user.pipe(_n(et=>et?(0,bn.D)(et.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(_n(et=>et?(0,bn.D)(et.getIdTokenResult()):ot(null))),this.credential=(0,Qy.T)(ve,N,this.authState.pipe(cr(et=>!et))).pipe((0,G.U)(et=>et?.user?et:null),(0,XS.R)(u.outsideAngular),(0,Qw.Q)(u.insideAngular))}return(0,Xs.pX)(this,Y,l,{spy:{apply:(se,ve,Re)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Re.then(tt=>N.next(tt))}}})}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Xs.Dh),m.LFG(Xs.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(qo.HU),m.LFG(NP,8),m.LFG(LP,8),m.LFG(FP,8),m.LFG(UP,8),m.LFG(BP,8),m.LFG(zP,8),m.LFG(yT,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function jP(n){return null==n}function $P(n){return"function"==typeof n.set}function WP(n,e){return $P(e)?e:n.ref(e)}function GP(n,e){if(function $N(n){return"string"==typeof n}(n))return e.stringCase();if($P(n))return e.firebaseCase();if(function WN(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function L_(n,e,t="on",i=ID.z){return new Fi.y(r=>{let l=null;return l=n[t](e,(u,h)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=l&&n.off(e,l)}}:{unsubscribe(){}}}).pipe((0,G.U)(r=>{const{snapshot:l,prevKey:u}=r;let h=null;return l.exists()&&(h=l.key),{type:e,payload:l,prevKey:u,key:h}}),(0,Jb.B)())}function ZP(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function qN(n,e){const{payload:t,prevKey:i,key:r}=e,l=ZP(n,r),u=function ZN(n,e){if(jP(e))return 0;{const t=ZP(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(y=>{const w={payload:y,type:"value",prevKey:h,key:y.key};return h=y.key,n=[...n,w],!1})}return n;case"child_added":if(l>-1){const h=n[l-1];(h&&h.key||null)!==i&&(n=n.filter(y=>y.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(l>-1){const h=n.splice(l,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function qP(n){return(jP(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function KP(n,e,t){return function GN(n,e,t){return L_(n,"value","once",t).pipe(_n(i=>{const r=[ot(i)];return e.forEach(l=>r.push(L_(n,l,"on",t))),(0,Qy.T)(...r).pipe(yc(qN,[]))}),function dg(n,e=X.y){return n=n??DD,(0,Di.e)((t,i)=>{let r,l=!0;t.subscribe((0,at.x)(i,u=>{const h=e(u);(l||!n(r,h))&&(l=!1,r=h,i.next(u))}))})}())}(n,e=qP(e),t)}function YP(n,e,t){const i=(e=qP(e)).map(r=>L_(n,r,"on",t));return(0,Qy.T)(...i)}function QP(n,e){return function(i,r){return GP(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function XN(n){return function(t){return t?GP(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function XP(n,e){return function(){return L_(n,"value","on",e)}}const tL=new m.OlP("angularfire2.realtimeDatabaseURL"),nL=new m.OlP("angularfire2.database.use-emulator");let iL=(()=>{class n{constructor(t,i,r,l,u,h,y,w,D,A,R,k,N,Y,se){this.schedulers=h;const ve=y,Re=(0,Xs.on)(t,u,i);w&&HP(Re,u,D,R,k,N,A,Y),this.database=(0,Xs.cc)(`${Re.name}.database.${r}`,"AngularFireDatabase",Re.name,()=>{const tt=u.runOutsideAngular(()=>Re.database(r||void 0));return ve&&tt.useEmulator(...ve),tt},[ve])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>WP(this.database,t));let l=r;return i&&(l=i(r)),function JN(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:QP(i,"update"),set:QP(i,"set"),push:r=>i.push(r),remove:XN(i),snapshotChanges:r=>KP(n,r,t).pipe(qo.iC),stateChanges:r=>YP(n,r,t).pipe(qo.iC),auditTrail:r=>function KN(n,e,t){return function QN(n,e,t){return function YN(n,e){return L_(n,"value","on",e).pipe((0,G.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function RA(...n){const e=(0,Ci.jO)(n);return(0,Di.e)((t,i)=>{const r=n.length,l=new Array(r);let u=n.map(()=>!1),h=!1;for(let y=0;y<r;y++)(0,Bi.Xf)(n[y]).subscribe((0,at.x)(i,w=>{l[y]=w,!h&&!u[y]&&(u[y]=!0,(h=u.every(X.y))&&(u=null))},Gy.Z));t.subscribe((0,at.x)(i,y=>{if(h){const w=[y,...l];i.next(e?e(...w):w)}}))})}(e),(0,G.U)(([r,l])=>{const u=r.lastKeyToLoad,h=l.map(y=>y.key);return{actions:l,lastKeyToLoad:u,loadedKeys:h}}),function OA(n){return(0,Di.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,at.x)(t,l=>(i||(i=!n(l,r++)))&&t.next(l)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,G.U)(r=>r.actions))}(n,YP(n,e).pipe(yc((r,l)=>[...r,l],[])),t)}(n,r,t).pipe(qo.iC),valueChanges:(r,l)=>KP(n,r,t).pipe((0,G.U)(h=>h.map(y=>l&&l.idField?Object.assign(Object.assign({},y.payload.val()),{[l.idField]:y.key}):y.payload.val())),qo.iC)}}(l,this)}object(t){return function eL(n,e){return{query:n,snapshotChanges:()=>XP(n,e.schedulers.outsideAngular)().pipe(qo.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>XP(n,e.schedulers.outsideAngular)().pipe(qo.iC,(0,G.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WP(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(Xs.Dh),m.LFG(Xs.xv,8),m.LFG(tL,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(qo.HU),m.LFG(nL,8),m.LFG(VP,8),m.LFG(NP,8),m.LFG(LP,8),m.LFG(FP,8),m.LFG(UP,8),m.LFG(BP,8),m.LFG(zP,8),m.LFG(yT,8))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class cf{constructor(){this.messageSource=new Yi("../../assets/img/image2.png"),this.currentMessage=this.messageSource.asObservable(),this.myString=""}changeMessage(e){this.messageSource.next(e)}getString(){return this.myString}}function rL(n,e){if(1&n){const t=m.EpF();m.TgZ(0,"div",5)(1,"div"),m._UZ(2,"img",6),m.qZA(),m.TgZ(3,"div",7)(4,"button",8),m.NdJ("click",function(){const l=m.CHM(t).$implicit,u=m.oxw();return m.KtG(u.downloadImage(l))}),m._uU(5,"Download"),m.qZA(),m.TgZ(6,"button",8),m.NdJ("click",function(){const l=m.CHM(t).$implicit,u=m.oxw();return m.KtG(u.downloadImage(l))}),m._uU(7,"Add new BG"),m.qZA()()()}if(2&n){const t=e.$implicit;m.xp6(2),m.Q6J("src",t,m.LSH)}}function sL(n,e){1&n&&(m.TgZ(0,"div"),m._UZ(1,"ngx-spinner",9),m.qZA())}cf.\u0275fac=function(e){return new(e||cf)},cf.\u0275prov=m.Yz7({token:cf,factory:cf.\u0275fac,providedIn:"root"});const oL=function(n){return{visibility:n}};class F_{constructor(e,t,i,r,l){this.http=e,this.spinner=t,this.db=i,this.myService=r,this.router=l,this.imageSrc="",this.imageList=[],this.hideDropBox=!0,this.isLoading=!1}onDrop(e){this.isLoading=!0,e.preventDefault();const t=e.dataTransfer.files;this.hideDropBox=!1,this.handleFiles(t)}onDragOver(e){e.preventDefault()}onFileSelected(e){this.handleFiles(e.target.files)}handleFiles(e){var t=0;for(let l=0;l<e.length;l++){const u=e[l],h=new FileReader;h.onload=y=>{this.spinner.show();const w=y.target.result.toString().split(",")[1];this.http.post("http://localhost:5000/removebg",w).subscribe(R=>{this.myService.changeMessage("data:image/jpeg;base64,"+R.image),window.myGlobalForeground="data:image/jpeg;base64,"+R.image,this.imageList.push("data:image/jpeg;base64,"+R.image),this.spinner.hide(),this.myService.changeMessage("data:image/jpeg;base64,"+R.image),this.router.navigate(["/imageedit"])}),w.toString().split("base64,"),t=atob(w).length},h.readAsDataURL(u)}try{var i="";this.http.get("https://geolocation-db.com/json/").subscribe(l=>{i=l.IPv4;var u=new Date;this.db.list("userlogs").push({clientIP:i,imageSize:t,TmStamp:is(u,"dd-MM-yyyy hh:mm:ss a","en-ZA","+0200")})})}catch{}}downloadImage(e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","image.png"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}particlesLoaded(e){console.log(e)}particlesInit(e){return(0,we.Z)(function*(){console.log(e),yield Zp(e)})()}}F_.\u0275fac=function(e){return new(e||F_)(m.Y36(tg),m.Y36(Gh),m.Y36(iL),m.Y36(cf),m.Y36(hr))},F_.\u0275cmp=m.Xpm({type:F_,selectors:[["app-uploadcomponent"]],decls:7,vars:5,consts:[["data-aos","fade-in",1,"hero-container"],[1,"drop-zone",2,"margin-top","-100px",3,"ngStyle","drop","dragover"],[1,"image-gallery"],["class","image-container card",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"image-container","card"],["alt","Uploaded image",3,"src"],[1,"overlay"],["type","button",1,"buttondownload",3,"click"],["type","ball-scale-multiple"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0)(1,"div",1),m.NdJ("drop",function(r){return t.onDrop(r)})("dragover",function(r){return t.onDragOver(r)}),m.TgZ(2,"p"),m._uU(3,"drag and drop your image here"),m.qZA()(),m.TgZ(4,"div",2),m.YNc(5,rL,8,1,"div",3),m.qZA()(),m.YNc(6,sL,2,0,"div",4)),2&e&&(m.xp6(1),m.Q6J("ngStyle",m.VKq(3,oL,t.hideDropBox?"visible":"hidden")),m.xp6(4),m.Q6J("ngForOf",t.imageList),m.xp6(1),m.Q6J("ngIf",t.isLoading))},dependencies:[Gi,Lr,vr,Yy],styles:['h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #35b072;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n\n  .drop-zone[_ngcontent-%COMP%] {\n  margin-top: 300px;\n  border: 2px dashed #ffffff;\n  border-radius: 20px;\n  width: 350px;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  font-size: 24px;\n  color: #ffffff;\n  text-align: center;\n}\n\n.image-gallery[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.image-gallery[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  margin: 10px;\n  max-width: 400px;\n  max-height: 400px;\n  overflow: hidden;\n}\n\n.image-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.image-gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n\n\n\n\n\n.image-container[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  display: block;\n  width: 100%;\n  height: auto;\n  transition: all 0.3s ease;\n}\n\n.overlay[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  background-color: rgba(255, 255, 255, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  color: #fff;\n  font-weight: bold;\n  text-transform: uppercase;\n  text-decoration: none;\n  border: 2px solid #fff;\n  padding: 10px 20px;\n  transition: all 0.3s ease;\n}\n\n.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #000;\n}\n\n.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n\n.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%] {\n  opacity: 1;\n}\n\n\n\n\n\n\n\n.card[_ngcontent-%COMP%] {\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 12px 12px rgba(236, 230, 230, 0.4);\n  padding: 20px;\n  margin: 0 auto;\n  text-align: center;\n  min-height: 200px;\n  min-width: 200px;\n  border-color: #ffffff;\n}\n\n.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin-top: 0;\n}\n\n.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n}\n\n\n\n\n\n\n.buttondownload[_ngcontent-%COMP%] {\n  border-color: white;\n  display: inline-block;\n  padding: 12px 24px;\n  border-radius: 30px;\n  background-color: #fff;\n  color: #2590b0;\n  font-size: 16px;\n  font-weight: bold;\n  text-align: center;\n  text-decoration: none;\n  box-shadow: 4px 4px 4px 4px rgba(203, 214, 203, 0.4);\n  transition: all 0.3s ease;\n  \n}\n\n.buttondownload[_ngcontent-%COMP%]:hover {\n  background-color: #ffffff;\n  color: #1951d5;\n}']});class U_{}U_.\u0275fac=function(e){return new(e||U_)},U_.\u0275cmp=m.Xpm({type:U_,selectors:[["app-about"]],decls:2,vars:0,template:function(e,t){1&e&&(m.TgZ(0,"p"),m._uU(1,"about works!"),m.qZA())}});class B_{constructor(e,t){this.domSanitizer=e,this.myService=t,this.fileToUpload=null,this.BGimage="",this.FGimage="",this.img=new Image,this.scaleFactor=1,this.translateX=0,this.translateY=0,this.isDragging=!1,this.isResizing=!1,this.imgX=0,this.imgY=0,this.imgWidth=0,this.imgHeight=0,this.prevX=0,this.prevY=0,this.releasePrevX=0,this.releasePrevY=0,this.foregroundimage=new Image,this.foregroundimageX=0,this.foregroundimageY=0,this.foregroundimageW=0,this.foregroundimageH=0,this.browserwindowW=0,this.browserwindowH=0,this.startUp=!1,this.imgRatio=3,this.base64Image="",this.backgroundBase64Image="",this.canvasWidth=612,this.canvasHeight=428,this.foreClicked=!1,this.coordinatesChanged=!1,this.canvas=document.getElementById("canvas"),this.subscription=this.myService.currentMessage.subscribe(i=>this.FGimage=i)}ngOnInit(){this.canvas=document.getElementById("canvas"),this.canvas&&null!=this.canvas.getContext("2d")&&(this.BGimage="../../assets/img/bmw.jpg",this.subscription=this.myService.currentMessage.subscribe(t=>this.FGimage=t),this.base64Image=this.FGimage,this.canvas.setAttribute("style","background: url('../../assets/img/bmw.jpg'); background-repeat: no-repeat; background-size: 100% 100%;"),this.img.crossOrigin="Anonymous",this.img.src=this.FGimage,this.img.onload=()=>{this.imgX=this.canvas.width/2-this.img.width/2/this.imgRatio,this.imgY=this.canvas.height/2-this.img.height/2/this.imgRatio,this.imgWidth=this.img.width/this.imgRatio,this.imgHeight=this.img.height/this.imgRatio,this.foregroundimage=this.img,this.foregroundimageX=this.imgX,this.foregroundimageY=this.imgY,this.foregroundimageW=this.imgWidth,this.foregroundimageH=this.imgHeight,this.draw(),this.canvas.addEventListener("mousedown",this.onMouseDown.bind(this)),this.canvas.addEventListener("mouseup",this.onMouseUp.bind(this)),this.canvas.addEventListener("mousemove",this.onMouseMove.bind(this))})}handleBackground(e){var t=this;return(0,we.Z)(function*(){e.preventDefault();const i=e.dataTransfer.files[0];t.browserwindowW=window.innerWidth,t.browserwindowH=window.innerHeight;const r=new FileReader;r.onload=l=>{const u="data:image/jpeg;base64,"+l.target.result.toString().split(",")[1];t.backgroundBase64Image=u;var h=new Image;h.src=u,h.onload=()=>{t.canvasWidth=h.width,t.canvasHeight=h.height,t.canvas.height=h.height,t.canvas.width=h.width,t.canvas.setAttribute("style","background: url('"+u+"'); background-repeat: no-repeat; background-size: 100% 100%;"),t.img.src=t.base64Image,t.img.onload=()=>{t.foreClicked=!1,t.coordinatesChanged=!1,t.imgX=t.foregroundimageX,t.imgY=t.foregroundimageY,t.imgWidth=t.foregroundimageW,t.imgHeight=t.foregroundimageH,t.foreClicked=!1,t.startUp=!1,t.draw(),t.startUp=!0}}},r.readAsDataURL(i)})()}handleForeground(e){var t=this;return(0,we.Z)(function*(){e.preventDefault();const i=e.dataTransfer.files[0],r=new FileReader;r.onload=l=>{t.base64Image="data:image/jpeg;base64,"+l.target.result.toString().split(",")[1],t.img.src=t.base64Image,t.img.onload=()=>{t.foreClicked=!1,t.coordinatesChanged=!1,t.imgX=t.canvas.width/2-t.img.width/2/t.imgRatio,t.imgY=t.canvas.height/2-t.img.height/2/t.imgRatio,t.imgWidth=t.img.width/t.imgRatio,t.imgHeight=t.img.height/t.imgRatio,t.startUp=!1,t.draw(),t.startUp=!0},t.foregroundimage=t.img,t.foregroundimageX=t.imgX,t.foregroundimageY=t.imgY,t.foregroundimageW=t.imgWidth,t.foregroundimageH=t.imgHeight},r.readAsDataURL(i)})()}onDragOver(e){e.preventDefault()}draw(){var e=this.canvas.getContext("2d");e&&(e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),this.startUp?(this.foreClicked&&(e.beginPath(),e.lineWidth=5,e.strokeStyle="lightblue",e.rect(this.imgX-10,this.imgY-10,this.imgWidth+20,this.imgHeight+20),e.stroke()),e.drawImage(this.img,this.imgX,this.imgY,this.imgWidth,this.imgHeight)):(this.foreClicked&&(e.beginPath(),e.lineWidth=5,e.strokeStyle="lightblue",e.rect(this.imgX+10,this.imgY+10,this.imgWidth-20,this.imgHeight-20),e.stroke()),this.imgX=this.canvas.width/2-this.img.width/2/this.imgRatio,this.imgY=this.canvas.height/2-this.img.height/2/this.imgRatio,e.drawImage(this.img,this.imgX,this.imgY,this.imgWidth,this.imgHeight),this.startUp=!0),e.restore())}handleCanvasClick(e){}onMouseDown(e){e.offsetX<=this.imgX+this.imgWidth&&e.offsetX>=this.imgX&&e.offsetY<=this.imgY+this.imgHeight&&e.offsetY>=this.imgY&&(this.isDragging=!0),this.prevX=e.offsetX,this.prevY=e.offsetY}onMouseUp(e){this.isDragging=!1,this.isResizing=!1,this.coordinatesChanged=this.releasePrevX!=e.offsetX||this.releasePrevY!=e.offsetY,0==this.foreClicked&&0==this.coordinatesChanged?this.foreClicked=!0:1==this.foreClicked&&0==this.coordinatesChanged&&(this.foreClicked=!1),this.prevX=e.offsetX,this.prevY=e.offsetY,this.draw(),this.releasePrevX=e.offsetX,this.releasePrevY=e.offsetY,this.coordinatesChanged=!1}onMouseMove(e){if(this.isDragging&&!this.foreClicked){var i=e.offsetY-this.prevY;this.imgX+=e.offsetX-this.prevX,this.imgY+=i,this.prevX=e.offsetX,this.prevY=e.offsetY,this.draw()}this.foreClicked&&(this.imgWidth=e.offsetX,this.imgHeight=e.offsetY,this.draw())}handleDownloadClick(e){var t=document.createElement("canvas");if(t){var i=t.getContext("2d");if(i){var r=new Image;r.crossOrigin="Anonymous",r.src=""!=this.backgroundBase64Image?this.backgroundBase64Image:"../../assets/img/bmw.jpg",r.onload=()=>{t.height=r.height,t.width=r.width,i&&i.drawImage(r,0,0);var l=new Image;l.crossOrigin="Anonymous",l.src=this.base64Image,l.onload=()=>{if(i){i.drawImage(l,this.imgX-this.canvas.width/2,this.imgY-this.canvas.height/2,this.imgWidth,this.imgHeight),i.restore(),i.save();const u=document.createElement("a");u.download="download.png",u.href=t.toDataURL("image/png"),u.click()}}}}}}handleForegroundDownloadClick(e){const t=atob(this.base64Image.split(",")[1]),i=this.base64Image.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),l=new Uint8Array(r);for(let w=0;w<t.length;w++)l[w]=t.charCodeAt(w);const u=new Blob([r],{type:i}),h=window.URL.createObjectURL(u),y=document.createElement("a");y.href=h,y.download="image.png",y.click(),window.URL.revokeObjectURL(h)}}B_.\u0275fac=function(e){return new(e||B_)(m.Y36(Vs),m.Y36(cf))},B_.\u0275cmp=m.Xpm({type:B_,selectors:[["app-editimage"]],decls:18,vars:2,consts:[["data-aos","fade-in",1,"hero-container"],[1,"drop-zone",2,"margin-top","-180px",3,"drop","dragover"],[1,"drop-zone",2,"margin-top","-0px",3,"drop","dragover"],[2,"padding","10px","background-color","#eee","border-radius","15px"],["id","canvas","crossorigin","anonymous",3,"width","height","click","drop","dragover"],["canvas",""],["crossorigin","anonymous",1,"btn","btn-success",2,"border-radius","20px",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0)(1,"div",1),m.NdJ("drop",function(r){return t.handleBackground(r)})("dragover",function(r){return t.onDragOver(r)}),m.TgZ(2,"p"),m._uU(3,"drag and drop your background here"),m.qZA()(),m._UZ(4,"br"),m.TgZ(5,"div",2),m.NdJ("drop",function(r){return t.handleForeground(r)})("dragover",function(r){return t.onDragOver(r)}),m.TgZ(6,"p"),m._uU(7,"drag and drop your foreground here"),m.qZA()(),m._UZ(8,"br"),m.TgZ(9,"div",3)(10,"canvas",4,5),m.NdJ("click",function(r){return t.handleCanvasClick(r)})("drop",function(r){return t.handleBackground(r)})("dragover",function(r){return t.onDragOver(r)}),m.qZA()(),m._UZ(12,"br"),m.TgZ(13,"button",6),m.NdJ("click",function(r){return t.handleDownloadClick(r)}),m._uU(14,"Download Image"),m.qZA(),m._UZ(15,"br"),m.TgZ(16,"button",6),m.NdJ("click",function(r){return t.handleForegroundDownloadClick(r)}),m._uU(17,"Download Foreground Image"),m.qZA()()),2&e&&(m.xp6(10),m.Q6J("width",t.canvasWidth)("height",t.canvasHeight))},styles:["#canvas[_ngcontent-%COMP%] {\n      background-repeat: no-repeat;\n      background-position: center center;\n      background-size: cover;\n      text-align: center;\n      vertical-align: middle;\n    }",'h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n   margin: 8px 0;\n }\n\n p[_ngcontent-%COMP%] {\n   margin: 0;\n }\n\n .spacer[_ngcontent-%COMP%] {\n   flex: 1;\n }\n\n .toolbar[_ngcontent-%COMP%] {\n   position: absolute;\n   top: 0;\n   left: 0;\n   right: 0;\n   height: 60px;\n   display: flex;\n   align-items: center;\n   background-color: #35b072;\n   color: white;\n   font-weight: 600;\n }\n\n .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n   margin: 0 16px;\n }\n\n .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n   height: 40px;\n   margin: 0 8px;\n }\n\n .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n   height: 40px;\n   margin: 0 16px;\n }\n\n .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n   opacity: 0.8;\n }\n\n .content[_ngcontent-%COMP%] {\n   display: flex;\n   margin: 82px auto 32px;\n   padding: 0 16px;\n   max-width: 960px;\n   flex-direction: column;\n   align-items: center;\n }\n\n .card-container[_ngcontent-%COMP%] {\n   display: flex;\n   flex-wrap: wrap;\n   justify-content: center;\n   margin-top: 16px;\n }\n\n .card[_ngcontent-%COMP%] {\n   all: unset;\n   border-radius: 4px;\n   border: 1px solid #eee;\n   background-color: #fafafa;\n   height: 40px;\n   width: 200px;\n   margin: 0 8px 16px;\n   padding: 16px;\n   display: flex;\n   flex-direction: row;\n   justify-content: center;\n   align-items: center;\n   transition: all 0.2s ease-in-out;\n   line-height: 24px;\n }\n\n .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n   margin-right: 0;\n }\n\n .card.card-small[_ngcontent-%COMP%] {\n   height: 16px;\n   width: 168px;\n }\n\n .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n   cursor: pointer;\n }\n\n .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n   transform: translateY(-3px);\n   box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n }\n\n .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n   fill: rgb(105, 103, 103);\n }\n\n .card.highlight-card[_ngcontent-%COMP%] {\n   background-color: #1976d2;\n   color: white;\n   font-weight: 600;\n   border: none;\n   width: auto;\n   min-width: 30%;\n   position: relative;\n }\n\n .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n   margin-left: 60px;\n }\n\n\n a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n   color: #1976d2;\n   text-decoration: none;\n }\n\n a[_ngcontent-%COMP%]:hover {\n   color: #125699;\n }\n\n\n .terminal[_ngcontent-%COMP%]::before {\n   content: "\\2022 \\2022 \\2022";\n   position: absolute;\n   top: 0;\n   left: 0;\n   height: 4px;\n   background: rgb(58, 58, 58);\n   color: #c2c3c4;\n   width: 100%;\n   font-size: 2rem;\n   line-height: 0;\n   padding: 14px 0;\n   text-indent: 4px;\n }\n\n .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n   font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n   color: white;\n   padding: 0 1rem 1rem;\n   margin: 0;\n }\n\n .circle-link[_ngcontent-%COMP%] {\n   height: 40px;\n   width: 40px;\n   border-radius: 40px;\n   margin: 8px;\n   background-color: white;\n   border: 1px solid #eeeeee;\n   display: flex;\n   justify-content: center;\n   align-items: center;\n   cursor: pointer;\n   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n   transition: 1s ease-out;\n }\n\n .circle-link[_ngcontent-%COMP%]:hover {\n   transform: translateY(-0.25rem);\n   box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n }\n\n \n @media screen and (max-width: 767px) {\n   .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n     width: 100%;\n   }\n\n   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n     height: 16px;\n     margin: 8px 0;\n   }\n\n   .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n     margin-left: 72px;\n   }\n\n   svg#rocket-smoke[_ngcontent-%COMP%] {\n     right: 120px;\n     transform: rotate(-5deg);\n   }\n }\n\n\n .drop-zone[_ngcontent-%COMP%] {\n border: 2px dashed #ffffff;\n border-radius: 20px;\n width: 350px;\n height: 50px;\n display: flex;\n flex-direction: column;\n align-items: center;\n justify-content: center;\n cursor: pointer;\n}\n\n.drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n font-size: 14px;\n color: #ffffff;\n text-align: center;\n}\n\n.image-gallery[_ngcontent-%COMP%] {\n display: flex;\n flex-wrap: wrap;\n justify-content: center;\n}\n\n.image-gallery[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n margin: 10px;\n max-width: 400px;\n max-height: 400px;\n overflow: hidden;\n}\n\n.image-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n width: 100%;\n height: 100%;\n object-fit: cover;\n}\n\n.image-gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n margin-top: 10px;\n}\n\n\n\n\n\n\n.image-container[_ngcontent-%COMP%] {\n position: relative;\n display: inline-block;\n}\n\n.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n display: block;\n width: 100%;\n height: auto;\n transition: all 0.3s ease;\n}\n\n.overlay[_ngcontent-%COMP%] {\n position: absolute;\n top: 0;\n left: 0;\n width: 100%;\n height: 100%;\n opacity: 0;\n transition: opacity 0.3s ease;\n background-color: rgba(255, 255, 255, 0.5);\n display: flex;\n justify-content: center;\n align-items: center;\n}\n\n.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n color: #fff;\n font-weight: bold;\n text-transform: uppercase;\n text-decoration: none;\n border: 2px solid #fff;\n padding: 10px 20px;\n transition: all 0.3s ease;\n}\n\n.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n background-color: #fff;\n color: #000;\n}\n\n.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%] {\n opacity: 0.5;\n}\n\n.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%] {\n opacity: 1;\n}\n\n\n\n\n\n\n\n.card[_ngcontent-%COMP%] {\n background-color: #fff;\n border-radius: 10px;\n box-shadow: 0 12px 12px rgba(236, 230, 230, 0.4);\n padding: 20px;\n margin: 0 auto;\n text-align: center;\n min-height: 200px;\n min-width: 200px;\n border-color: #ffffff;\n}\n\n.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n margin-top: 0;\n}\n\n.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n margin-bottom: 0;\n}\n\n\n\n\n\n\n.buttondownload[_ngcontent-%COMP%] {\n border-color: white;\n display: inline-block;\n padding: 12px 24px;\n border-radius: 30px;\n background-color: #fff;\n color: #2590b0;\n font-size: 16px;\n font-weight: bold;\n text-align: center;\n text-decoration: none;\n box-shadow: 4px 4px 4px 4px rgba(203, 214, 203, 0.4);\n transition: all 0.3s ease;\n \n}\n\n.buttondownload[_ngcontent-%COMP%]:hover {\n background-color: #ffffff;\n color: #1951d5;\n}']});const aL=[{path:"",component:F_},{path:"imageedit",component:B_},{path:"about",component:U_}];class xg{}xg.\u0275fac=function(e){return new(e||xg)},xg.\u0275mod=m.oAB({type:xg}),xg.\u0275inj=m.cJS({imports:[Nv.forRoot(aL),Nv]});let lL=(()=>{class n{constructor(t){this.platformId=t,this.particlesLoaded=new m.vpe,this.destroy$=new Bn.x,this.id="tsparticles"}ngAfterViewInit(){Qa(this.platformId)||(0,bn.D)(this.particlesInit?this.particlesInit(Ip):Promise.resolve()).pipe((0,zi.z)(()=>this.url?Ip.loadJSON(this.id,this.url):this.options?Ip.load(this.id,this.options):(console.error("You must specify options or url to load tsParticles"),hs.E)),Zy(this.destroy$)).subscribe(i=>{this.container=i,this.particlesLoaded.emit(i)})}ngOnDestroy(){this.container?.destroy(),this.destroy$.next()}}return n.\u0275fac=function(t){return new(t||n)(m.Y36(m.Lbi))},n.\u0275cmp=m.Xpm({type:n,selectors:[["ng-particles"]],inputs:{options:"options",url:"url",id:"id",particlesInit:"particlesInit"},outputs:{particlesLoaded:"particlesLoaded"},decls:1,vars:1,consts:[[3,"id"]],template:function(t,i){1&t&&m._UZ(0,"div",0),2&t&&m.Q6J("id",i.id)},encapsulation:2}),n})(),cL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({}),n})();function uL(n,e){1&n&&(m.TgZ(0,"div"),m._UZ(1,"ngx-spinner",14),m.qZA())}class z_{constructor(e,t){this.http=e,this.spinner=t,this.title="RemoveBG",this.id="tsparticles",this.particlesUrl="../assets/particles/particles.json",this.particlesArray=["../assets/particles/particles.json","../assets/particles/particles2.json","../assets/particles/particles3.json","../assets/particles/particles4.json","../assets/particles/particles5.json","../assets/particles/particles6.json"],this.imageSrc="",this.imageList=[],this.hideDropBox=!0,this.isLoading=!1}ngOnInit(){this.particlesUrl=this.particlesArray[Math.floor(Math.random()*this.particlesArray.length)]}onDrop(e){this.isLoading=!0,e.preventDefault();const t=e.dataTransfer.files;this.hideDropBox=!1,this.handleFiles(t)}onDragOver(e){e.preventDefault()}onFileSelected(e){this.handleFiles(e.target.files)}handleFiles(e){for(let t=0;t<e.length;t++){const i=e[t],r=new FileReader;r.onload=l=>{this.spinner.show();const u=l.target.result.toString().split(",")[1];this.http.post("http://localhost:5000/removebg",u).subscribe(h=>{console.log(h),this.imageList.push("data:image/jpeg;base64,"+h.image),this.spinner.hide()})},r.readAsDataURL(i)}}downloadImage(e){const t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","image.png"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}particlesLoaded(e){console.log(e)}particlesInit(e){return(0,we.Z)(function*(){console.log(e),yield Zp(e)})()}}function JP(n){return new m.vHH(3e3,!1)}function WL(){return typeof window<"u"&&typeof window.document<"u"}function vT(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Od(n){switch(n.length){case 0:return new og;case 1:return n[0];default:return new ED(n)}}function ex(n,e,t,i,r=new Map,l=new Map){const u=[],h=[];let y=-1,w=null;if(i.forEach(D=>{const A=D.get("offset"),R=A==y,k=R&&w||new Map;D.forEach((N,Y)=>{let se=Y,ve=N;if("offset"!==Y)switch(se=e.normalizePropertyName(se,u),ve){case Qb:ve=r.get(Y);break;case Zo:ve=l.get(Y);break;default:ve=e.normalizeStyleValue(Y,se,ve,u)}k.set(se,ve)}),R||h.push(k),w=k,y=A}),u.length)throw function OL(n){return new m.vHH(3502,!1)}();return h}function bT(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&wT(t,"start",n)));break;case"done":n.onDone(()=>i(t&&wT(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&wT(t,"destroy",n)))}}function wT(n,e,t){const l=ET(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function ET(n,e,t,i,r="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:l,disabled:!!u}}function to(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function tx(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}z_.\u0275fac=function(e){return new(e||z_)(m.Y36(tg),m.Y36(Gh))},z_.\u0275cmp=m.Xpm({type:z_,selectors:[["app-root"]],decls:21,vars:4,consts:[[1,"hero"],[2,"height","100%",3,"id","url","particlesInit","particlesLoaded"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light",2,"border-radius","30px","margin-left","20px","margin-top","26px","margin-right","20px","margin-bottom","200px"],[1,"container-fluid"],["href","index.html",1,"navbar-brand",2,"margin-left","30px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","/",1,"nav-link"],["href","/imageedit",1,"nav-link"],["href","/about",1,"nav-link"],[4,"ngIf"],["type","ball-scale-multiple"]],template:function(e,t){1&e&&(m.TgZ(0,"section",0)(1,"ng-particles",1),m.NdJ("particlesLoaded",function(r){return t.particlesLoaded(r)}),m.qZA(),m.TgZ(2,"nav",2)(3,"div",3)(4,"a",4),m._uU(5,"backgroundtools"),m.qZA(),m.TgZ(6,"button",5),m._UZ(7,"span",6),m.qZA(),m.TgZ(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),m._uU(12,"remove bg"),m.qZA()(),m.TgZ(13,"li",9)(14,"a",11),m._uU(15,"edit bg"),m.qZA()(),m.TgZ(16,"li",9)(17,"a",12),m._uU(18,"about"),m.qZA()()()()()(),m._UZ(19,"router-outlet"),m.qZA(),m.YNc(20,uL,2,0,"div",13)),2&e&&(m.xp6(1),m.Q6J("id",t.id)("url",t.particlesUrl)("particlesInit",t.particlesInit),m.xp6(19),m.Q6J("ngIf",t.isLoading))},dependencies:[Lr,lL,Yy,Vf],styles:['[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #35b072;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n\n  .drop-zone[_ngcontent-%COMP%] {\n  margin-top: 300px;\n  border: 2px dashed #ffffff;\n  border-radius: 20px;\n  width: 350px;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  font-size: 24px;\n  color: #ffffff;\n  text-align: center;\n}\n\n.image-gallery[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.image-gallery[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  margin: 10px;\n  max-width: 400px;\n  max-height: 400px;\n  overflow: hidden;\n}\n\n.image-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.image-gallery[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n\n\n\n\n\n.image-container[_ngcontent-%COMP%] {\n  position: relative;\n  display: inline-block;\n}\n\n.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  display: block;\n  width: 100%;\n  height: auto;\n  transition: all 0.3s ease;\n}\n\n.overlay[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  background-color: rgba(255, 255, 255, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  color: #fff;\n  font-weight: bold;\n  text-transform: uppercase;\n  text-decoration: none;\n  border: 2px solid #fff;\n  padding: 10px 20px;\n  transition: all 0.3s ease;\n}\n\n.overlay[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\n  background-color: #fff;\n  color: #000;\n}\n\n.image-container[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n\n.image-container[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%] {\n  opacity: 1;\n}\n\n\n\n\n\n\n\n.card[_ngcontent-%COMP%] {\n  background-color: #fff;\n  border-radius: 10px;\n  box-shadow: 0 12px 12px rgba(236, 230, 230, 0.4);\n  padding: 20px;\n  margin: 0 auto;\n  text-align: center;\n  min-height: 200px;\n  min-width: 200px;\n  border-color: #ffffff;\n}\n\n.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  margin-top: 0;\n}\n\n.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin-bottom: 0;\n}\n\n\n\n\n\n\n.buttondownload[_ngcontent-%COMP%] {\n  border-color: white;\n  display: inline-block;\n  padding: 12px 24px;\n  border-radius: 30px;\n  background-color: #fff;\n  color: #2590b0;\n  font-size: 16px;\n  font-weight: bold;\n  text-align: center;\n  text-decoration: none;\n  box-shadow: 4px 4px 4px 4px rgba(203, 214, 203, 0.4);\n  transition: all 0.3s ease;\n  \n}\n\n.buttondownload[_ngcontent-%COMP%]:hover {\n  background-color: #ffffff;\n  color: #1951d5;\n}']});let CT=(n,e)=>!1,nx=(n,e,t)=>[],ix=null;function IT(n){const e=n.parentNode||n.host;return e===ix?null:e}(vT()||typeof Element<"u")&&(WL()?(ix=(()=>document.documentElement)(),CT=(n,e)=>{for(;e;){if(e===n)return!0;e=IT(e)}return!1}):CT=(n,e)=>n.contains(e),nx=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let uf=null,rx=!1;const sx=CT,ox=nx;let ax=(()=>{class n{validateStyleProperty(t){return function ZL(n){uf||(uf=function qL(){return typeof document<"u"?document.body:null}()||{},rx=!!uf.style&&"WebkitAppearance"in uf.style);let e=!0;return uf.style&&!function GL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in uf.style,!e&&rx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in uf.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return sx(t,i)}getParentElement(t){return IT(t)}query(t,i,r){return ox(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,l,u,h=[],y){return new og(r,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})(),DT=(()=>{class n{}return n.NOOP=new ax,n})();const KL=1e3,ST="ng-enter",sE="ng-leave",oE="ng-trigger",aE=".ng-trigger",cx="ng-animating",TT=".ng-animating";function su(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AT(parseFloat(e[1]),e[2])}function AT(n,e){return"s"===e?n*KL:n}function lE(n,e,t){return n.hasOwnProperty("duration")?n:function QL(n,e,t){let r,l=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(JP()),{duration:0,delay:0,easing:""};r=AT(parseFloat(h[1]),h[2]);const y=h[3];null!=y&&(l=AT(parseFloat(y),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!t){let h=!1,y=e.length;r<0&&(e.push(function dL(){return new m.vHH(3100,!1)}()),h=!0),l<0&&(e.push(function hL(){return new m.vHH(3101,!1)}()),h=!0),h&&e.splice(y,0,JP())}return{duration:r,delay:l,easing:u}}(n,e,t)}function H_(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ux(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function kd(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function hx(n,e,t){return t?e+":"+t+";":""}function fx(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=hx(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hx(0,t1(t),n.style[t]));n.setAttribute("style",e)}function Bl(n,e,t){n.style&&(e.forEach((i,r)=>{const l=PT(r);t&&!t.has(r)&&t.set(r,n.style[l]),n.style[l]=i}),vT()&&fx(n))}function df(n,e){n.style&&(e.forEach((t,i)=>{const r=PT(i);n.style[r]=""}),vT()&&fx(n))}function V_(n){return Array.isArray(n)?1==n.length?n[0]:Kb(n):n}const MT=new RegExp("{{\\s*(.+?)\\s*}}","g");function px(n){let e=[];if("string"==typeof n){let t;for(;t=MT.exec(n);)e.push(t[1]);MT.lastIndex=0}return e}function j_(n,e,t){const i=n.toString(),r=i.replace(MT,(l,u)=>{let h=e[u];return null==h&&(t.push(function pL(n){return new m.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function cE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const e1=/-+([a-z0-9])/g;function PT(n){return n.replace(e1,(...e)=>e[1].toUpperCase())}function t1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function no(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gL(n){return new m.vHH(3004,!1)}()}}function gx(n,e){return window.getComputedStyle(n)[e]}const hE="*";function a1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function l1(n,e,t){if(":"==n[0]){const y=function c1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function ML(n){return new m.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function AL(n){return new m.vHH(3015,!1)}()),e;const r=i[1],l=i[2],u=i[3];e.push(mx(r,u));"<"==l[0]&&!(r==hE&&u==hE)&&e.push(mx(u,r))}(i,t,e)):t.push(n),t}const fE=new Set(["true","1"]),pE=new Set(["false","0"]);function mx(n,e){const t=fE.has(n)||pE.has(n),i=fE.has(e)||pE.has(e);return(r,l)=>{let u=n==hE||n==r,h=e==hE||e==l;return!u&&t&&"boolean"==typeof r&&(u=r?fE.has(n):pE.has(n)),!h&&i&&"boolean"==typeof l&&(h=l?fE.has(e):pE.has(e)),u&&h}}const u1=new RegExp("s*:selfs*,?","g");function xT(n,e,t,i){return new d1(n).build(e,t,i)}class d1{constructor(e){this._driver=e}build(e,t,i){const r=new p1(t);return this._resetContextStyleTimingState(r),no(this,V_(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function yL(){return new m.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const y=h,w=y.name;w.toString().split(/\s*,\s*/).forEach(D=>{y.name=D,l.push(this.visitState(y,t))}),y.name=w}else if(1==h.type){const y=this.visitTransition(h,t);i+=y.queryCount,r+=y.depCount,u.push(y)}else t.errors.push(function _L(){return new m.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(y=>{px(y).forEach(w=>{u.hasOwnProperty(w)||l.add(w)})})}),l.size&&(cE(l.values()),t.errors.push(function vL(n,e){return new m.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=no(this,V_(e.animation),t);return{type:1,matchers:a1(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:hf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>no(this,i,t)),options:hf(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const l=e.steps.map(u=>{t.currentTime=i;const h=no(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:l,options:hf(e.options)}}visitAnimate(e,t){const i=function m1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RT(lE(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=RT(0,0,"");return l.dynamic=!0,l.strValue=t,l}const r=lE(t,e);return RT(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,l=e.styles?e.styles:md({});if(5==l.type)r=this.visitKeyframes(l,t);else{let u=e.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=md(w)}t.currentTime+=i.duration+i.delay;const y=this.visitStyle(u,t);y.isEmptyStep=h,r=y}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Zo?i.push(h):t.errors.push(new m.vHH(3002,!1)):i.push(ux(h));let l=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!l))for(let y of h.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,y)=>{const w=t.collectedStyles.get(t.currentQuerySelector),D=w.get(y);let A=!0;D&&(l!=r&&l>=D.startTime&&r<=D.endTime&&(t.errors.push(function wL(n,e,t,i,r){return new m.vHH(3010,!1)}()),A=!1),l=D.startTime),A&&w.set(y,{startTime:l,endTime:r}),t.options&&function JL(n,e,t){const i=e.params||{},r=px(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||t.push(function fL(n){return new m.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function EL(){return new m.vHH(3011,!1)}()),i;let l=0;const u=[];let h=!1,y=!1,w=0;const D=e.steps.map(ve=>{const Re=this._makeStyleAst(ve,t);let tt=null!=Re.offset?Re.offset:function g1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Re.styles),et=0;return null!=tt&&(l++,et=Re.offset=tt),y=y||et<0||et>1,h=h||et<w,w=et,u.push(et),Re});y&&t.errors.push(function CL(){return new m.vHH(3012,!1)}()),h&&t.errors.push(function IL(){return new m.vHH(3200,!1)}());const A=e.steps.length;let R=0;l>0&&l<A?t.errors.push(function DL(){return new m.vHH(3202,!1)}()):0==l&&(R=1/(A-1));const k=A-1,N=t.currentTime,Y=t.currentAnimateTimings,se=Y.duration;return D.forEach((ve,Re)=>{const tt=R>0?Re==k?1:R*Re:u[Re],et=tt*se;t.currentTime=N+Y.delay+et,Y.duration=et,this._validateStyleAst(ve,t),ve.offset=tt,i.styles.push(ve)}),i}visitReference(e,t){return{type:8,animation:no(this,V_(e.animation),t),options:hf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:hf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:hf(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function h1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(u1,"")),n=n.replace(/@\*/g,aE).replace(/@\w+/g,t=>aE+"-"+t.slice(1)).replace(/:animating/g,TT),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,to(t.collectedStyles,t.currentQuerySelector,new Map);const h=no(this,V_(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:hf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function SL(){return new m.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:lE(e.timings,t.errors,!0);return{type:12,animation:no(this,V_(e.animation),t),timings:i,options:null}}}class p1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hf(n){return n?(n=H_(n)).params&&(n.params=function f1(n){return n?H_(n):null}(n.params)):n={},n}function RT(n,e,t){return{duration:n,delay:e,easing:t}}function OT(n,e,t,i,r,l,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:u,subTimeline:h}}class gE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const v1=new RegExp(":enter","g"),w1=new RegExp(":leave","g");function kT(n,e,t,i,r,l=new Map,u=new Map,h,y,w=[]){return(new E1).buildKeyframes(n,e,t,i,r,l,u,h,y,w)}class E1{buildKeyframes(e,t,i,r,l,u,h,y,w,D=[]){w=w||new gE;const A=new NT(e,t,w,r,l,D,[]);A.options=y;const R=y.delay?su(y.delay):0;A.currentTimeline.delayNextStep(R),A.currentTimeline.setStyles([u],null,A.errors,y),no(this,i,A);const k=A.timelines.filter(N=>N.containsAnimation());if(k.length&&h.size){let N;for(let Y=k.length-1;Y>=0;Y--){const se=k[Y];if(se.element===t){N=se;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([h],null,A.errors,y)}return k.length?k.map(N=>N.buildKeyframes()):[OT(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const l=r?.delay;if(l){const u="number"==typeof l?l:su(j_(l,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const u=null!=i.duration?su(i.duration):null,h=null!=i.delay?su(i.delay):null;return 0!==u&&e.forEach(y=>{const w=t.appendInstructionToTimeline(y,u,h);l=Math.max(l,w.duration+w.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),no(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const l=e.options;if(l&&(l.params||l.delay)&&(r=t.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=mE);const u=su(l.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>no(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?su(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);l&&h.delayNextStep(l),no(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return lE(t.params?j_(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,l=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(y=>{h.forwardTime((y.offset||0)*l),h.setStyles(y.styles,y.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},l=r.delay?su(r.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mE);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let y=null;h.forEach((w,D)=>{t.currentQueryIndex=D;const A=t.createSubContext(e.options,w);l&&A.delayNextStep(l),w===t.element&&(y=A.currentTimeline),no(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),h=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=h-y;break;case"full":y=i.currentStaggerTime}const D=t.currentTimeline;y&&D.delayNextStep(y);const A=D.currentTime;no(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const mE={};class NT{constructor(e,t,i,r,l,u,h,y){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new yE(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=su(i.duration)),null!=i.delay&&(r.delay=su(i.delay));const l=i.params;if(l){let u=r.params;u||(u=this.options.params={}),Object.keys(l).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=j_(l[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,l=new NT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=mE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},l=new C1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,l,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(v1,"."+this._enterClassName)).replace(w1,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!l&&0==h.length&&u.push(function TL(n){return new m.vHH(3014,!1)}()),h}}class yE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Zo),this._currentKeyframe.set(t,Zo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const l=r&&r.params||{},u=function I1(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let l of i)t.set(l,Zo)}else kd(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,y]of u){const w=j_(y,l,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Zo),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,y)=>{const w=kd(h,new Map,this._backFill);w.forEach((D,A)=>{D===Qb?e.add(A):D===Zo&&t.add(A)}),i||w.set("offset",y/this.duration),r.push(w)});const l=e.size?cE(e.values()):[],u=t.size?cE(t.values()):[];if(i){const h=r[0],y=new Map(h);h.set("offset",0),y.set("offset",1),r=[h,y]}return OT(this.element,r,l,u,this.duration,this.startTime,this.easing,!1)}}class C1 extends yE{constructor(e,t,i,r,l,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=i+t,h=t/u,y=kd(e[0]);y.set("offset",0),l.push(y);const w=kd(e[0]);w.set("offset",vx(h)),l.push(w);const D=e.length-1;for(let A=1;A<=D;A++){let R=kd(e[A]);const k=R.get("offset");R.set("offset",vx((t+k*i)/u)),l.push(R)}i=u,t=0,r="",e=l}return OT(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function vx(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class LT{}const D1=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class S1 extends LT{normalizePropertyName(e,t){return PT(e)}normalizeStyleValue(e,t,i,r){let l="";const u=i.toString().trim();if(D1.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function mL(n,e){return new m.vHH(3005,!1)}())}return u+l}}function bx(n,e,t,i,r,l,u,h,y,w,D,A,R){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:l,toState:i,toStyles:u,timelines:h,queriedElements:y,preStyleProps:w,postStyleProps:D,totalTime:A,errors:R}}const FT={};class wx{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function T1(n,e,t,i,r){return n.some(l=>l(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,l,u,h,y,w,D){const A=[],R=this.ast.options&&this.ast.options.params||FT,N=this.buildStyles(i,h&&h.params||FT,A),Y=y&&y.params||FT,se=this.buildStyles(r,Y,A),ve=new Set,Re=new Map,tt=new Map,et="void"===r,Yt={params:A1(Y,R),delay:this.ast.options?.delay},Ht=D?[]:kT(e,t,this.ast.animation,l,u,N,se,Yt,w,A);let ni=0;if(Ht.forEach(Xr=>{ni=Math.max(Xr.duration+Xr.delay,ni)}),A.length)return bx(t,this._triggerName,i,r,et,N,se,[],[],Re,tt,ni,A);Ht.forEach(Xr=>{const io=Xr.element,W_=to(Re,io,new Set);Xr.preStyleProps.forEach(zl=>W_.add(zl));const ou=to(tt,io,new Set);Xr.postStyleProps.forEach(zl=>ou.add(zl)),io!==t&&ve.add(io)});const mr=cE(ve.values());return bx(t,this._triggerName,i,r,et,N,se,Ht,mr,Re,tt,ni)}}function A1(n,e){const t=H_(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class M1{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=H_(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!==u&&(r[l]=u)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,h)=>{u&&(u=j_(u,r,t));const y=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,y,u,t),i.set(h,u)})}),i}}class x1{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new M1(r.style,r.options&&r.options.params||{},i))}),Ex(this.states,"true","1"),Ex(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new wx(e,r,this.states))}),this.fallbackTransition=function R1(n,e,t){return new wx(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Ex(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const O1=new gE;class k1{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],l=xT(this._driver,t,i,r);if(i.length)throw function kL(n){return new m.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,i){const r=e.element,l=ex(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],l=this._animations.get(e);let u;const h=new Map;if(l?(u=kT(this._driver,t,l,ST,sE,new Map,new Map,i,O1,r),u.forEach(D=>{const A=to(h,D.element,new Map);D.postStyleProps.forEach(R=>A.set(R,null))})):(r.push(function NL(){return new m.vHH(3300,!1)}()),u=[]),r.length)throw function LL(n){return new m.vHH(3504,!1)}();h.forEach((D,A)=>{D.forEach((R,k)=>{D.set(k,this._driver.computeStyle(A,k,Zo))})});const w=Od(u.map(D=>{const A=h.get(D.element);return this._buildPlayer(D,new Map,A)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function FL(n){return new m.vHH(3301,!1)}();return t}listen(e,t,i,r){const l=ET(t,"","","");return bT(this._getPlayer(e),i,l,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Cx="ng-animate-queued",UT="ng-animate-disabled",B1=[],Ix={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},z1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jo="__ng_removed";class BT{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function $1(n){return n??null}(i?e.value:e),i){const l=H_(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const $_="void",zT=new BT($_);class H1{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ea(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function UL(n,e){return new m.vHH(3302,!1)}();if(null==i||0==i.length)throw function BL(n){return new m.vHH(3303,!1)}();if(!function W1(n){return"start"==n||"done"==n}(i))throw function zL(n,e){return new m.vHH(3400,!1)}();const l=to(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};l.push(u);const h=to(this._engine.statesByElement,e,new Map);return h.has(t)||(ea(e,oE),ea(e,oE+"-"+t),h.set(t,zT)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(u);y>=0&&l.splice(y,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function HL(n){return new m.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const l=this._getTrigger(t),u=new HT(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ea(e,oE),ea(e,oE+"-"+t),this._engine.statesByElement.set(e,h=new Map));let y=h.get(t);const w=new BT(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&w.absorbOptions(y.options),h.set(t,w),y||(y=zT),w.value!==$_&&y.value===w.value){if(!function q1(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const l=t[r];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,w.params)){const Y=[],se=l.matchStyles(y.value,y.params,Y),ve=l.matchStyles(w.value,w.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{df(e,se),Bl(e,ve)})}return}const R=to(this._engine.playersByElement,e,[]);R.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let k=l.matchTransition(y.value,w.value,e,w.params),N=!1;if(!k){if(!r)return;k=l.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:k,fromState:y,toState:w,player:u,isFallbackTransition:N}),N||(ea(e,Cx),u.onStart(()=>{Rg(e,Cx)})),u.onDone(()=>{let Y=this.players.indexOf(u);Y>=0&&this.players.splice(Y,1);const se=this._engine.playersByElement.get(e);if(se){let ve=se.indexOf(u);ve>=0&&se.splice(ve,1)}}),this.players.push(u),R.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,aE,!0);i.forEach(r=>{if(r[Jo])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const h=[];if(l.forEach((y,w)=>{if(u.set(w,y.value),this._triggers.has(w)){const D=this.trigger(e,w,$_,r);D&&h.push(D)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Od(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(l=>{const u=l.name;if(r.has(u))return;r.add(u);const y=this._triggers.get(u).fallbackTransition,w=i.get(u)||zT,D=new BT($_),A=new HT(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:w,toState:D,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Jo];(!l||l===Ix)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ea(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(h=>{if(h.name==i.triggerName){const y=ET(l,i.triggerName,i.fromState.value,i.toState.value);y._data=e,bT(i.player,h.phase,y,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const l=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class V1{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new H1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const y=r.get(h);if(y){const w=i.indexOf(y);i.splice(w+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const l=this._fetchNamespace(r.namespaceId);l&&t.add(l)}return t}trigger(e,t,i,r){if(_E(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!_E(t))return;const l=t[Jo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ea(e,UT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Rg(e,UT))}removeNode(e,t,i,r){if(_E(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,l){this.collectedLeaveElements.push(t),t[Jo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,r,l){return _E(t)?this._fetchNamespace(e).listen(t,i,r,l):()=>{}}_buildInstruction(e,t,i,r,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,aE,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,TT,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Od(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jo];if(t&&t.setForRemoval){if(e[Jo]=Ix,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(UT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ea(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Od(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function VL(n){return new m.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new gE,r=[],l=new Map,u=[],h=new Map,y=new Map,w=new Map,D=new Set;this.disabledNodes.forEach(lt=>{D.add(lt);const ht=this.driver.query(lt,".ng-animate-queued",!0);for(let At=0;At<ht.length;At++)D.add(ht[At])});const A=this.bodyNode,R=Array.from(this.statesByElement.keys()),k=Tx(R,this.collectedEnterElements),N=new Map;let Y=0;k.forEach((lt,ht)=>{const At=ST+Y++;N.set(ht,At),lt.forEach(Xt=>ea(Xt,At))});const se=[],ve=new Set,Re=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const ht=this.collectedLeaveElements[lt],At=ht[Jo];At&&At.setForRemoval&&(se.push(ht),ve.add(ht),At.hasAnimation?this.driver.query(ht,".ng-star-inserted",!0).forEach(Xt=>ve.add(Xt)):Re.add(ht))}const tt=new Map,et=Tx(R,Array.from(ve));et.forEach((lt,ht)=>{const At=sE+Y++;tt.set(ht,At),lt.forEach(Xt=>ea(Xt,At))}),e.push(()=>{k.forEach((lt,ht)=>{const At=N.get(ht);lt.forEach(Xt=>Rg(Xt,At))}),et.forEach((lt,ht)=>{const At=tt.get(ht);lt.forEach(Xt=>Rg(Xt,At))}),se.forEach(lt=>{this.processLeaveNode(lt)})});const Yt=[],Ht=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(At=>{const Xt=At.player,tr=At.element;if(Yt.push(Xt),this.collectedEnterElements.length){const kr=tr[Jo];if(kr&&kr.setForMove){if(kr.previousTriggersValues&&kr.previousTriggersValues.has(At.triggerName)){const pf=kr.previousTriggersValues.get(At.triggerName),ta=this.statesByElement.get(At.element);if(ta&&ta.has(At.triggerName)){const wE=ta.get(At.triggerName);wE.value=pf,ta.set(At.triggerName,wE)}}return void Xt.destroy()}}const Hl=!A||!this.driver.containsElement(A,tr),ro=tt.get(tr),Nd=N.get(tr),Zn=this._buildInstruction(At,i,Nd,ro,Hl);if(Zn.errors&&Zn.errors.length)return void Ht.push(Zn);if(Hl)return Xt.onStart(()=>df(tr,Zn.fromStyles)),Xt.onDestroy(()=>Bl(tr,Zn.toStyles)),void r.push(Xt);if(At.isFallbackTransition)return Xt.onStart(()=>df(tr,Zn.fromStyles)),Xt.onDestroy(()=>Bl(tr,Zn.toStyles)),void r.push(Xt);const Lx=[];Zn.timelines.forEach(kr=>{kr.stretchStartingKeyframe=!0,this.disabledNodes.has(kr.element)||Lx.push(kr)}),Zn.timelines=Lx,i.append(tr,Zn.timelines),u.push({instruction:Zn,player:Xt,element:tr}),Zn.queriedElements.forEach(kr=>to(h,kr,[]).push(Xt)),Zn.preStyleProps.forEach((kr,pf)=>{if(kr.size){let ta=y.get(pf);ta||y.set(pf,ta=new Set),kr.forEach((wE,$T)=>ta.add($T))}}),Zn.postStyleProps.forEach((kr,pf)=>{let ta=w.get(pf);ta||w.set(pf,ta=new Set),kr.forEach((wE,$T)=>ta.add($T))})});if(Ht.length){const lt=[];Ht.forEach(ht=>{lt.push(function jL(n,e){return new m.vHH(3505,!1)}())}),Yt.forEach(ht=>ht.destroy()),this.reportError(lt)}const ni=new Map,mr=new Map;u.forEach(lt=>{const ht=lt.element;i.has(ht)&&(mr.set(ht,ht),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,ni))}),r.forEach(lt=>{const ht=lt.element;this._getPreviousPlayers(ht,!1,lt.namespaceId,lt.triggerName,null).forEach(Xt=>{to(ni,ht,[]).push(Xt),Xt.destroy()})});const Xr=se.filter(lt=>Mx(lt,y,w)),io=new Map;Sx(io,this.driver,Re,w,Zo).forEach(lt=>{Mx(lt,y,w)&&Xr.push(lt)});const ou=new Map;k.forEach((lt,ht)=>{Sx(ou,this.driver,new Set(lt),y,Qb)}),Xr.forEach(lt=>{const ht=io.get(lt),At=ou.get(lt);io.set(lt,new Map([...Array.from(ht?.entries()??[]),...Array.from(At?.entries()??[])]))});const zl=[],ff=[],Ai={};u.forEach(lt=>{const{element:ht,player:At,instruction:Xt}=lt;if(i.has(ht)){if(D.has(ht))return At.onDestroy(()=>Bl(ht,Xt.toStyles)),At.disabled=!0,At.overrideTotalTime(Xt.totalTime),void r.push(At);let tr=Ai;if(mr.size>1){let ro=ht;const Nd=[];for(;ro=ro.parentNode;){const Zn=mr.get(ro);if(Zn){tr=Zn;break}Nd.push(ro)}Nd.forEach(Zn=>mr.set(Zn,tr))}const Hl=this._buildAnimation(At.namespaceId,Xt,ni,l,ou,io);if(At.setRealPlayer(Hl),tr===Ai)zl.push(At);else{const ro=this.playersByElement.get(tr);ro&&ro.length&&(At.parentPlayer=Od(ro)),r.push(At)}}else df(ht,Xt.fromStyles),At.onDestroy(()=>Bl(ht,Xt.toStyles)),ff.push(At),D.has(ht)&&r.push(At)}),ff.forEach(lt=>{const ht=l.get(lt.element);if(ht&&ht.length){const At=Od(ht);lt.setRealPlayer(At)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<se.length;lt++){const ht=se[lt],At=ht[Jo];if(Rg(ht,sE),At&&At.hasAnimation)continue;let Xt=[];if(h.size){let Hl=h.get(ht);Hl&&Hl.length&&Xt.push(...Hl);let ro=this.driver.query(ht,TT,!0);for(let Nd=0;Nd<ro.length;Nd++){let Zn=h.get(ro[Nd]);Zn&&Zn.length&&Xt.push(...Zn)}}const tr=Xt.filter(Hl=>!Hl.destroyed);tr.length?G1(this,ht,tr):this.processLeaveNode(ht)}return se.length=0,zl.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const ht=this.players.indexOf(lt);this.players.splice(ht,1)}),lt.play()}),zl}elementContainsData(e,t){let i=!1;const r=t[Jo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,l){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const y=!l||l==$_;h.forEach(w=>{w.queued||!y&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const l=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const w=y.element,D=w!==l,A=to(i,w,[]);this._getPreviousPlayers(w,D,u,h,t.toState).forEach(k=>{const N=k.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),k.destroy(),A.push(k)})}df(l,t.fromStyles)}_buildAnimation(e,t,i,r,l,u){const h=t.triggerName,y=t.element,w=[],D=new Set,A=new Set,R=t.timelines.map(N=>{const Y=N.element;D.add(Y);const se=Y[Jo];if(se&&se.removedBeforeQueried)return new og(N.duration,N.delay);const ve=Y!==y,Re=function Z1(n){const e=[];return Ax(n,e),e}((i.get(Y)||B1).map(ni=>ni.getRealPlayer())).filter(ni=>!!ni.element&&ni.element===Y),tt=l.get(Y),et=u.get(Y),Yt=ex(0,this._normalizer,0,N.keyframes,tt,et),Ht=this._buildPlayer(N,Yt,Re);if(N.subTimeline&&r&&A.add(Y),ve){const ni=new HT(e,h,Y);ni.setRealPlayer(Ht),w.push(ni)}return Ht});w.forEach(N=>{to(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function j1(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,N.element,N))}),D.forEach(N=>ea(N,cx));const k=Od(R);return k.onDestroy(()=>{D.forEach(N=>Rg(N,cx)),Bl(y,t.toStyles)}),A.forEach(N=>{to(r,N,[]).push(k)}),k}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new og(e.duration,e.delay)}}class HT{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new og,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>bT(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){to(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _E(n){return n&&1===n.nodeType}function Dx(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Sx(n,e,t,i,r){const l=[];t.forEach(y=>l.push(Dx(y)));const u=[];i.forEach((y,w)=>{const D=new Map;y.forEach(A=>{const R=e.computeStyle(w,A,r);D.set(A,R),(!R||0==R.length)&&(w[Jo]=z1,u.push(w))}),n.set(w,D)});let h=0;return t.forEach(y=>Dx(y,l[h++])),u}function Tx(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=1,r=new Set(e),l=new Map;function u(h){if(!h)return i;let y=l.get(h);if(y)return y;const w=h.parentNode;return y=t.has(w)?w:r.has(w)?i:u(w),l.set(h,y),y}return e.forEach(h=>{const y=u(h);y!==i&&t.get(y).push(h)}),t}function ea(n,e){n.classList?.add(e)}function Rg(n,e){n.classList?.remove(e)}function G1(n,e,t){Od(t).onDone(()=>n.processLeaveNode(e))}function Ax(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof ED?Ax(i.players,e):e.push(i)}}function Mx(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(l=>r.add(l)):e.set(n,i),t.delete(n),!0}class vE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new V1(e,t,i),this._timelineEngine=new k1(e,t,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(e,t,i,r,l){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const y=[],w=[],D=xT(this._driver,l,y,w);if(y.length)throw function RL(n,e){return new m.vHH(3404,!1)}();h=function P1(n,e,t){return new x1(n,e,t)}(r,D,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[l,u]=tx(i);this._timelineEngine.command(l,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,l){if("@"==i.charAt(0)){const[u,h]=tx(i);return this._timelineEngine.listen(u,t,h,l)}return this._transitionEngine.listen(e,t,i,r,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Y1=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Bl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bl(this._element,this._initialStyles),this._endStyles&&(Bl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(df(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(df(this._element,this._endStyles),this._endStyles=null),Bl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function VT(n){let e=null;return n.forEach((t,i)=>{(function Q1(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Px{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:gx(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class X1{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return sx(e,t)}getParentElement(e){return IT(e)}query(e,t,i){return ox(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,l,u=[]){const y={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(y.easing=l);const w=new Map,D=u.filter(k=>k instanceof Px);(function n1(n,e){return 0===n||0===e})(i,r)&&D.forEach(k=>{k.currentSnapshot.forEach((N,Y)=>w.set(Y,N))});let A=function XL(n){return n.length?n[0]instanceof Map?n:n.map(e=>ux(e)):[]}(t).map(k=>kd(k));A=function i1(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((l,u)=>{i.has(u)||r.push(u),i.set(u,l)}),r.length)for(let l=1;l<e.length;l++){let u=e[l];r.forEach(h=>u.set(h,gx(n,h)))}}return e}(e,A,w);const R=function K1(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=VT(e[0]),e.length>1&&(i=VT(e[e.length-1]))):e instanceof Map&&(t=VT(e)),t||i?new Y1(n,t,i):null}(e,A);return new Px(e,A,y,R)}}let J1=(()=>{class n extends Gb{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:m.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Kb(t):t;return xx(this._renderer,null,i,"register",[r]),new eF(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.FYo),m.LFG(te))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class eF extends Zb{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new tF(this._id,e,t||{},this._renderer)}}class tF{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return xx(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xx(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Rx="@.disabled";let nF=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{const h=u?.parentNode(l);h&&u.removeChild(h,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let D=this._rendererCache.get(l);return D||(D=new Ox("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,D)),D}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const y=D=>{Array.isArray(D)?D.forEach(y):this.engine.registerTrigger(u,h,t,D.name,D)};return i.data.animation.forEach(y),new iF(this,h,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,h]=l;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(m.FYo),m.LFG(vE),m.LFG(m.R0b))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})();class Ox{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Rx?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iF extends Ox{constructor(e,t,i,r,l){super(t,i,r,l),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Rx?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function rF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),u="";return"@"!=l.charAt(0)&&([l,u]=function sF(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,r,l,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}const kx=[{provide:Gb,useClass:J1},{provide:LT,useFactory:function aF(){return new S1}},{provide:vE,useClass:(()=>{class n extends vE{constructor(t,i,r,l){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(m.LFG(te),m.LFG(DT),m.LFG(LT),m.LFG(m.z2F))},n.\u0275prov=m.Yz7({token:n,factory:n.\u0275fac}),n})()},{provide:m.FYo,useFactory:function lF(n,e,t){return new nF(n,e,t)},deps:[Qn,vE,m.R0b]}],jT=[{provide:DT,useFactory:()=>new X1},{provide:m.QbO,useValue:"BrowserAnimations"},...kx],Nx=[{provide:DT,useClass:ax},{provide:m.QbO,useValue:"NoopAnimations"},...kx];let cF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Nx:jT}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=m.oAB({type:n}),n.\u0275inj=m.cJS({providers:jT,imports:[So]}),n})();class Og{}Og.\u0275fac=function(e){return new(e||Og)},Og.\u0275mod=m.oAB({type:Og,bootstrap:[z_]}),Og.\u0275inj=m.cJS({imports:[So,Xs.hO.initializeApp({apiKey:"AIzaSyD8rEGvetcI4b7j7vO_4TgnzUP-PjhTjGs",authDomain:"background-e6a97.firebaseapp.com",databaseURL:"https://background-e6a97-default-rtdb.firebaseio.com",projectId:"background-e6a97",storageBucket:"background-e6a97.appspot.com",messagingSenderId:"786223364937",appId:"1:786223364937:web:018793742a96117808f898"}),cL,cF,xA.forRoot({type:"ball-scale-multiple"}),xg,mD]}),Du().bootstrapModule(Og).catch(n=>console.error(n))},9751:(ut,Ee,F)=>{F.d(Ee,{y:()=>ce});var m=F(930),ee=F(727),L=F(8822),re=F(9635),ie=F(2416),te=F(576),de=F(2806);let ce=(()=>{class Q{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const je=new Q;return je.source=this,je.operator=Ie,je}subscribe(Ie,je,nt){const fe=function W(Q){return Q&&Q instanceof m.Lv||function $(Q){return Q&&(0,te.m)(Q.next)&&(0,te.m)(Q.error)&&(0,te.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(Ie)?Ie:new m.Hp(Ie,je,nt);return(0,de.x)(()=>{const{operator:De,source:Se}=this;fe.add(De?De.call(fe,Se):Se?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(je){Ie.error(je)}}forEach(Ie,je){return new(je=le(je))((nt,fe)=>{const De=new m.Hp({next:Se=>{try{Ie(Se)}catch(Ne){fe(Ne),De.unsubscribe()}},error:fe,complete:nt});this.subscribe(De)})}_subscribe(Ie){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(Ie)}[L.L](){return this}pipe(...Ie){return(0,re.U)(Ie)(this)}toPromise(Ie){return new(Ie=le(Ie))((je,nt)=>{let fe;this.subscribe(De=>fe=De,De=>nt(De),()=>je(fe))})}}return Q.create=Be=>new Q(Be),Q})();function le(Q){var Be;return null!==(Be=Q??ie.v.Promise)&&void 0!==Be?Be:Promise}},7579:(ut,Ee,F)=>{F.d(Ee,{x:()=>de});var m=F(9751),ee=F(727);const re=(0,F(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=F(8737),te=F(2806);let de=(()=>{class le extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Q=new ce(this,this);return Q.operator=W,Q}_throwIfClosed(){if(this.closed)throw new re}next(W){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(W)}})}error(W){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Q}=this;for(;Q.length;)Q.shift().error(W)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Q,isStopped:Be,observers:Ie}=this;return Q||Be?ee.Lc:(this.currentObservers=null,Ie.push(W),new ee.w0(()=>{this.currentObservers=null,(0,ie.P)(Ie,W)}))}_checkFinalizedStatuses(W){const{hasError:Q,thrownError:Be,isStopped:Ie}=this;Q?W.error(Be):Ie&&W.complete()}asObservable(){const W=new m.y;return W.source=this,W}}return le.create=($,W)=>new ce($,W),le})();class ce extends de{constructor($,W){super(),this.destination=$,this.source=W}next($){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Q||Q.call(W,$)}error($){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Q||Q.call(W,$)}complete(){var $,W;null===(W=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===W||W.call($)}_subscribe($){var W,Q;return null!==(Q=null===(W=this.source)||void 0===W?void 0:W.subscribe($))&&void 0!==Q?Q:ee.Lc}}},930:(ut,Ee,F)=>{F.d(Ee,{Hp:()=>nt,Lv:()=>Q});var m=F(576),ee=F(727),L=F(2416),re=F(7849),ie=F(5032);const te=le("C",void 0,void 0);function le(Ce,_e,Te){return{kind:Ce,value:_e,error:Te}}var $=F(3410),W=F(2806);class Q extends ee.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,ee.Nn)(_e)&&_e.add(this)):this.destination=Ne}static create(_e,Te,Fe){return new nt(_e,Te,Fe)}next(_e){this.isStopped?Se(function ce(Ce){return le("N",Ce,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Se(function de(Ce){return le("E",void 0,Ce)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Se(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ie(Ce,_e){return Be.call(Ce,_e)}class je{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Te}=this;if(Te.next)try{Te.next(_e)}catch(Fe){fe(Fe)}}error(_e){const{partialObserver:Te}=this;if(Te.error)try{Te.error(_e)}catch(Fe){fe(Fe)}else fe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Te){fe(Te)}}}class nt extends Q{constructor(_e,Te,Fe){let xe;if(super(),(0,m.m)(_e)||!_e)xe={next:_e??void 0,error:Te??void 0,complete:Fe??void 0};else{let V;this&&L.v.useDeprecatedNextContext?(V=Object.create(_e),V.unsubscribe=()=>this.unsubscribe(),xe={next:_e.next&&Ie(_e.next,V),error:_e.error&&Ie(_e.error,V),complete:_e.complete&&Ie(_e.complete,V)}):xe=_e}this.destination=new je(xe)}}function fe(Ce){L.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ce):(0,re.h)(Ce)}function Se(Ce,_e){const{onStoppedNotification:Te}=L.v;Te&&$.z.setTimeout(()=>Te(Ce,_e))}const Ne={closed:!0,next:ie.Z,error:function De(Ce){throw Ce},complete:ie.Z}},727:(ut,Ee,F)=>{F.d(Ee,{Lc:()=>te,w0:()=>ie,Nn:()=>de});var m=F(576);const L=(0,F(3888).d)(le=>function(W){le(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Q,Be)=>`${Be+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var re=F(8737);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ie of W)Ie.remove(this);else W.remove(this);const{initialTeardown:Q}=this;if((0,m.m)(Q))try{Q()}catch(Ie){$=Ie instanceof L?Ie.errors:[Ie]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ie of Be)try{ce(Ie)}catch(je){$=$??[],je instanceof L?$=[...$,...je.errors]:$.push(je)}}if($)throw new L($)}}add($){var W;if($&&$!==this)if(this.closed)ce($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push($)}}_hasParent($){const{_parentage:W}=this;return W===$||Array.isArray(W)&&W.includes($)}_addParent($){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push($),W):W?[W,$]:$}_removeParent($){const{_parentage:W}=this;W===$?this._parentage=null:Array.isArray(W)&&(0,re.P)(W,$)}remove($){const{_finalizers:W}=this;W&&(0,re.P)(W,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const le=new ie;return le.closed=!0,le})();const te=ie.EMPTY;function de(le){return le instanceof ie||le&&"closed"in le&&(0,m.m)(le.remove)&&(0,m.m)(le.add)&&(0,m.m)(le.unsubscribe)}function ce(le){(0,m.m)(le)?le():le.unsubscribe()}},2416:(ut,Ee,F)=>{F.d(Ee,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ee,F)=>{F.d(Ee,{E:()=>ee});const ee=new(F(9751).y)(ie=>ie.complete())},8996:(ut,Ee,F)=>{F.d(Ee,{D:()=>_e});var m=F(8421),ee=F(5363),L=F(9468),te=F(9751),ce=F(2202),le=F(576),$=F(9672);function Q(Te,Fe){if(!Te)throw new Error("Iterable cannot be null");return new te.y(xe=>{(0,$.f)(xe,Fe,()=>{const V=Te[Symbol.asyncIterator]();(0,$.f)(xe,Fe,()=>{V.next().then(ge=>{ge.done?xe.complete():xe.next(ge.value)})},0,!0)})})}var Be=F(3670),Ie=F(8239),je=F(1144),nt=F(6495),fe=F(2206),De=F(4532),Se=F(3260);function _e(Te,Fe){return Fe?function Ce(Te,Fe){if(null!=Te){if((0,Be.c)(Te))return function re(Te,Fe){return(0,m.Xf)(Te).pipe((0,L.R)(Fe),(0,ee.Q)(Fe))}(Te,Fe);if((0,je.z)(Te))return function de(Te,Fe){return new te.y(xe=>{let V=0;return Fe.schedule(function(){V===Te.length?xe.complete():(xe.next(Te[V++]),xe.closed||this.schedule())})})}(Te,Fe);if((0,Ie.t)(Te))return function ie(Te,Fe){return(0,m.Xf)(Te).pipe((0,L.R)(Fe),(0,ee.Q)(Fe))}(Te,Fe);if((0,fe.D)(Te))return Q(Te,Fe);if((0,nt.T)(Te))return function W(Te,Fe){return new te.y(xe=>{let V;return(0,$.f)(xe,Fe,()=>{V=Te[ce.h](),(0,$.f)(xe,Fe,()=>{let ge,Ue;try{({value:ge,done:Ue}=V.next())}catch($e){return void xe.error($e)}Ue?xe.complete():xe.next(ge)},0,!0)}),()=>(0,le.m)(V?.return)&&V.return()})}(Te,Fe);if((0,Se.L)(Te))return function Ne(Te,Fe){return Q((0,Se.Q)(Te),Fe)}(Te,Fe)}throw(0,De.z)(Te)}(Te,Fe):(0,m.Xf)(Te)}},8421:(ut,Ee,F)=>{F.d(Ee,{Xf:()=>Be});var m=F(655),ee=F(1144),L=F(8239),re=F(9751),ie=F(3670),te=F(2206),de=F(4532),ce=F(6495),le=F(3260),$=F(576),W=F(7849),Q=F(8822);function Be(Ce){if(Ce instanceof re.y)return Ce;if(null!=Ce){if((0,ie.c)(Ce))return function Ie(Ce){return new re.y(_e=>{const Te=Ce[Q.L]();if((0,$.m)(Te.subscribe))return Te.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,ee.z)(Ce))return function je(Ce){return new re.y(_e=>{for(let Te=0;Te<Ce.length&&!_e.closed;Te++)_e.next(Ce[Te]);_e.complete()})}(Ce);if((0,L.t)(Ce))return function nt(Ce){return new re.y(_e=>{Ce.then(Te=>{_e.closed||(_e.next(Te),_e.complete())},Te=>_e.error(Te)).then(null,W.h)})}(Ce);if((0,te.D)(Ce))return De(Ce);if((0,ce.T)(Ce))return function fe(Ce){return new re.y(_e=>{for(const Te of Ce)if(_e.next(Te),_e.closed)return;_e.complete()})}(Ce);if((0,le.L)(Ce))return function Se(Ce){return De((0,le.Q)(Ce))}(Ce)}throw(0,de.z)(Ce)}function De(Ce){return new re.y(_e=>{(function Ne(Ce,_e){var Te,Fe,xe,V;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Te=(0,m.KL)(Ce);!(Fe=yield Te.next()).done;)if(_e.next(Fe.value),_e.closed)return}catch(ge){xe={error:ge}}finally{try{Fe&&!Fe.done&&(V=Te.return)&&(yield V.call(Te))}finally{if(xe)throw xe.error}}_e.complete()})})(Ce,_e).catch(Te=>_e.error(Te))})}},6451:(ut,Ee,F)=>{F.d(Ee,{T:()=>te});var m=F(8189),ee=F(8421),L=F(515),re=F(7669),ie=F(8996);function te(...de){const ce=(0,re.yG)(de),le=(0,re._6)(de,1/0),$=de;return $.length?1===$.length?(0,ee.Xf)($[0]):(0,m.J)(le)((0,ie.D)($,ce)):L.E}},5403:(ut,Ee,F)=>{F.d(Ee,{x:()=>ee});var m=F(930);function ee(re,ie,te,de,ce){return new L(re,ie,te,de,ce)}class L extends m.Lv{constructor(ie,te,de,ce,le,$){super(ie),this.onFinalize=le,this.shouldUnsubscribe=$,this._next=te?function(W){try{te(W)}catch(Q){ie.error(Q)}}:super._next,this._error=ce?function(W){try{ce(W)}catch(Q){ie.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(W){ie.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(ut,Ee,F)=>{F.d(Ee,{U:()=>L});var m=F(4482),ee=F(5403);function L(re,ie){return(0,m.e)((te,de)=>{let ce=0;te.subscribe((0,ee.x)(de,le=>{de.next(re.call(ie,le,ce++))}))})}},8189:(ut,Ee,F)=>{F.d(Ee,{J:()=>L});var m=F(5577),ee=F(4671);function L(re=1/0){return(0,m.z)(ee.y,re)}},5577:(ut,Ee,F)=>{F.d(Ee,{z:()=>ce});var m=F(4004),ee=F(8421),L=F(4482),re=F(9672),ie=F(5403),de=F(576);function ce(le,$,W=1/0){return(0,de.m)($)?ce((Q,Be)=>(0,m.U)((Ie,je)=>$(Q,Ie,Be,je))((0,ee.Xf)(le(Q,Be))),W):("number"==typeof $&&(W=$),(0,L.e)((Q,Be)=>function te(le,$,W,Q,Be,Ie,je,nt){const fe=[];let De=0,Se=0,Ne=!1;const Ce=()=>{Ne&&!fe.length&&!De&&$.complete()},_e=Fe=>De<Q?Te(Fe):fe.push(Fe),Te=Fe=>{Ie&&$.next(Fe),De++;let xe=!1;(0,ee.Xf)(W(Fe,Se++)).subscribe((0,ie.x)($,V=>{Be?.(V),Ie?_e(V):$.next(V)},()=>{xe=!0},void 0,()=>{if(xe)try{for(De--;fe.length&&De<Q;){const V=fe.shift();je?(0,re.f)($,je,()=>Te(V)):Te(V)}Ce()}catch(V){$.error(V)}}))};return le.subscribe((0,ie.x)($,_e,()=>{Ne=!0,Ce()})),()=>{nt?.()}}(Q,Be,le,W)))}},5363:(ut,Ee,F)=>{F.d(Ee,{Q:()=>re});var m=F(9672),ee=F(4482),L=F(5403);function re(ie,te=0){return(0,ee.e)((de,ce)=>{de.subscribe((0,L.x)(ce,le=>(0,m.f)(ce,ie,()=>ce.next(le),te),()=>(0,m.f)(ce,ie,()=>ce.complete(),te),le=>(0,m.f)(ce,ie,()=>ce.error(le),te)))})}},3099:(ut,Ee,F)=>{F.d(Ee,{B:()=>ie});var m=F(8421),ee=F(7579),L=F(930),re=F(4482);function ie(de={}){const{connector:ce=(()=>new ee.x),resetOnError:le=!0,resetOnComplete:$=!0,resetOnRefCountZero:W=!0}=de;return Q=>{let Be,Ie,je,nt=0,fe=!1,De=!1;const Se=()=>{Ie?.unsubscribe(),Ie=void 0},Ne=()=>{Se(),Be=je=void 0,fe=De=!1},Ce=()=>{const _e=Be;Ne(),_e?.unsubscribe()};return(0,re.e)((_e,Te)=>{nt++,!De&&!fe&&Se();const Fe=je=je??ce();Te.add(()=>{nt--,0===nt&&!De&&!fe&&(Ie=te(Ce,W))}),Fe.subscribe(Te),!Be&&nt>0&&(Be=new L.Hp({next:xe=>Fe.next(xe),error:xe=>{De=!0,Se(),Ie=te(Ne,le,xe),Fe.error(xe)},complete:()=>{fe=!0,Se(),Ie=te(Ne,$),Fe.complete()}}),(0,m.Xf)(_e).subscribe(Be))})(Q)}}function te(de,ce,...le){if(!0===ce)return void de();if(!1===ce)return;const $=new L.Hp({next:()=>{$.unsubscribe(),de()}});return(0,m.Xf)(ce(...le)).subscribe($)}},9468:(ut,Ee,F)=>{F.d(Ee,{R:()=>ee});var m=F(4482);function ee(L,re=0){return(0,m.e)((ie,te)=>{te.add(L.schedule(()=>ie.subscribe(te),re))})}},8505:(ut,Ee,F)=>{F.d(Ee,{b:()=>ie});var m=F(576),ee=F(4482),L=F(5403),re=F(4671);function ie(te,de,ce){const le=(0,m.m)(te)||de||ce?{next:te,error:de,complete:ce}:te;return le?(0,ee.e)(($,W)=>{var Q;null===(Q=le.subscribe)||void 0===Q||Q.call(le);let Be=!0;$.subscribe((0,L.x)(W,Ie=>{var je;null===(je=le.next)||void 0===je||je.call(le,Ie),W.next(Ie)},()=>{var Ie;Be=!1,null===(Ie=le.complete)||void 0===Ie||Ie.call(le),W.complete()},Ie=>{var je;Be=!1,null===(je=le.error)||void 0===je||je.call(le,Ie),W.error(Ie)},()=>{var Ie,je;Be&&(null===(Ie=le.unsubscribe)||void 0===Ie||Ie.call(le)),null===(je=le.finalize)||void 0===je||je.call(le)}))}):re.y}},4408:(ut,Ee,F)=>{F.d(Ee,{o:()=>ie});var m=F(727);class ee extends m.w0{constructor(de,ce){super()}schedule(de,ce=0){return this}}const L={setInterval(te,de,...ce){const{delegate:le}=L;return le?.setInterval?le.setInterval(te,de,...ce):setInterval(te,de,...ce)},clearInterval(te){const{delegate:de}=L;return(de?.clearInterval||clearInterval)(te)},delegate:void 0};var re=F(8737);class ie extends ee{constructor(de,ce){super(de,ce),this.scheduler=de,this.work=ce,this.pending=!1}schedule(de,ce=0){var le;if(this.closed)return this;this.state=de;const $=this.id,W=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(W,$,ce)),this.pending=!0,this.delay=ce,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(W,this.id,ce),this}requestAsyncId(de,ce,le=0){return L.setInterval(de.flush.bind(de,this),le)}recycleAsyncId(de,ce,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return ce;null!=ce&&L.clearInterval(ce)}execute(de,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(de,ce);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,ce){let $,le=!1;try{this.work(de)}catch(W){le=!0,$=W||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:de,scheduler:ce}=this,{actions:le}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(le,this),null!=de&&(this.id=this.recycleAsyncId(ce,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Ee,F)=>{F.d(Ee,{v:()=>L});var m=F(6063);class ee{constructor(ie,te=ee.now){this.schedulerActionCtor=ie,this.now=te}schedule(ie,te=0,de){return new this.schedulerActionCtor(this,ie).schedule(de,te)}}ee.now=m.l.now;class L extends ee{constructor(ie,te=ee.now){super(ie,te),this.actions=[],this._active=!1}flush(ie){const{actions:te}=this;if(this._active)return void te.push(ie);let de;this._active=!0;do{if(de=ie.execute(ie.state,ie.delay))break}while(ie=te.shift());if(this._active=!1,de){for(;ie=te.shift();)ie.unsubscribe();throw de}}}},4986:(ut,Ee,F)=>{F.d(Ee,{z:()=>L});var m=F(4408);const L=new(F(7565).v)(m.o)},6063:(ut,Ee,F)=>{F.d(Ee,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(ut,Ee,F)=>{F.d(Ee,{z:()=>m});const m={setTimeout(ee,L,...re){const{delegate:ie}=m;return ie?.setTimeout?ie.setTimeout(ee,L,...re):setTimeout(ee,L,...re)},clearTimeout(ee){const{delegate:L}=m;return(L?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(ut,Ee,F)=>{F.d(Ee,{h:()=>ee});const ee=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ee,F)=>{F.d(Ee,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,Ee,F)=>{F.d(Ee,{_6:()=>te,jO:()=>re,yG:()=>ie});var m=F(576);function L(de){return de[de.length-1]}function re(de){return(0,m.m)(L(de))?de.pop():void 0}function ie(de){return function ee(de){return de&&(0,m.m)(de.schedule)}(L(de))?de.pop():void 0}function te(de,ce){return"number"==typeof L(de)?de.pop():ce}},8737:(ut,Ee,F)=>{function m(ee,L){if(ee){const re=ee.indexOf(L);0<=re&&ee.splice(re,1)}}F.d(Ee,{P:()=>m})},3888:(ut,Ee,F)=>{function m(ee){const re=ee(ie=>{Error.call(ie),ie.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}F.d(Ee,{d:()=>m})},2806:(ut,Ee,F)=>{F.d(Ee,{O:()=>re,x:()=>L});var m=F(2416);let ee=null;function L(ie){if(m.v.useDeprecatedSynchronousErrorHandling){const te=!ee;if(te&&(ee={errorThrown:!1,error:null}),ie(),te){const{errorThrown:de,error:ce}=ee;if(ee=null,de)throw ce}}else ie()}function re(ie){m.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=ie)}},9672:(ut,Ee,F)=>{function m(ee,L,re,ie=0,te=!1){const de=L.schedule(function(){re(),te?ee.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(ee.add(de),!te)return de}F.d(Ee,{f:()=>m})},4671:(ut,Ee,F)=>{function m(ee){return ee}F.d(Ee,{y:()=>m})},1144:(ut,Ee,F)=>{F.d(Ee,{z:()=>m});const m=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(ut,Ee,F)=>{F.d(Ee,{D:()=>ee});var m=F(576);function ee(L){return Symbol.asyncIterator&&(0,m.m)(L?.[Symbol.asyncIterator])}},576:(ut,Ee,F)=>{function m(ee){return"function"==typeof ee}F.d(Ee,{m:()=>m})},3670:(ut,Ee,F)=>{F.d(Ee,{c:()=>L});var m=F(8822),ee=F(576);function L(re){return(0,ee.m)(re[m.L])}},6495:(ut,Ee,F)=>{F.d(Ee,{T:()=>L});var m=F(2202),ee=F(576);function L(re){return(0,ee.m)(re?.[m.h])}},8239:(ut,Ee,F)=>{F.d(Ee,{t:()=>ee});var m=F(576);function ee(L){return(0,m.m)(L?.then)}},3260:(ut,Ee,F)=>{F.d(Ee,{L:()=>re,Q:()=>L});var m=F(655),ee=F(576);function L(ie){return(0,m.FC)(this,arguments,function*(){const de=ie.getReader();try{for(;;){const{value:ce,done:le}=yield(0,m.qq)(de.read());if(le)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(ce)}}finally{de.releaseLock()}})}function re(ie){return(0,ee.m)(ie?.getReader)}},4482:(ut,Ee,F)=>{F.d(Ee,{A:()=>ee,e:()=>L});var m=F(576);function ee(re){return(0,m.m)(re?.lift)}function L(re){return ie=>{if(ee(ie))return ie.lift(function(te){try{return re(te,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Ee,F)=>{function m(){}F.d(Ee,{Z:()=>m})},9635:(ut,Ee,F)=>{F.d(Ee,{U:()=>L,z:()=>ee});var m=F(4671);function ee(...re){return L(re)}function L(re){return 0===re.length?m.y:1===re.length?re[0]:function(te){return re.reduce((de,ce)=>ce(de),te)}}},7849:(ut,Ee,F)=>{F.d(Ee,{h:()=>L});var m=F(2416),ee=F(3410);function L(re){ee.z.setTimeout(()=>{const{onUnhandledError:ie}=m.v;if(!ie)throw re;ie(re)})}},4532:(ut,Ee,F)=>{function m(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ee,{z:()=>m})},655:(ut,Ee,F)=>{function re(oe,ue){var me={};for(var Me in oe)Object.prototype.hasOwnProperty.call(oe,Me)&&ue.indexOf(Me)<0&&(me[Me]=oe[Me]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Me=Object.getOwnPropertySymbols(oe);ke<Me.length;ke++)ue.indexOf(Me[ke])<0&&Object.prototype.propertyIsEnumerable.call(oe,Me[ke])&&(me[Me[ke]]=oe[Me[ke]])}return me}function Q(oe,ue,me,Me){return new(me||(me=Promise))(function(ze,Ze){function We(Wt){try{yt(Me.next(Wt))}catch(Qe){Ze(Qe)}}function qt(Wt){try{yt(Me.throw(Wt))}catch(Qe){Ze(Qe)}}function yt(Wt){Wt.done?ze(Wt.value):function ke(ze){return ze instanceof me?ze:new me(function(Ze){Ze(ze)})}(Wt.value).then(We,qt)}yt((Me=Me.apply(oe,ue||[])).next())})}function Ce(oe){return this instanceof Ce?(this.v=oe,this):new Ce(oe)}function _e(oe,ue,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Me=me.apply(oe,ue||[]),ze=[];return ke={},Ze("next"),Ze("throw"),Ze("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Ze(Dt){Me[Dt]&&(ke[Dt]=function(Cn){return new Promise(function(Jt,ln){ze.push([Dt,Cn,Jt,ln])>1||We(Dt,Cn)})})}function We(Dt,Cn){try{!function qt(Dt){Dt.value instanceof Ce?Promise.resolve(Dt.value.v).then(yt,Wt):Qe(ze[0][2],Dt)}(Me[Dt](Cn))}catch(Jt){Qe(ze[0][3],Jt)}}function yt(Dt){We("next",Dt)}function Wt(Dt){We("throw",Dt)}function Qe(Dt,Cn){Dt(Cn),ze.shift(),ze.length&&We(ze[0][0],ze[0][1])}}function Fe(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ue=oe[Symbol.asyncIterator];return ue?ue.call(oe):(oe=function nt(oe){var ue="function"==typeof Symbol&&Symbol.iterator,me=ue&&oe[ue],Me=0;if(me)return me.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Me>=oe.length&&(oe=void 0),{value:oe&&oe[Me++],done:!oe}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),me={},Me("next"),Me("throw"),Me("return"),me[Symbol.asyncIterator]=function(){return this},me);function Me(ze){me[ze]=oe[ze]&&function(Ze){return new Promise(function(We,qt){!function ke(ze,Ze,We,qt){Promise.resolve(qt).then(function(yt){ze({value:yt,done:We})},Ze)}(We,qt,(Ze=oe[ze](Ze)).done,Ze.value)})}}}F.d(Ee,{FC:()=>_e,KL:()=>Fe,_T:()=>re,mG:()=>Q,qq:()=>Ce})},4650:(ut,Ee,F)=>{F.d(Ee,{$8M:()=>_l,$WT:()=>On,$Z:()=>Tm,AFp:()=>cg,ALo:()=>Ob,AaK:()=>ce,CHM:()=>nc,CRH:()=>Fb,CZH:()=>lg,CqO:()=>c0,D6c:()=>KD,EJc:()=>DD,EiD:()=>X_,EpF:()=>a0,F$t:()=>p0,F4k:()=>l0,FYo:()=>_h,FiY:()=>Il,Gf:()=>Vy,GfV:()=>um,Hsn:()=>g0,JOm:()=>Sr,JVY:()=>K,JZr:()=>nt,KtG:()=>fu,L6k:()=>ae,LAX:()=>Ke,LFG:()=>Ve,LSH:()=>ev,Lbi:()=>CD,Lck:()=>HI,MMx:()=>Sy,MR2:()=>PE,NdJ:()=>Km,OlP:()=>Qt,P3R:()=>Zr,PXZ:()=>Qh,Q6J:()=>Gm,QGY:()=>qm,QbO:()=>ID,Qsj:()=>qf,R0b:()=>Yr,RDi:()=>Gs,Rgc:()=>Kr,SBq:()=>Qu,Sil:()=>kA,Suo:()=>Lb,TTD:()=>Xa,TgZ:()=>gp,Tol:()=>S0,Udp:()=>Oh,VKq:()=>Mb,X6Q:()=>aw,XFs:()=>ft,Xpm:()=>na,Xts:()=>em,Y36:()=>wh,YKP:()=>Hp,YNc:()=>r0,Yjl:()=>ra,Yz7:()=>Qe,Z0I:()=>ln,ZZ4:()=>Ll,_UZ:()=>Mr,_Vd:()=>yh,_c5:()=>qD,_uU:()=>Ha,aQg:()=>d_,c2e:()=>Qy,cJS:()=>Cn,cg1:()=>Nh,dDg:()=>Kh,dqk:()=>Mt,eBb:()=>Oe,eFA:()=>iw,eoX:()=>pg,evT:()=>hv,f3M:()=>Xe,g9A:()=>Ky,h0i:()=>pd,hGG:()=>_w,iGM:()=>tg,ifc:()=>_t,ip1:()=>Xb,jDz:()=>Cb,kL8:()=>G0,lG2:()=>ia,lcZ:()=>Gp,lqb:()=>Fc,lri:()=>Jy,mCW:()=>Zs,n5z:()=>Iu,oAB:()=>gn,oJD:()=>DE,oxw:()=>f0,pB0:()=>bt,q3G:()=>Xn,q4F:()=>dv,qLn:()=>Xu,qZA:()=>mp,qzn:()=>M,rWj:()=>pi,sBO:()=>lw,s_b:()=>Yp,soG:()=>dg,tb:()=>Yy,tp0:()=>S,uIk:()=>Vm,vHH:()=>fe,vpe:()=>Es,wAp:()=>Et,xp6:()=>Ev,z2F:()=>gg,z3N:()=>b,zSh:()=>sv,zs3:()=>Bc});var m=F(7579),ee=F(727),L=F(9751),re=F(6451),ie=F(3099);function te(s){for(let o in s)if(s[o]===te)return o;throw Error("Could not find renamed property on target object.")}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=te({__forward_ref__:te});function W(s){return s.__forward_ref__=W,s.toString=function(){return ce(this())},s}function Q(s){return Be(s)?s():s}function Be(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===W}function Ie(s){return s&&!!s.\u0275providers}const nt="https://g.co/ng/security#xss";class fe extends Error{constructor(o,a){super(De(o,a)),this.code=o}}function De(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Fe(s,o){throw new fe(-201,!1)}function Ze(s,o){null==s&&function We(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Qe(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Jt(s){return hn(s,mi)||hn(s,nn)}function ln(s){return null!==Jt(s)}function hn(s,o){return s.hasOwnProperty(o)?s[o]:null}function $i(s){return s&&(s.hasOwnProperty(es)||s.hasOwnProperty(Pi))?s[es]:null}const mi=te({\u0275prov:te}),es=te({\u0275inj:te}),nn=te({ngInjectableDef:te}),Pi=te({ngInjectorDef:te});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let ts;function fn(s){const o=ts;return ts=s,o}function ii(s,o,a){const c=Jt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ft.Optional?null:void 0!==o?o:void Fe(ce(s))}const Mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),rn={},In="__NG_DI_FLAG__",ri="ngTempTokenPath",si="ngTokenPath",so=/\n/gm,Kt="\u0275",yr="__source";let Vt;function yi(s){const o=Vt;return Vt=s,o}function _r(s,o=ft.Default){if(void 0===Vt)throw new fe(-203,!1);return null===Vt?ii(s,void 0,o):Vt.get(s,o&ft.Optional?null:void 0,o)}function Ve(s,o=ft.Default){return(function nr(){return ts}()||_r)(Q(s),o)}function Xe(s,o=ft.Default){return Ve(s,wt(o))}function wt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Pt(s){const o=[];for(let a=0;a<s.length;a++){const c=Q(s[a]);if(Array.isArray(c)){if(0===c.length)throw new fe(900,!1);let d,p=ft.Default;for(let v=0;v<c.length;v++){const E=c[v],C=oi(E);"number"==typeof C?-1===C?d=E.token:p|=C:d=E}o.push(Ve(d,p))}else o.push(Ve(c))}return o}function kt(s,o){return s[In]=o,s.prototype[In]=o,s}function oi(s){return s[In]}function q(s){return{toString:s}.toString()}var pe=(()=>((pe=pe||{})[pe.OnPush=0]="OnPush",pe[pe.Default=1]="Default",pe))(),_t=(()=>{return(s=_t||(_t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",_t;var s})();const Gt={},vt=[],pn=te({\u0275cmp:te}),Rn=te({\u0275dir:te}),Bt=te({\u0275pipe:te}),ir=te({\u0275mod:te}),Ln=te({\u0275fac:te}),Ss=te({__NG_ELEMENT_ID__:te});let Ld=0;function na(s){return q(()=>{const a=!0===s.standalone,c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===pe.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||_t.Emulated,id:"c"+Ld++,styles:s.styles||vt,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},p=s.dependencies,v=s.features;return d.inputs=jl(s.inputs,c),d.outputs=jl(s.outputs),v&&v.forEach(E=>E(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Vl).filter(au):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(Dn).filter(au):null,d})}function Vl(s){return jt(s)||Fn(s)}function au(s){return null!==s}function gn(s){return q(()=>({type:s.type,bootstrap:s.bootstrap||vt,declarations:s.declarations||vt,imports:s.imports||vt,exports:s.exports||vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function jl(s,o){if(null==s)return Gt;const a={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,o&&(o[d]=p)}return a}const ia=na;function ra(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[pn]||null}function Fn(s){return s[Rn]||null}function Dn(s){return s[Bt]||null}function On(s){const o=jt(s)||Fn(s)||Dn(s);return null!==o&&o.standalone}function qn(s,o){const a=s[ir]||null;if(!a&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return a}const Wi=0,qe=1,Rt=2,sn=3,_i=4,Nr=5,kn=6,Gi=7,mn=8,oo=9,Lr=10,Nt=11,$l=12,rs=13,Wl=14,rr=15,ai=16,ao=17,Ts=18,Zi=19,vr=20,Fr=21,en=22,qi=1,cu=2,lo=7,As=8,vi=9,li=10;function xi(s){return Array.isArray(s)&&"object"==typeof s[qi]}function sr(s){return Array.isArray(s)&&!0===s[qi]}function sa(s){return 0!=(4&s.flags)}function or(s){return s.componentOffset>-1}function Gl(s){return 1==(1&s.flags)}function Ri(s){return null!==s.template}function oa(s){return 0!=(256&s[Rt])}function Ps(s,o){return s.hasOwnProperty(Ln)?s[Ln]:null}class xs{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Xa(){return ho}function ho(s){return s.type.prototype.ngOnChanges&&(s.setInput=fo),Ja}function Ja(){const s=la(this),o=s?.current;if(o){const a=s.previous;if(a===Gt)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function fo(s,o,a,c){const d=this.declaredInputs[a],p=la(s)||function Ql(s,o){return s[Rs]=o}(s,{previous:Gt,current:null}),v=p.current||(p.current={}),E=p.previous,C=E[d];v[d]=new xs(C&&C.currentValue,o,E===Gt),s[c]=o}Xa.ngInherit=!0;const Rs="__ngSimpleChanges__";function la(s){return s[Rs]||null}const Oi=function(s,o,a){};function Sn(s){for(;Array.isArray(s);)s=s[Wi];return s}function Nn(s,o){return Sn(o[s.index])}function yo(s,o){return s.data[o]}function jn(s,o){const a=o[s];return xi(a)?a:a[Wi]}function _o(s){return 64==(64&s[Rt])}function Br(s,o){return null==o?null:s[o]}function ua(s){s[Ts]=0}function da(s,o){s[Nr]+=o;let a=s,c=s[sn];for(;null!==c&&(1===o&&1===a[Nr]||-1===o&&0===a[Nr]);)c[Nr]+=o,a=c,c=c[sn]}const St={lFrame:kg(null),bindingsEnabled:!0};function rl(){return St.bindingsEnabled}function he(){return St.lFrame.lView}function $t(){return St.lFrame.tView}function nc(s){return St.lFrame.contextLView=s,s[mn]}function fu(s){return St.lFrame.contextLView=null,s}function Kn(){let s=ha();for(;null!==s&&64===s.type;)s=s.parent;return s}function ha(){return St.lFrame.currentTNode}function ki(s,o){const a=St.lFrame;a.currentTNode=s,a.isParent=o}function ol(){return St.lFrame.isParent}function al(){St.lFrame.isParent=!1}function Un(){const s=St.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ns(){return St.lFrame.bindingIndex++}function Er(s){const o=St.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function mu(s,o){const a=St.lFrame;a.bindingIndex=a.bindingRootIndex=s,sc(o)}function sc(s){St.lFrame.currentDirectiveIndex=s}function yu(){return St.lFrame.currentQueryIndex}function oc(s){St.lFrame.currentQueryIndex=s}function _u(s){const o=s[qe];return 2===o.type?o.declTNode:1===o.type?s[kn]:null}function Vd(s,o,a){if(a&ft.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&ft.Host||(d=_u(p),null===d||(p=p[rr],10&d.type))););if(null===d)return!1;o=d,s=p}const c=St.lFrame=jd();return c.currentTNode=o,c.lView=s,!0}function cl(s){const o=jd(),a=s[qe];St.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function jd(){const s=St.lFrame,o=null===s?null:s.child;return null===o?kg(s):o}function kg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function yf(){const s=St.lFrame;return St.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ac=yf;function _f(){const s=yf();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wi(){return St.lFrame.selectedIndex}function vo(s){St.lFrame.selectedIndex=s}function on(){const s=St.lFrame;return yo(s.tView,s.selectedIndex)}function pa(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:P}=p;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(a,P)}}function Ls(s,o,a){ga(s,o,3,a)}function cc(s,o,a,c){(3&s[Rt])===a&&ga(s,o,a,c)}function os(s,o){let a=s[Rt];(3&a)===o&&(a&=2047,a+=1,s[Rt]=a)}function ga(s,o,a,c){const p=c??-1,v=o.length-1;let E=0;for(let C=void 0!==c?65535&s[Ts]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[Ts]+=65536),(E<p||-1==p)&&(ma(s,a,o,C),s[Ts]=(4294901760&s[Ts])+C+2),C++}function ma(s,o,a,c){const d=a[c]<0,p=a[c+1],E=s[d?-a[c]:a[c]];if(d){if(s[Rt]>>11<s[Ts]>>16&&(3&s[Rt])===o){s[Rt]+=2048,Oi(4,E,p);try{p.call(E)}finally{Oi(5,E,p)}}}else{Oi(4,E,p);try{p.call(E)}finally{Oi(5,E,p)}}}const wo=-1;class as{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function yn(s,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],v=a[c++],E=a[c++];s.setAttribute(o,v,E,p)}else{const p=d,v=a[++c];Hr(p)?s.setProperty(o,p,v):s.setAttribute(o,p,v),c++}}return c}function _a(s){return 3===s||4===s||6===s}function Hr(s){return 64===s.charCodeAt(0)}function Vr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Eo(s,a,d,null,-1===a||2===a?o[++c]:null)}}return s}function Eo(s,o,a,c,d){let p=0,v=s.length;if(-1===o)v=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===c)return void(null!==d&&(s[p+1]=d));if(c===s[p+1])return void(s[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==v&&(s.splice(v,0,o),p=v+1),s.splice(p++,0,a),null!==c&&s.splice(p++,0,c),null!==d&&s.splice(p++,0,d)}function uc(s){return s!==wo}function va(s){return 32767&s}function hl(s,o){let a=function dl(s){return s>>16}(s),c=o;for(;a>0;)c=c[rr],a--;return c}let ls=!0;function Co(s){const o=ls;return ls=s,o}const ba=255,wa=5;let fl=0;const Qn={};function Do(s,o){const a=Ca(s,o);if(-1!==a)return a;const c=o[qe];c.firstCreatePass&&(s.injectorIndex=o.length,cs(c.data,s),cs(o,null),cs(c.blueprint,null));const d=pl(s,o),p=s.injectorIndex;if(uc(d)){const v=va(d),E=hl(d,o),C=E[qe].data;for(let T=0;T<8;T++)o[p+T]=E[v+T]|C[v+T]}return o[p+8]=d,p}function cs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ca(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function pl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=hc(d),null===c)return wo;if(a++,d=d[rr],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return wo}function Ia(s,o,a){!function Ea(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ss)&&(c=a[Ss]),null==c&&(c=a[Ss]=fl++);const d=c&ba;o.data[s+(d>>wa)]|=1<<d}(s,o,a)}function Bs(s,o,a){if(a&ft.Optional||void 0!==s)return s;Fe()}function Da(s,o,a,c){if(a&ft.Optional&&void 0===c&&(c=null),!(a&(ft.Self|ft.Host))){const d=s[oo],p=fn(void 0);try{return d?d.get(o,c,a&ft.Optional):ii(o,c,a&ft.Optional)}finally{fn(p)}}return Bs(c,0,a)}function Eu(s,o,a,c=ft.Default,d){if(null!==s){if(1024&o[Rt]){const v=function Du(s,o,a,c,d){let p=s,v=o;for(;null!==p&&null!==v&&1024&v[Rt]&&!(256&v[Rt]);){const E=Cr(p,v,a,c|ft.Self,Qn);if(E!==Qn)return E;let C=p.parent;if(!C){const T=v[Fr];if(T){const P=T.get(a,Qn,c);if(P!==Qn)return P}C=hc(v),v=v[rr]}p=C}return d}(s,o,a,c,Qn);if(v!==Qn)return v}const p=Cr(s,o,a,c,Qn);if(p!==Qn)return p}return Da(o,a,c,d)}function Cr(s,o,a,c,d){const p=function Cu(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ss)?s[Ss]:void 0;return"number"==typeof o?o>=0?o&ba:wf:o}(a);if("function"==typeof p){if(!Vd(o,s,c))return c&ft.Host?Bs(d,0,c):Da(o,a,c,d);try{const v=p(c);if(null!=v||c&ft.Optional)return v;Fe()}finally{ac()}}else if("number"==typeof p){let v=null,E=Ca(s,o),C=wo,T=c&ft.Host?o[ai][kn]:null;for((-1===E||c&ft.SkipSelf)&&(C=-1===E?pl(s,o):o[E+8],C!==wo&&jr(c,!1)?(v=o[qe],E=va(C),o=hl(C,o)):E=-1);-1!==E;){const P=o[qe];if(ml(p,E,P.data)){const B=gl(E,o,a,v,c,T);if(B!==Qn)return B}C=o[E+8],C!==wo&&jr(c,o[qe].data[E+8]===T)&&ml(p,E,o)?(v=P,E=va(C),o=hl(C,o)):E=-1}}return d}function gl(s,o,a,c,d,p){const v=o[qe],E=v.data[s+8],P=zs(E,v,a,null==c?or(E)&&ls:c!=v&&0!=(3&E.type),d&ft.Host&&p===E);return null!==P?Ir(o,v,P,E):Qn}function zs(s,o,a,c,d){const p=s.providerIndexes,v=o.data,E=1048575&p,C=s.directiveStart,P=p>>20,Z=d?E+P:s.directiveEnd;for(let J=c?E:E+P;J<Z;J++){const ye=v[J];if(J<C&&a===ye||J>=C&&ye.type===a)return J}if(d){const J=v[C];if(J&&Ri(J)&&J.type===a)return C}return null}function Ir(s,o,a,c){let d=s[a];const p=o.data;if(function Ki(s){return s instanceof as}(d)){const v=d;v.resolving&&function Ce(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new fe(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(p[a]));const E=Co(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?fn(v.injectImpl):null;Vd(s,c,ft.Default);try{d=s[a]=v.factory(void 0,p,s,c),o.firstCreatePass&&a>=c.directiveStart&&function bf(s,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(c){const v=ho(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==C&&fn(C),Co(E),v.resolving=!1,ac()}}return d}function ml(s,o,a){return!!(a[o+(s>>wa)]&1<<s)}function jr(s,o){return!(s&ft.Self||s&ft.Host&&o)}class ar{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Eu(this._tNode,this._lView,o,wt(c),a)}}function wf(){return new ar(Kn(),he())}function Iu(s){return q(()=>{const o=s.prototype.constructor,a=o[Ln]||yl(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const p=d[Ln]||yl(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function yl(s){return Be(s)?()=>{const o=yl(Q(s));return o&&o()}:Ps(s)}function hc(s){const o=s[qe],a=o.type;return 2===a?o.declTNode:1===a?s[kn]:null}function _l(s){return function dc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(_a(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(Kn(),s)}const So="__parameters__";function Sa(s,o,a){return q(()=>{const c=function Gd(s){return function(...a){if(s){const c=s(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...p){if(this instanceof d)return c.apply(this,p),this;const v=new d(...p);return E.annotation=v,E;function E(C,T,P){const B=C.hasOwnProperty(So)?C[So]:Object.defineProperty(C,So,{value:[]})[So];for(;B.length<=P;)B.push(null);return(B[P]=B[P]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Qt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Dr(s,o){s.forEach(a=>Array.isArray(a)?Dr(a,o):o(a))}function El(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function To(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ao(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function Ei(s,o,a){let c=lr(s,o);return c>=0?s[1|c]=a:(c=~c,function Kd(s,o,a,c){let d=s.length;if(d==o)s.push(a,c);else if(1===d)s.push(c,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Vs(s,o){const a=lr(s,o);if(a>=0)return s[1|a]}function lr(s,o){return function Yd(s,o,a){let c=0,d=s.length>>a;for(;d!==c;){const p=c+(d-c>>1),v=s[p<<a];if(o===v)return p<<a;v>o?d=p:c=p+1}return~(d<<a)}(s,o,1)}const Il=kt(Sa("Optional"),8),S=kt(Sa("SkipSelf"),4);var Sr=(()=>((Sr=Sr||{})[Sr.Important=1]="Important",Sr[Sr.DashCase=2]="DashCase",Sr))();const $s=new Map;let zg=0;const $n="__ngContext__";function wn(s,o){xi(o)?(s[$n]=o[vr],function Hg(s){$s.set(s[vr],s)}(o)):s[$n]=o}let Lt;function Ma(s,o){return Lt(s,o)}function ur(s){const o=s[sn];return sr(o)?o[sn]:o}function Pa(s){return bc(s[rs])}function sh(s){return bc(s[_i])}function bc(s){for(;null!==s&&!sr(s);)s=s[_i];return s}function ms(s,o,a,c,d){if(null!=c){let p,v=!1;sr(c)?p=c:xi(c)&&(v=!0,c=c[Wi]);const E=Sn(c);0===s&&null!==a?null==d?Tr(o,a,E):Ra(o,a,E,d||null,!0):1===s&&null!==a?Ra(o,a,E,d||null,!0):2===s?function Uo(s,o,a){const c=Cc(s,o);c&&function qg(s,o,a,c){s.removeChild(o,a,c)}(s,c,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=p&&function ch(s,o,a,c,d){const p=a[lo];p!==Sn(a)&&ms(o,s,c,p,d);for(let E=li;E<a.length;E++){const C=a[E];ka(C[qe],C,s,o,c,p)}}(o,s,p,a,d)}}function xa(s,o,a){return s.createElement(o,a)}function Fo(s,o){const a=s[vi],c=a.indexOf(o),d=o[sn];512&o[Rt]&&(o[Rt]&=-513,da(d,-1)),a.splice(c,1)}function ah(s,o){if(s.length<=li)return;const a=li+o,c=s[a];if(c){const d=c[ao];null!==d&&d!==s&&Fo(d,c),o>0&&(s[a-1][_i]=c[_i]);const p=To(s,li+o);!function Fu(s,o){ka(s,o,o[Nt],2,null,null),o[Wi]=null,o[kn]=null}(c[qe],c);const v=p[Zi];null!==v&&v.detachView(p[qe]),c[sn]=null,c[_i]=null,c[Rt]&=-65}return c}function xf(s,o){if(!(128&o[Rt])){const a=o[Nt];a.destroyNode&&ka(s,o,a,3,null,null),function oh(s){let o=s[rs];if(!o)return lh(s[qe],s);for(;o;){let a=null;if(xi(o))a=o[rs];else{const c=o[li];c&&(a=c)}if(!a){for(;o&&!o[_i]&&o!==s;)xi(o)&&lh(o[qe],o),o=o[sn];null===o&&(o=s),xi(o)&&lh(o[qe],o),a=o&&o[_i]}o=a}}(o)}}function lh(s,o){if(!(128&o[Rt])){o[Rt]&=-65,o[Rt]|=128,function Zg(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof as)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const E=d[p[v]],C=p[v+1];Oi(4,E,C);try{C.call(E)}finally{Oi(5,E,C)}}else{Oi(4,d,p);try{p.call(d)}finally{Oi(5,d,p)}}}}}(s,o),function Rf(s,o){const a=s.cleanup,c=o[Gi];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+3];v>=0?c[d=v]():c[d=-v].unsubscribe(),p+=2}else{const v=c[d=a[p+1]];a[p].call(v)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();o[Gi]=null}}(s,o),1===o[qe].type&&o[Nt].destroy();const a=o[ao];if(null!==a&&sr(o[sn])){a!==o[sn]&&Fo(a,o);const c=o[Zi];null!==c&&c.detachView(s)}!function gs(s){$s.delete(s[vr])}(o)}}function Bu(s,o,a){return function Ec(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[Wi];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=s.data[c.directiveStart+d];if(p===_t.None||p===_t.Emulated)return null}return Nn(c,a)}}(s,o.parent,a)}function Ra(s,o,a,c,d){s.insertBefore(o,a,c,d)}function Tr(s,o,a){s.appendChild(o,a)}function zu(s,o,a,c,d){null!==c?Ra(s,o,a,c,d):Tr(s,o,a)}function Cc(s,o){return s.parentNode(o)}function Tl(s,o,a){return Ws(s,o,a)}let Al,dr,dh,Tc,Ws=function Oa(s,o,a){return 40&s.type?Nn(s,a):null};function Ic(s,o,a,c){const d=Bu(s,c,o),p=o[Nt],E=Tl(c.parent||o[kn],c,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)zu(p,d,a[C],E,!1);else zu(p,d,a,E,!1);void 0!==Al&&Al(p,c,o,a,d)}function Wr(s,o){if(null!==o){const a=o.type;if(3&a)return Nn(o,s);if(4&a)return Vi(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return Wr(s,c);{const d=s[o.index];return sr(d)?Vi(-1,d):Sn(d)}}if(32&a)return Ma(o,s)()||Sn(s[o.index]);{const c=Of(s,o);return null!==c?Array.isArray(c)?c[0]:Wr(ur(s[ai]),c):Wr(s,o.next)}}return null}function Of(s,o){return null!==o?s[ai][kn].projection[o.projection]:null}function Vi(s,o){const a=li+s+1;if(a<o.length){const c=o[a],d=c[qe].firstChild;if(null!==d)return Wr(c,d)}return o[lo]}function Vu(s,o,a,c,d,p,v){for(;null!=a;){const E=c[a.index],C=a.type;if(v&&0===o&&(E&&wn(Sn(E),c),a.flags|=2),32!=(32&a.flags))if(8&C)Vu(s,o,a.child,c,d,p,!1),ms(o,s,d,E,p);else if(32&C){const T=Ma(a,c);let P;for(;P=T();)ms(o,s,d,P,p);ms(o,s,d,E,p)}else 16&C?ju(s,o,c,a,d,p):ms(o,s,d,E,p);a=v?a.projectionNext:a.next}}function ka(s,o,a,c,d,p){Vu(a,c,s.firstChild,o,d,p,!1)}function ju(s,o,a,c,d,p){const v=a[ai],C=v[kn].projection[c.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)ms(o,s,d,C[T],p);else Vu(s,o,C,v[sn],d,p,!0)}function ys(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Na(s,o,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&yn(s,o,c),null!==d&&ys(s,o,d),null!==p&&function Nf(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function Ar(s){return function Dc(){if(void 0===dr&&(dr=null,Mt.trustedTypes))try{dr=Mt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return dr}()?.createHTML(s)||s}function Gs(s){dh=s}function Wu(){if(void 0===Tc&&(Tc=null,Mt.trustedTypes))try{Tc=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Tc}function Lf(s){return Wu()?.createHTML(s)||s}function Ff(s){return Wu()?.createScriptURL(s)||s}class La{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nt})`}}class Qg extends La{getTypeName(){return"HTML"}}class Uf extends La{getTypeName(){return"Style"}}class _ extends La{getTypeName(){return"Script"}}class f extends La{getTypeName(){return"URL"}}class g extends La{getTypeName(){return"ResourceURL"}}function b(s){return s instanceof La?s.changingThisBreaksApplicationSecurity:s}function M(s,o){const a=function O(s){return s instanceof La&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${nt})`)}return a===o}function K(s){return new Qg(s)}function ae(s){return new Uf(s)}function Oe(s){return new _(s)}function Ke(s){return new f(s)}function bt(s){return new g(s)}class Wn{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ar(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Si{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=Ar(o),a}}const Bf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Zs(s){return(s=String(s)).match(Bf)?s:"unsafe:"+s}function Gr(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function zo(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Mc=Gr("area,br,col,hr,img,wbr"),Pc=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xc=Gr("rp,rt"),Oc=zo(Mc,zo(Pc,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zo(xc,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zo(xc,Pc)),kc=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xg=zo(kc,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Q_=Gr("script,style,template");class IE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Oc.hasOwnProperty(a))return this.sanitizedSomething=!0,!Q_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),v=p.name,E=v.toLowerCase();if(!Xg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=p.value;kc[E]&&(C=Zs(C)),this.buf.push(" ",v,'="',Vf(C),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Oc.hasOwnProperty(a)&&!Mc.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Vf(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const hh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hf=/([^\#-~ |!])/g;function Vf(s){return s.replace(/&/g,"&amp;").replace(hh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Hf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jf;function X_(s,o){let a=null;try{jf=jf||function pt(s){const o=new Si(s);return function Ac(){try{return!!(new window.DOMParser).parseFromString(Ar(""),"text/html")}catch{return!1}}()?new Wn(o):o}(s);let c=o?String(o):"";a=jf.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=a.innerHTML,a=jf.getInertBodyElement(c)}while(c!==p);return Ar((new IE).sanitizeChildren(fh(a)||a))}finally{if(a){const c=fh(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function fh(s){return"content"in s&&function J_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Xn=(()=>((Xn=Xn||{})[Xn.NONE=0]="NONE",Xn[Xn.HTML=1]="HTML",Xn[Xn.STYLE=2]="STYLE",Xn[Xn.SCRIPT=3]="SCRIPT",Xn[Xn.URL=4]="URL",Xn[Xn.RESOURCE_URL=5]="RESOURCE_URL",Xn))();function DE(s){const o=ph();return o?Lf(o.sanitize(Xn.HTML,s)||""):M(s,"HTML")?Lf(b(s)):X_(function Ml(){return void 0!==dh?dh:typeof document<"u"?document:void 0}(),Se(s))}function ev(s){const o=ph();return o?o.sanitize(Xn.URL,s)||"":M(s,"URL")?b(s):Zs(Se(s))}function $f(s){const o=ph();if(o)return Ff(o.sanitize(Xn.RESOURCE_URL,s)||"");if(M(s,"ResourceURL"))return Ff(b(s));throw new fe(904,!1)}function Zr(s,o,a){return function Jg(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?$f:ev}(o,a)(s)}function ph(){const s=he();return s&&s[$l]}const em=new Qt("ENVIRONMENT_INITIALIZER"),tm=new Qt("INJECTOR",-1),gh=new Qt("INJECTOR_DEF_TYPES");class tv{get(o,a=rn){if(a===rn){const c=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw c.name="NullInjectorError",c}return a}}function PE(s){return{\u0275providers:s}}function Zu(...s){return{\u0275providers:qu(0,s),\u0275fromNgModule:!0}}function qu(s,...o){const a=[],c=new Set;let d;return Dr(o,p=>{const v=p;nm(v,a,[],c)&&(d||(d=[]),d.push(v))}),void 0!==d&&nv(d,a),a}function nv(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];Nc(d,p=>{o.push(p)})}}function nm(s,o,a,c){if(!(s=Q(s)))return!1;let d=null,p=$i(s);const v=!p&&jt(s);if(p||v){if(v&&!v.standalone)return!1;d=s}else{const C=s.ngModule;if(p=$i(C),!p)return!1;d=C}const E=c.has(d);if(v){if(E)return!1;if(c.add(d),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of C)nm(T,o,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let T;c.add(d);try{Dr(p.imports,P=>{nm(P,o,a,c)&&(T||(T=[]),T.push(P))})}finally{}void 0!==T&&nv(T,o)}if(!E){const T=Ps(d)||(()=>new d);o.push({provide:d,useFactory:T,deps:vt},{provide:gh,useValue:d,multi:!0},{provide:em,useValue:()=>Ve(d),multi:!0})}const C=p.providers;null==C||E||Nc(C,P=>{o.push(P)})}}return d!==s&&void 0!==s.providers}function Nc(s,o){for(let a of s)Ie(a)&&(a=a.\u0275providers),Array.isArray(a)?Nc(a,o):o(a)}const xE=te({provide:String,useValue:te});function im(s){return null!==s&&"object"==typeof s&&xE in s}function Lc(s){return"function"==typeof s}const sv=new Qt("Set Injector scope."),Zf={},rm={};let Ku;function Fa(){return void 0===Ku&&(Ku=new tv),Ku}class Fc{}class ov extends Fc{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,om(o,v=>this.processProvider(v)),this.records.set(tm,Yu(void 0,this)),d.has("environment")&&this.records.set(Fc,Yu(void 0,this));const p=this.records.get(sv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(gh.multi,vt,ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=yi(this),c=fn(void 0);try{return o()}finally{yi(a),fn(c)}}get(o,a=rn,c=ft.Default){this.assertNotDestroyed(),c=wt(c);const d=yi(this),p=fn(void 0);try{if(!(c&ft.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function lv(s){return"function"==typeof s||"object"==typeof s&&s instanceof Qt}(o)&&Jt(o);E=C&&this.injectableDefInScope(C)?Yu(sm(o),Zf):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&ft.Self?Fa():this.parent).get(o,a=c&ft.Optional&&a===rn?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[ri]=v[ri]||[]).unshift(ce(o)),d)throw v;return function j(s,o,a,c){const d=s[ri];throw o[yr]&&d.unshift(o[yr]),s.message=function H(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Kt?s.slice(2):s;let d=ce(o);if(Array.isArray(o))d=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];p.push(v+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${s.replace(so,"\n  ")}`}("\n"+s.message,d,a,c),s[si]=d,s[ri]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{fn(p),yi(d)}}resolveInjectorInitializers(){const o=yi(this),a=fn(void 0);try{const c=this.get(em.multi,vt,ft.Self);for(const d of c)d()}finally{yi(o),fn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ce(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(o){let a=Lc(o=Q(o))?o:Q(o&&o.provide);const c=function kE(s){return im(s)?Yu(void 0,s.useValue):Yu(function av(s,o,a){let c;if(Lc(s)){const d=Q(s);return Ps(d)||sm(d)}if(im(s))c=()=>Q(s.useValue);else if(function rv(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Pt(s.deps||[]));else if(function iv(s){return!(!s||!s.useExisting)}(s))c=()=>Ve(Q(s.useExisting));else{const d=Q(s&&(s.useClass||s.provide));if(!function NE(s){return!!s.deps}(s))return Ps(d)||sm(d);c=()=>new d(...Pt(s.deps))}return c}(s),Zf)}(o);if(Lc(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Yu(void 0,Zf,!0),d.factory=()=>Pt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Zf&&(a.value=rm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function LE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function sm(s){const o=Jt(s),a=null!==o?o.factory:Ps(s);if(null!==a)return a;if(s instanceof Qt)throw new fe(204,!1);if(s instanceof Function)return function OE(s){const o=s.length;if(o>0)throw Ao(o,"?"),new fe(204,!1);const a=function Mi(s){const o=s&&(s[mi]||s[nn]);return o?(function Jr(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new fe(204,!1)}function Yu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function om(s,o){for(const a of s)Array.isArray(a)?om(a,o):a&&Ie(a)?om(a.\u0275providers,o):o(a)}class am{}class lm{}class FE{resolveComponentFactory(o){throw function cm(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let yh=(()=>{class s{}return s.NULL=new FE,s})();function UE(){return Ua(Kn(),he())}function Ua(s,o){return new Qu(Nn(s,o))}let Qu=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=UE,s})();function cv(s){return s instanceof Qu?s.nativeElement:s}class _h{}let qf=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function uv(){const s=he(),a=jn(Kn().index,s);return(xi(a)?a:s)[Nt]}(),s})(),vh=(()=>{class s{}return s.\u0275prov=Qe({token:s,providedIn:"root",factory:()=>null}),s})();class um{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const dv=new um("15.2.0"),dm={},hm="ngOriginalError";function fm(s){return s[hm]}class Xu{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&fm(o);for(;a&&fm(a);)a=fm(a);return a||null}}function hv(s){return s.ownerDocument}function Ba(s){return s instanceof Function?s():s}function gv(s,o,a){let c=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===c||s.charCodeAt(d+p)<=32)return d}a=d+1}}const mv="ng-template";function ZE(s,o,a){let c=0;for(;c<s.length;){let d=s[c++];if(a&&"class"===d){if(d=s[c],-1!==gv(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function yv(s){return 4===s.type&&s.value!==mv}function qE(s,o,a){return o===(4!==s.type||a?s.value:mv)}function _v(s,o,a){let c=4;const d=s.attrs||[],p=function mm(s){for(let o=0;o<s.length;o++)if(_a(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!qE(s,C,a)||""===C&&1===o.length){if(qr(c))return!1;v=!0}}else{const T=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!ZE(s.attrs,T,a)){if(qr(c))return!1;v=!0}continue}const B=KE(8&c?"class":C,d,yv(s),a);if(-1===B){if(qr(c))return!1;v=!0;continue}if(""!==T){let Z;Z=B>p?"":d[B+1].toLowerCase();const J=8&c?Z:null;if(J&&-1!==gv(J,T,0)||2&c&&T!==Z){if(qr(c))return!1;v=!0}}}}else{if(!v&&!qr(c)&&!qr(C))return!1;if(v&&qr(C))continue;v=!1,c=C|1&c}}return qr(c)||v}function qr(s){return 0==(1&s)}function KE(s,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let p=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)p=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=p?1:2}return-1}return function YE(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function gm(s,o,a=!1){for(let c=0;c<o.length;c++)if(_v(s,o[c],a))return!0;return!1}function vv(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function bh(s,o){return s?":not("+o.trim()+")":o}function Kf(s){let o=s[0],a=1,c=2,d="",p=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&c){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!qr(v)&&(o+=bh(p,d),d=""),c=v,p=p||!qr(c);a++}return""!==d&&(o+=bh(p,d)),o}const Ft={};function Ev(s){Cv($t(),he(),wi()+s,!1)}function Cv(s,o,a,c){if(!c)if(3==(3&o[Rt])){const p=s.preOrderCheckHooks;null!==p&&Ls(o,p,a)}else{const p=s.preOrderHooks;null!==p&&cc(o,p,0,a)}vo(a)}function Sv(s,o=null,a=null,c){const d=hr(s,o,a,c);return d.resolveInjectorInitializers(),d}function hr(s,o=null,a=null,c,d=new Set){const p=[a||vt,Zu(s)];return c=c||("object"==typeof s?void 0:ce(s)),new ov(p,o||Fa(),c||null,d)}let Bc=(()=>{class s{static create(a,c){if(Array.isArray(a))return Sv({name:""},c,a,"");{const d=a.name??"";return Sv({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=rn,s.NULL=new tv,s.\u0275prov=Qe({token:s,providedIn:"any",factory:()=>Ve(tm)}),s.__NG_ELEMENT_ID__=-1,s})();function wh(s,o=ft.Default){const a=he();return null===a?Ve(s,o):Eu(Kn(),a,Q(s),o)}function Tm(){throw new Error("invalid")}function kv(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const v=s.data[p];oc(a[c]),v.contentQueries(2,o[p],p)}}}function Jf(s,o,a,c,d,p,v,E,C,T,P){const B=o.blueprint.slice();return B[Wi]=d,B[Rt]=76|c,(null!==P||s&&1024&s[Rt])&&(B[Rt]|=1024),ua(B),B[sn]=B[rr]=s,B[mn]=a,B[Lr]=v||s&&s[Lr],B[Nt]=E||s&&s[Nt],B[$l]=C||s&&s[$l]||null,B[oo]=T||s&&s[oo]||null,B[kn]=p,B[vr]=function Oo(){return zg++}(),B[Fr]=P,B[ai]=2==o.type?s[ai]:B,B}function ed(s,o,a,c,d){let p=s.data[o];if(null===p)p=function Am(s,o,a,c,d){const p=ha(),v=ol(),C=s.data[o]=function tA(s,o,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,o,c,d);return null===s.firstChild&&(s.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,a,c,d),function gu(){return St.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const v=function sl(){const s=St.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return ki(p,!0),p}function Eh(s,o,a,c){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function ep(s,o,a){cl(o);try{const c=s.viewQuery;null!==c&&Dh(1,c,a);const d=s.template;null!==d&&sC(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&kv(s,o),s.staticViewQueries&&Dh(2,s.viewQuery,a);const p=s.components;null!==p&&function rC(s,o){for(let a=0;a<o.length;a++)Ch(s,o[a])}(o,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[Rt]&=-5,_f()}}function tp(s,o,a,c){const d=o[Rt];if(128!=(128&d)){cl(o);try{ua(o),function ss(s){return St.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&sC(s,o,a,2,c);const v=3==(3&d);if(v){const T=s.preOrderCheckHooks;null!==T&&Ls(o,T,null)}else{const T=s.preOrderHooks;null!==T&&cc(o,T,0,null),os(o,0)}if(function dC(s){for(let o=Pa(s);null!==o;o=sh(o)){if(!o[cu])continue;const a=o[vi];for(let c=0;c<a.length;c++){const d=a[c];512&d[Rt]||da(d[sn],1),d[Rt]|=512}}}(o),function En(s){for(let o=Pa(s);null!==o;o=sh(o))for(let a=li;a<o.length;a++){const c=o[a],d=c[qe];_o(c)&&tp(d,c,d.template,c[mn])}}(o),null!==s.contentQueries&&kv(s,o),v){const T=s.contentCheckHooks;null!==T&&Ls(o,T)}else{const T=s.contentHooks;null!==T&&cc(o,T,1),os(o,1)}!function iC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)vo(~d);else{const p=d,v=a[++c],E=a[++c];mu(v,p),E(2,o[p])}}}finally{vo(-1)}}(s,o);const E=s.components;null!==E&&function Nv(s,o){for(let a=0;a<o.length;a++)Nm(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&Dh(2,C,c),v){const T=s.viewCheckHooks;null!==T&&Ls(o,T)}else{const T=s.viewHooks;null!==T&&cc(o,T,2),os(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Rt]&=-41,512&o[Rt]&&(o[Rt]&=-513,da(o[sn],-1))}finally{_f()}}}function sC(s,o,a,c,d){const p=wi(),v=2&c;try{vo(-1),v&&o.length>en&&Cv(s,o,en,!1),Oi(v?2:0,d),a(c,d)}finally{vo(p),Oi(v?3:1,d)}}function we(s,o,a){if(sa(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const v=s.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}function Mm(s,o,a){rl()&&(function aC(s,o,a,c){const d=a.directiveStart,p=a.directiveEnd;or(a)&&function cC(s,o,a){const c=Nn(o,s),d=cn(a),p=s[Lr],v=sp(s,Jf(s,d,null,a.onPush?32:16,c,o,p,p.createRenderer(c,a),null,null,null));s[o.index]=v}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Do(a,o),wn(c,o);const v=a.initialInputs;for(let E=d;E<p;E++){const C=s.data[E],T=Ir(o,s,E,a);wn(T,o),null!==v&&zv(0,E-d,T,C,0,v),Ri(C)&&(jn(a.index,o)[mn]=Ir(o,s,E,a))}}(s,o,a,Nn(a,o)),64==(64&a.flags)&&Om(s,o,a))}function fr(s,o,a=Nn){const c=o.localNames;if(null!==c){let d=o.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function cn(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=np(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function np(s,o,a,c,d,p,v,E,C,T){const P=en+c,B=P+d,Z=function Pm(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Ft);return a}(P,B),J="function"==typeof T?T():T;return Z[qe]={type:s,blueprint:Z,template:a,queries:null,viewQuery:E,declTNode:o,data:Z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function xm(s,o,a,c){const d=Lm(o);null===a?d.push(c):(d.push(a),s.firstCreatePass&&op(s).push(c,d.length-1))}function Ut(s,o,a,c){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const p=s[d];null===c?vs(a,o,d,p):c.hasOwnProperty(d)&&vs(a,o,c[d],p)}return a}function vs(s,o,a,c){s.hasOwnProperty(a)?s[a].push(o,c):s[a]=[o,c]}function td(s,o){const a=jn(o,s);16&a[Rt]||(a[Rt]|=32)}function Ys(s,o,a,c){let d=!1;if(rl()){const p=null===c?null:{"":-1},v=function Lv(s,o){const a=s.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const v=a[p];if(gm(o,v.selectors,!1))if(c||(c=[]),Ri(v))if(null!==v.findHostDirectiveDefs){const E=[];d=d||new Map,v.findHostDirectiveDefs(v,E,d),c.unshift(...E,v),ip(s,o,E.length)}else c.unshift(v),ip(s,o,0);else d=d||new Map,v.findHostDirectiveDefs?.(v,c,d),c.push(v)}return null===c?null:[c,d]}(s,a);let E,C;null===v?E=C=null:[E,C]=v,null!==E&&(d=!0,Qi(s,o,a,E,p,C)),p&&function Fv(s,o,a){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new fe(-301,!1);c.push(o[d],p)}}}(a,c,p)}return a.mergedAttrs=Vr(a.mergedAttrs,a.attrs),d}function Qi(s,o,a,c,d,p){for(let T=0;T<c.length;T++)Ia(Do(a,o),s,c[T].type);!function Uv(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,c.length);for(let T=0;T<c.length;T++){const P=c[T];P.providersResolver&&P.providersResolver(P)}let v=!1,E=!1,C=Eh(s,o,c.length,null);for(let T=0;T<c.length;T++){const P=c[T];a.mergedAttrs=Vr(a.mergedAttrs,P.hostAttrs),Bv(s,a,o,C,P),nA(C,P,d),null!==P.contentQueries&&(a.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=64);const B=P.type.prototype;!v&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),v=!0),!E&&(B.ngOnChanges||B.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),E=!0),C++}!function Rm(s,o,a){const d=o.directiveEnd,p=s.data,v=o.attrs,E=[];let C=null,T=null;for(let P=o.directiveStart;P<d;P++){const B=p[P],Z=a?a.get(B):null,ye=Z?Z.outputs:null;C=Ut(B.inputs,P,C,Z?Z.inputs:null),T=Ut(B.outputs,P,T,ye);const Le=null===C||null===v||yv(o)?null:uC(C,P,v);E.push(Le)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=C,o.outputs=T}(s,a,p)}function Om(s,o,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,v=function rc(){return St.lFrame.currentDirectiveIndex}();try{vo(p);for(let E=c;E<d;E++){const C=s.data[E],T=o[E];sc(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&lC(C,T)}}finally{vo(-1),sc(v)}}function lC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function ip(s,o,a){o.componentOffset=a,(s.components||(s.components=[])).push(o.index)}function nA(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Ri(o)&&(a[""]=s)}}function Bv(s,o,a,c,d){s.data[c]=d;const p=d.factory||(d.factory=Ps(d.type)),v=new as(p,Ri(d),wh);s.blueprint[c]=v,a[c]=v,function hi(s,o,a,c,d){const p=d.hostBindings;if(p){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~o.index;(function oC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(v)!=E&&v.push(E),v.push(a,c,p)}}(s,o,c,Eh(s,a,d.hostVars,Ft),d)}function Xi(s,o,a,c,d,p){const v=Nn(s,o);!function km(s,o,a,c,d,p,v){if(null==p)s.removeAttribute(o,d,a);else{const E=null==v?Se(p):v(p,c||"",d);s.setAttribute(o,d,E,a)}}(o[Nt],v,p,s.value,a,c,d)}function zv(s,o,a,c,d,p){const v=p[o];if(null!==v){const E=c.setInput;for(let C=0;C<v.length;){const T=v[C++],P=v[C++],B=v[C++];null!==E?c.setInput(a,B,T,P):a[P]=B}}}function uC(s,o,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===c&&(c=[]);const v=s[p];for(let E=0;E<v.length;E+=2)if(v[E]===o){c.push(p,v[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Hv(s,o,a,c){return[s,!0,!1,o,null,0,c,a,null,null]}function Nm(s,o){const a=jn(o,s);if(_o(a)){const c=a[qe];48&a[Rt]?tp(c,a,c.template,a[mn]):a[Nr]>0&&rp(a)}}function rp(s){for(let c=Pa(s);null!==c;c=sh(c))for(let d=li;d<c.length;d++){const p=c[d];if(_o(p))if(512&p[Rt]){const v=p[qe];tp(v,p,v.template,p[mn])}else p[Nr]>0&&rp(p)}const a=s[qe].components;if(null!==a)for(let c=0;c<a.length;c++){const d=jn(a[c],s);_o(d)&&d[Nr]>0&&rp(d)}}function Ch(s,o){const a=jn(o,s),c=a[qe];(function Ih(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),ep(c,a,a[mn])}function sp(s,o){return s[rs]?s[Wl][_i]=o:s[rs]=o,s[Wl]=o,o}function zc(s){for(;s;){s[Rt]|=32;const o=ur(s);if(oa(s)&&!o)return s;s=o}return null}function Tn(s,o,a,c=!0){const d=o[Lr];d.begin&&d.begin();try{tp(s,o,s.template,a)}catch(v){throw c&&jv(o,v),v}finally{d.end&&d.end()}}function Dh(s,o,a){oc(0),o(s,a)}function Lm(s){return s[Gi]||(s[Gi]=[])}function op(s){return s.cleanup||(s.cleanup=[])}function jv(s,o){const a=s[oo],c=a?a.get(Xu,null):null;c&&c.handleError(o)}function un(s,o,a,c,d){for(let p=0;p<a.length;){const v=a[p++],E=a[p++],C=o[v],T=s.data[v];null!==T.setInput?T.setInput(C,d,c,E):C[E]=d}}function Sh(s,o,a){let c=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?p=E:1==p?d=le(d,E):2==p&&(c=le(c,E+": "+o[++v]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=d:s.classesWithoutHost=d}function Hc(s,o,a,c,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&c.push(Sn(p)),sr(p))for(let E=li;E<p.length;E++){const C=p[E],T=C[qe].firstChild;null!==T&&Hc(C[qe],C,T,c)}const v=a.type;if(8&v)Hc(s,o,a.child,c);else if(32&v){const E=Ma(a,o);let C;for(;C=E();)c.push(C)}else if(16&v){const E=Of(o,a);if(Array.isArray(E))c.push(...E);else{const C=ur(o[ai]);Hc(C[qe],C,E,c,!0)}}a=d?a.projectionNext:a.next}return c}class Pl{get rootNodes(){const o=this._lView,a=o[qe];return Hc(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(o){this._lView[mn]=o}get destroyed(){return 128==(128&this._lView[Rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[sn];if(sr(o)){const a=o[As],c=a?a.indexOf(this):-1;c>-1&&(ah(o,c),To(a,c))}this._attachedToViewContainer=!1}xf(this._lView[qe],this._lView)}onDestroy(o){xm(this._lView[qe],this._lView,null,o)}markForCheck(){zc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Rt]&=-65}reattach(){this._lView[Rt]|=64}detectChanges(){Tn(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uu(s,o){ka(s,o,o[Nt],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=o}}class ap extends Pl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Tn(o[qe],o,o[mn],!1)}checkNoChanges(){}get context(){return null}}class Um extends yh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new Vc(a,this.ngModule)}}function lp(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class bs{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=wt(c);const d=this.injector.get(o,dm,c);return d!==dm||a===dm?d:this.parentInjector.get(o,a,c)}}class Vc extends lm{get inputs(){return lp(this.componentDef.inputs)}get outputs(){return lp(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function bv(s){return s.map(Kf).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let p=(d=d||this.ngModule)instanceof Fc?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new bs(o,p):o,E=v.get(_h,null);if(null===E)throw new fe(407,!1);const C=v.get(vh,null),T=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",B=c?function eA(s,o,a){return s.selectRootElement(o,a===_t.ShadowDom)}(T,c,this.componentDef.encapsulation):xa(T,P,function $v(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),Z=this.componentDef.onPush?288:272,J=np(0,null,null,1,0,null,null,null,null,null),ye=Jf(null,J,null,Z,null,null,E,T,C,v,null);let Le,Ge;cl(ye);try{const it=this.componentDef;let mt,Pe=null;it.findHostDirectiveDefs?(mt=[],Pe=new Map,it.findHostDirectiveDefs(it,mt,Pe),mt.push(it)):mt=[it];const xt=function Bm(s,o){const a=s[qe],c=en;return s[c]=o,ed(a,c,2,"#host",null)}(ye,B),Mn=function sA(s,o,a,c,d,p,v,E){const C=d[qe];!function hC(s,o,a,c){for(const d of s)o.mergedAttrs=Vr(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Sh(o,o.mergedAttrs,!0),null!==a&&Na(c,a,o))}(c,s,o,v);const T=p.createRenderer(o,a),P=Jf(d,cn(a),null,a.onPush?32:16,d[s.index],s,p,T,E||null,null,null);return C.firstCreatePass&&ip(C,s,c.length-1),sp(d,P),d[s.index]=P}(xt,B,it,mt,ye,E,T);Ge=yo(J,en),B&&function fC(s,o,a,c){if(c)yn(s,a,["ng-version",dv.full]);else{const{attrs:d,classes:p}=function wv(s){const o=[],a=[];let c=1,d=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++c]):8===d&&a.push(p);else{if(!qr(d))break;d=p}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&yn(s,a,d),p&&p.length>0&&ys(s,a,p.join(" "))}}(T,it,B,c),void 0!==a&&function Wv(s,o,a){const c=s.projection=[];for(let d=0;d<o.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(Ge,this.ngContentSelectors,a),Le=function nd(s,o,a,c,d,p){const v=Kn(),E=d[qe],C=Nn(v,d);Qi(E,d,v,a,null,c);for(let P=0;P<a.length;P++)wn(Ir(d,E,v.directiveStart+P,v),d);Om(E,d,v),C&&wn(C,d);const T=Ir(d,E,v.directiveStart+v.componentOffset,v);if(s[mn]=d[mn]=T,null!==p)for(const P of p)P(T,o);return we(E,v,s),T}(Mn,it,mt,Pe,ye,[Vo]),ep(J,ye,null)}finally{_f()}return new rA(this.componentType,Le,Ua(Ge,ye),ye,Ge)}}class rA extends am{constructor(o,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new ap(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const p=this._rootLView;un(p[qe],p,d,o,a),td(p,this._tNode.index)}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Vo(){const s=Kn();pa(he()[qe],s)}let hp=null;function Wc(){if(!hp){const s=Mt.Symbol;if(s&&s.iterator)hp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(hp=c)}}}return hp}function Ah(s){return!!za(s)&&(Array.isArray(s)||!(s instanceof Map)&&Wc()in s)}function za(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ji(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Vm(s,o,a,c){const d=he();return Ji(d,Ns(),o)&&($t(),Xi(on(),d,s,o,a,c)),Vm}function r0(s,o,a,c,d,p,v,E){const C=he(),T=$t(),P=s+en,B=T.firstCreatePass?function EC(s,o,a,c,d,p,v,E,C){const T=o.consts,P=ed(o,s,4,v||null,Br(T,E));Ys(o,a,P,Br(T,C)),pa(o,P);const B=P.tViews=np(2,P,c,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,P),B.queries=o.queries.embeddedTView(P)),P}(P,T,C,o,a,c,d,p,v):T.data[P];ki(B,!1);const Z=C[Nt].createComment("");Ic(T,C,Z,B),wn(Z,C),sp(C,C[P]=Hv(Z,C,Z,B)),Gl(B)&&Mm(T,C,B),null!=v&&fr(C,B,E)}function Gm(s,o,a){const c=he();return Ji(c,Ns(),o)&&function He(s,o,a,c,d,p,v,E){const C=Nn(o,a);let P,T=o.inputs;!E&&null!=T&&(P=T[c])?(un(s,a,P,c,d),or(o)&&td(a,o.index)):3&o.type&&(c=function di(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=v?v(d,o.value||"",c):d,p.setProperty(C,c,d))}($t(),on(),c,s,o,c[Nt],a,!1),Gm}function xl(s,o,a,c,d){const v=d?"class":"style";un(s,a,o.inputs[v],v,c)}function gp(s,o,a,c){const d=he(),p=$t(),v=en+s,E=d[Nt],C=d[v]=xa(E,o,function vf(){return St.lFrame.currentNamespace}()),T=p.firstCreatePass?function IC(s,o,a,c,d,p,v){const E=o.consts,T=ed(o,s,2,d,Br(E,p));return Ys(o,a,T,Br(E,v)),null!==T.attrs&&Sh(T,T.attrs,!1),null!==T.mergedAttrs&&Sh(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,p,d,0,o,a,c):p.data[v];return ki(T,!0),Na(E,C,T),32!=(32&T.flags)&&Ic(p,d,C,T),0===function il(){return St.lFrame.elementDepthCount}()&&wn(C,d),function Jl(){St.lFrame.elementDepthCount++}(),Gl(T)&&(Mm(p,d,T),we(p,T,d)),null!==c&&fr(d,T),gp}function mp(){let s=Kn();ol()?al():(s=s.parent,ki(s,!1));const o=s;!function ec(){St.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(pa(a,s),sa(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function wu(s){return 0!=(8&s.flags)}(o)&&xl(a,o,he(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Wd(s){return 0!=(16&s.flags)}(o)&&xl(a,o,he(),o.stylesWithoutHost,!1),mp}function Mr(s,o,a,c){return gp(s,o,a,c),mp(),Mr}function a0(){return he()}function qm(s){return!!s&&"function"==typeof s.then}function l0(s){return!!s&&"function"==typeof s.subscribe}const c0=l0;function Km(s,o,a,c){const d=he(),p=$t(),v=Kn();return function d0(s,o,a,c,d,p,v){const E=Gl(c),T=s.firstCreatePass&&op(s),P=o[mn],B=Lm(o);let Z=!0;if(3&c.type||v){const Le=Nn(c,o),Ge=v?v(Le):Le,it=B.length,mt=v?xt=>v(Sn(xt[c.index])):c.index;let Pe=null;if(!v&&E&&(Pe=function DC(s,o,a,c){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const v=d[p];if(v===a&&d[p+1]===c){const E=o[Gi],C=d[p+2];return E.length>C?E[C]:null}"string"==typeof v&&(p+=2)}return null}(s,o,d,c.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=p,Pe.__ngLastListenerFn__=p,Z=!1;else{p=Ym(c,o,P,p,!1);const xt=a.listen(Ge,d,p);B.push(p,xt),T&&T.push(d,mt,it,it+1)}}else p=Ym(c,o,P,p,!1);const J=c.outputs;let ye;if(Z&&null!==J&&(ye=J[d])){const Le=ye.length;if(Le)for(let Ge=0;Ge<Le;Ge+=2){const Mn=o[ye[Ge]][ye[Ge+1]].subscribe(p),Vn=B.length;B.push(p,Mn),T&&T.push(d,c.index,Vn,-(Vn+1))}}}(p,d,d[Nt],v,s,o,c),Km}function h0(s,o,a,c){try{return Oi(6,o,a),!1!==a(c)}catch(d){return jv(s,d),!1}finally{Oi(7,o,a)}}function Ym(s,o,a,c,d){return function p(v){if(v===Function)return c;zc(s.componentOffset>-1?jn(s.index,o):o);let C=h0(o,a,c,v),T=p.__ngNextListenerFn__;for(;T;)C=h0(o,a,T,v)&&C,T=T.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function f0(s=1){return function Ng(s){return(St.lFrame.contextLView=function vu(s,o){for(;s>0;)o=o[rr],s--;return o}(s,St.lFrame.contextLView))[mn]}(s)}function SC(s,o){let a=null;const c=function Ju(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const p=o[d];if("*"!==p){if(null===c?gm(s,p,!0):vv(c,p))return d}else a=d}return a}function p0(s){const o=he()[ai][kn];if(!o.projection){const c=o.projection=Ao(s?s.length:1,null),d=c.slice();let p=o.child;for(;null!==p;){const v=s?SC(p,s):0;null!==v&&(d[v]?d[v].projectionNext=p:c[v]=p,d[v]=p),p=p.next}}}function g0(s,o=0,a){const c=he(),d=$t(),p=ed(d,en+s,16,null,a||null);null===p.projection&&(p.projection=o),al(),32!=(32&p.flags)&&function Bo(s,o,a){ju(o[Nt],0,o,a,Bu(s,a,o),Tl(a.parent||o[kn],a,o))}(d,c,p)}function Ph(s,o){return s<<17|o<<2}function Rl(s){return s>>17&32767}function xh(s){return 2|s}function qc(s){return(131068&s)>>2}function Qm(s,o){return-131069&s|o<<2}function Xm(s){return 1|s}function Ol(s,o,a,c,d){const p=s[a+1],v=null===o;let E=c?Rl(p):qc(p),C=!1;for(;0!==E&&(!1===C||v);){const P=s[E+1];MC(s[E],o)&&(C=!0,s[E+1]=c?Xm(P):xh(P)),E=c?Rl(P):qc(P)}C&&(s[a+1]=c?xh(p):Xm(p))}function MC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&lr(s,o)>=0}const fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function An(s){return s.substring(fi.key,fi.keyEnd)}function Jm(s,o){const a=fi.textEnd;return a===o?-1:(o=fi.keyEnd=function ey(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,fi.key=o,a),ud(s,o,a))}function ud(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Oh(s,o,a){return function Rr(s,o,a,c){const d=he(),p=$t(),v=Er(2);p.firstUpdatePass&&A0(p,s,v,c),o!==Ft&&Ji(d,v,o)&&Dp(p,p.data[wi()],d,d[Nt],s,d[v+1]=function BC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(b(s)))),s}(o,a),c,v)}(s,o,a,!1),Oh}function S0(s){!function Qs(s,o,a,c){const d=$t(),p=Er(2);d.firstUpdatePass&&A0(d,null,p,c);const v=he();if(a!==Ft&&Ji(v,p,a)){const E=d.data[wi()];if(iy(E,c)&&!T0(d,p)){let C=c?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(a=le(C,a||"")),xl(d,E,v,a,c)}else!function UC(s,o,a,c,d,p,v,E){d===Ft&&(d=vt);let C=0,T=0,P=0<d.length?d[0]:null,B=0<p.length?p[0]:null;for(;null!==P||null!==B;){const Z=C<d.length?d[C+1]:void 0,J=T<p.length?p[T+1]:void 0;let Le,ye=null;P===B?(C+=2,T+=2,Z!==J&&(ye=B,Le=J)):null===B||null!==P&&P<B?(C+=2,ye=P):(T+=2,ye=B,Le=J),null!==ye&&Dp(s,o,a,c,ye,Le,v,E),P=C<d.length?d[C]:null,B=T<p.length?p[T]:null}}(d,E,v,v[Nt],v[p+1],v[p+1]=function FC(s,o,a){if(null==a||""===a)return vt;const c=[],d=b(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(c,p,d[p]);else"string"==typeof d&&o(c,d);return c}(s,o,a),c,p)}}(Ei,Go,s,!0)}function Go(s,o){for(let a=function PC(s){return function Cp(s){fi.key=0,fi.keyEnd=0,fi.value=0,fi.valueEnd=0,fi.textEnd=s.length}(s),Jm(s,ud(s,0,fi.textEnd))}(o);a>=0;a=Jm(o,a))Ei(s,An(o),!0)}function T0(s,o){return o>=s.expandoStartIndex}function A0(s,o,a,c){const d=s.data;if(null===d[a+1]){const p=d[wi()],v=T0(s,a);iy(p,c)&&null===o&&!v&&(o=!1),o=function kC(s,o,a,c){const d=function zr(s){const o=St.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=kh(a=ny(null,s,o,a,c),o.attrs,c),p=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=ny(d,s,o,a,c),null===p){let C=function ty(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==qc(c))return s[Rl(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=ny(null,s,o,C[1],c),C=kh(C,o.attrs,c),function NC(s,o,a,c){s[Rl(a?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else p=function LC(s,o,a){let c;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)c=kh(c,s[p].hostAttrs,a);return kh(c,o.attrs,a)}(s,o,c)}return void 0!==p&&(c?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,c),function Pr(s,o,a,c,d,p){let v=p?o.classBindings:o.styleBindings,E=Rl(v),C=qc(v);s[c]=a;let P,T=!1;if(Array.isArray(a)?(P=a[1],(null===P||lr(a,P)>0)&&(T=!0)):P=a,d)if(0!==C){const Z=Rl(s[E+1]);s[c+1]=Ph(Z,E),0!==Z&&(s[Z+1]=Qm(s[Z+1],c)),s[E+1]=function b0(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Ph(E,0),0!==E&&(s[E+1]=Qm(s[E+1],c)),E=c;else s[c+1]=Ph(C,0),0===E?E=c:s[C+1]=Qm(s[C+1],c),C=c;T&&(s[c+1]=xh(s[c+1])),Ol(s,P,c,!0),Ol(s,P,c,!1),function xr(s,o,a,c,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&lr(p,o)>=0&&(a[c+1]=Xm(a[c+1]))}(o,P,s,c,p),v=Ph(E,C),p?o.classBindings=v:o.styleBindings=v}(d,p,o,a,v,c)}}function ny(s,o,a,c,d){let p=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(p=o[E],c=kh(c,p.hostAttrs,d),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),c}function kh(s,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const v=o[p];"number"==typeof v?d=v:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ei(s,v,!!a||o[++p]))}return void 0===s?null:s}function Dp(s,o,a,c,d,p,v,E){if(!(3&o.type))return;const C=s.data,T=C[E+1],P=function w0(s){return 1==(1&s)}(T)?P0(C,o,a,d,qc(T),v):void 0;Sp(P)||(Sp(p)||function TC(s){return 2==(2&s)}(T)&&(p=P0(C,null,a,d,E,v)),function kf(s,o,a,c,d){if(o)d?s.addClass(a,c):s.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Sr.DashCase;null==d?s.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Sr.Important),s.setStyle(a,c,d,p))}}(c,v,function Os(s,o){return Sn(o[s])}(wi(),a),d,p))}function P0(s,o,a,c,d,p){const v=null===o;let E;for(;d>0;){const C=s[d],T=Array.isArray(C),P=T?C[1]:C,B=null===P;let Z=a[d+1];Z===Ft&&(Z=B?vt:void 0);let J=B?Vs(Z,c):P===c?Z:void 0;if(T&&!Sp(J)&&(J=Vs(C,c)),Sp(J)&&(E=J,v))return E;const ye=s[d+1];d=v?Rl(ye):qc(ye)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(E=Vs(C,c))}return E}function Sp(s){return void 0!==s}function iy(s,o){return 0!=(s.flags&(o?8:16))}function Ha(s,o=""){const a=he(),c=$t(),d=s+en,p=c.firstCreatePass?ed(c,d,1,o,null):c.data[d],v=a[d]=function Lu(s,o){return s.createText(o)}(a[Nt],o);Ic(c,a,v,p),ki(p,!1)}const Kc=void 0;var eI=["en",[["a","p"],["AM","PM"],Kc],[["AM","PM"],Kc,Kc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kc,"{1} 'at' {0}",Kc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cy(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let dd={};function Nh(s){const o=function tI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Z0(o);if(a)return a;const c=o.split("-")[0];if(a=Z0(c),a)return a;if("en"===c)return eI;throw new fe(701,!1)}function G0(s){return Nh(s)[Et.PluralCase]}function Z0(s){return s in dd||(dd[s]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[s]),dd[s]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const hd="en-US";let Y0=hd;class pd{}class Hp{}function HI(s,o){return new Iy(s,o??null)}class Iy extends pd{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Um(this);const c=qn(o);this._bootstrapComponents=Ba(c.bootstrap),this._r3Injector=hr(o,a,[{provide:pd,useValue:this},{provide:yh,useValue:this.componentFactoryResolver}],ce(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Dy extends Hp{constructor(o){super(),this.moduleType=o}create(o){return new Iy(this.moduleType,o)}}class VI extends pd{constructor(o,a,c){super(),this.componentFactoryResolver=new Um(this),this.instance=null;const d=new ov([...o,{provide:pd,useValue:this},{provide:yh,useValue:this.componentFactoryResolver}],a||Fa(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Sy(s,o,a=null){return new VI(s,o,a).injector}let Ty=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=qu(0,a.type),d=c.length>0?Sy([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Qe({token:s,providedIn:"environment",factory:()=>new s(Ve(Fc))}),s})();function Cb(s){s.getStandaloneInjector=o=>o.get(Ty).getOrCreateStandaloneInjector(s)}function Mb(s,o,a,c){return Pb(he(),Un(),s,o,a,c)}function Pb(s,o,a,c,d,p){const v=o+a;return Ji(s,v,d)?function jo(s,o,a){return s[o]=a}(s,v+1,p?c.call(p,d):c(d)):function Hh(s,o){const a=s[o];return a===Ft?void 0:a}(s,v+1)}function Ob(s,o){const a=$t();let c;const d=s+en;a.firstCreatePass?(c=function JI(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=Ps(c.type)),v=fn(wh);try{const E=Co(!1),C=p();return Co(E),function CC(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,he(),d,C),C}finally{fn(v)}}function Gp(s,o,a){const c=s+en,d=he(),p=function ks(s,o){return s[o]}(d,c);return function Vh(s,o){return s[qe].data[o].pure}(d,c)?Pb(d,Un(),o,p.transform,a,p):p.transform(a)}function Zp(s){return o=>{setTimeout(s,void 0,o)}}const Es=class Ny extends m.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,p=a||(()=>null),v=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),p=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(p=Zp(p),d&&(d=Zp(d)),v&&(v=Zp(v)));const E=super.subscribe({next:d,error:p,complete:v});return o instanceof ee.w0&&o.add(E),E}};function qp(){return this._results[Wc()]()}class jh{get changes(){return this._changes||(this._changes=new Es)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Wc(),c=jh.prototype;c[a]||(c[a]=qp)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Li(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Pu(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],p=o[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Kr=(()=>{class s{}return s.__NG_ELEMENT_ID__=sD,s})();const mA=Kr,rD=class extends mA{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,d=Jf(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[ao]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Zi];return null!==v&&(d[Zi]=v.createEmbeddedView(c)),ep(c,d,o),new Pl(d)}};function sD(){return Kp(Kn(),he())}function Kp(s,o){return 4&s.type?new rD(o,s,Ua(s,o)):null}let Yp=(()=>{class s{}return s.__NG_ELEMENT_ID__=kb,s})();function kb(){return Nb(Kn(),he())}const Qp=Yp,Va=class extends Qp{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){const o=pl(this._hostTNode,this._hostLView);if(uc(o)){const a=hl(o,this._hostLView),c=va(o);return new ar(a[qe].data[c+8],a)}return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=oD(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-li}createEmbeddedView(o,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const v=o.createEmbeddedView(a||{},p);return this.insert(v,d),v}createComponent(o,a,c,d,p){const v=o&&!function wl(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const B=a||{};E=B.index,c=B.injector,d=B.projectableNodes,p=B.environmentInjector||B.ngModuleRef}const C=v?o:new Vc(jt(o)),T=c||this.parentInjector;if(!p&&null==C.ngModule){const Z=(v?T:this.parentInjector).get(Fc,null);Z&&(p=Z)}const P=C.create(T,d,void 0,p);return this.insert(P.hostView,E),P}insert(o,a){const c=o._lView,d=c[qe];if(function tl(s){return sr(s[sn])}(c)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const B=c[sn],Z=new Va(B,B[kn],B[sn]);Z.detach(Z.indexOf(o))}}const p=this._adjustIndex(a),v=this._lContainer;!function Wg(s,o,a,c){const d=li+c,p=a.length;c>0&&(a[d-1][_i]=o),c<p-li?(o[_i]=a[d],El(a,li+c,o)):(a.push(o),o[_i]=null),o[sn]=a;const v=o[ao];null!==v&&a!==v&&function Gg(s,o){const a=s[vi];o[ai]!==o[sn][sn][ai]&&(s[cu]=!0),null===a?s[vi]=[o]:a.push(o)}(v,o);const E=o[Zi];null!==E&&E.insertView(s),o[Rt]|=64}(d,c,v,p);const E=Vi(p,v),C=c[Nt],T=Cc(C,v[lo]);return null!==T&&function Pf(s,o,a,c,d,p){c[Wi]=d,c[kn]=o,ka(s,c,a,1,d,p)}(d,v[kn],C,c,T,E),o.attachToViewContainerRef(),El(Ly(v),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=oD(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=ah(this._lContainer,a);c&&(To(Ly(this._lContainer),a),xf(c[qe],c))}detach(o){const a=this._adjustIndex(o,-1),c=ah(this._lContainer,a);return c&&null!=To(Ly(this._lContainer),a)?new Pl(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function oD(s){return s[As]}function Ly(s){return s[As]||(s[As]=[])}function Nb(s,o){let a;const c=o[s.index];if(sr(c))a=c;else{let d;if(8&s.type)d=Sn(c);else{const p=o[Nt];d=p.createComment("");const v=Nn(s,o);Ra(p,Cc(p,v),d,function Yg(s,o){return s.nextSibling(o)}(p,v),!1)}o[s.index]=a=Hv(c,o,d,s),sp(o,a)}return new Va(a,s,o)}class Xp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Xp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);d.push(this.queries[v.indexInDeclarationView].clone())}return new Jp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==lD(o,a).matches&&this.queries[a].setDirty()}}class Fy{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Uy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(o,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new Uy(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Qc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(o,a,ei(a,p)),this.matchTNodeWithReadOption(o,a,zs(a,o,p,!1,!1))}else c===Kr?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,zs(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Qu||d===Yp||d===Kr&&4&a.type)this.addMatch(a.index,-2);else{const p=zs(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function ei(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function zy(s,o,a,c){return-1===a?function By(s,o){return 11&s.type?Ua(s,o):4&s.type?Kp(s,o):null}(o,s):-2===a?function eg(s,o,a){return a===Qu?Ua(o,s):a===Kr?Kp(o,s):a===Yp?Nb(o,s):void 0}(s,o,c):Ir(s,s[qe],a,o)}function Hy(s,o,a,c){const d=o[Zi].queries[c];if(null===d.matches){const p=s.data,v=a.matches,E=[];for(let C=0;C<v.length;C+=2){const T=v[C];E.push(T<0?null:zy(o,p[T],v[C+1],a.metadata.read))}d.matches=E}return d.matches}function $h(s,o,a,c){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const v=Hy(s,o,d,a);for(let E=0;E<p.length;E+=2){const C=p[E];if(C>0)c.push(v[E/2]);else{const T=p[E+1],P=o[-C];for(let B=li;B<P.length;B++){const Z=P[B];Z[ao]===Z[sn]&&$h(Z[qe],Z,T,c)}if(null!==P[vi]){const B=P[vi];for(let Z=0;Z<B.length;Z++){const J=B[Z];$h(J[qe],J,T,c)}}}}}return c}function tg(s){const o=he(),a=$t(),c=yu();oc(c+1);const d=lD(a,c);if(s.dirty&&function ca(s){return 4==(4&s[Rt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?$h(a,o,c,[]):Hy(a,o,d,c);s.reset(p,cv),s.notifyOnChanges()}return!0}return!1}function Vy(s,o,a){const c=$t();c.firstCreatePass&&(Ub(c,new Fy(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),gd(c,he(),o)}function Lb(s,o,a,c){const d=$t();if(d.firstCreatePass){const p=Kn();Ub(d,new Fy(o,a,c),p.index),function Bb(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}gd(d,he(),a)}function Fb(){return function aD(s,o){return s[Zi].queries[o].queryList}(he(),yu())}function gd(s,o,a){const c=new jh(4==(4&a));xm(s,o,c,c.destroy),null===o[Zi]&&(o[Zi]=new Jp),o[Zi].queries.push(new Xp(c))}function Ub(s,o,a){null===s.queries&&(s.queries=new Uy),s.queries.track(new Qc(o,a))}function lD(s,o){return s.queries.getByIndex(o)}function ag(...s){}const Xb=new Qt("Application Initializer");let lg=(()=>{class s{constructor(a){this.appInits=a,this.resolve=ag,this.reject=ag,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(qm(p))a.push(p);else if(c0(p)){const v=new Promise((E,C)=>{p.subscribe({complete:E,error:C})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Ve(Xb,8))},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cg=new Qt("AppId",{providedIn:"root",factory:function ug(){return`${Gh()}${Gh()}${Gh()}`}});function Gh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ky=new Qt("Platform Initializer"),CD=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yy=new Qt("appBootstrapListener"),ID=new Qt("AnimationModuleType");let Qy=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const dg=new Qt("LocaleId",{providedIn:"root",factory:()=>Xe(dg,ft.Optional|ft.SkipSelf)||function Jb(){return typeof $localize<"u"&&$localize.locale||hd}()}),DD=new Qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Xs{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let kA=(()=>{class s{compileModuleSync(a){return new Dy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Ba(qn(a).declarations).reduce((v,E)=>{const C=jt(E);return C&&v.push(new Vc(C)),v},[]);return new Xs(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Xy=(()=>Promise.resolve(0))();function hg(s){typeof Zone>"u"?Xy.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Yr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Es(!1),this.onMicrotaskEmpty=new Es(!1),this.onStable=new Es(!1),this.onError=new Es(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function AD(){let s=Mt.requestAnimationFrame,o=Mt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ew(s){const o=()=>{!function vd(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Mt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,fg(s),s.isCheckStableRunning=!0,qh(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),fg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,v,E)=>{try{return bd(s),a.invokeTask(d,p,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),kl(s)}},onInvoke:(a,c,d,p,v,E,C)=>{try{return bd(s),a.invoke(d,p,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),kl(s)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,fg(s),qh(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yr.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Yr.isInAngularZone())throw new fe(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+d,o,tu,ag,ag);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const tu={};function qh(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function fg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function bd(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function kl(s){s._nesting--,qh(s)}class tw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Es,this.onMicrotaskEmpty=new Es,this.onStable=new Es,this.onError=new Es}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const Jy=new Qt(""),pi=new Qt("");let Ti,Kh=(()=>{class s{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ti||(function Ko(s){Ti=s}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yr.assertNotInAngularZone(),hg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Ve(Yr),Ve(pg),Ve(pi))},s.\u0275prov=Qe({token:s,factory:s.\u0275fac}),s})(),pg=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Ti?.findTestabilityInTree(this,a,c)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Nl=null;const Yh=new Qt("AllowMultipleToken"),e_=new Qt("PlatformDestroyListeners"),er=!1;class Qh{constructor(o,a){this.name=o,this.token=a}}function iw(s,o,a=[]){const c=`Platform: ${o}`,d=new Qt(c);return(p=[])=>{let v=n_();if(!v||v.injector.get(Yh,!1)){const E=[...a,...p,{provide:d,useValue:!0}];s?s(E):function t_(s){if(Nl&&!Nl.get(Yh,!1))throw new fe(400,!1);Nl=s;const o=s.get(sw);(function gi(s){const o=s.get(Ky,null);o&&o.forEach(a=>a())})(s)}(function rw(s=[],o){return Bc.create({name:o,providers:[{provide:sv,useValue:"platform"},{provide:e_,useValue:new Set([()=>Nl=null])},...s]})}(E,c))}return function xD(s){const o=n_();if(!o)throw new fe(401,!1);return o}()}}function n_(){return Nl?.get(sw)??null}let sw=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function nu(s,o){let a;return a="noop"===s?new tw:("zone.js"===s?void 0:s)||new Yr(o),a}(c?.ngZone,function i_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Yr,useValue:d}];return d.run(()=>{const v=Bc.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(v),C=E.injector.get(Xu,null);if(!C)throw new fe(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:P=>{C.handleError(P)}});E.onDestroy(()=>{mg(this._modules,E),T.unsubscribe()})}),function ow(s,o,a){try{const c=a();return qm(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(C,d,()=>{const T=E.injector.get(lg);return T.runInitializers(),T.donePromise.then(()=>(function Q0(s){Ze(s,"Expected localeId to be defined"),"string"==typeof s&&(Y0=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(dg,hd)||hd),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,c=[]){const d=Ed({},c);return function ja(s,o,a){const c=new Dy(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(gg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new fe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(e_,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Ve(Bc))},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ed(s,o){return Array.isArray(o)?o.reduce(Ed,s):{...s,...o}}let gg=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new L.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Yr.assertNotInAngularZone(),hg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Yr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(p,v.pipe((0,ie.B)()))}bootstrap(a,c){const d=a instanceof lm;if(!this._injector.get(lg).done){!d&&On(a);throw new fe(405,er)}let v;v=d?a:this._injector.get(yh).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function MD(s){return s.isBoundToModule}(v)?void 0:this._injector.get(pd),T=v.create(Bc.NULL,[],c||v.selector,E),P=T.location.nativeElement,B=T.injector.get(Jy,null);return B?.registerApplication(P),T.onDestroy(()=>{this.detachView(T.hostView),mg(this.components,T),B?.unregisterApplication(P)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;mg(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(Yy,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>mg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Ve(Yr),Ve(Fc),Ve(Xu))},s.\u0275prov=Qe({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function mg(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function aw(){return!1}let lw=(()=>{class s{}return s.__NG_ELEMENT_ID__=cw,s})();function cw(s){return function s_(s,o,a){if(or(s)&&!a){const c=jn(s.index,o);return new Pl(c,c)}return 47&s.type?new Pl(o[ai],o):null}(Kn(),he(),16==(16&s))}class hw{constructor(){}supports(o){return Ah(o)}create(o){return new pw(o)}}const fw=(s,o)=>o;class pw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fw}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<$a(c,d,p)?a:c,E=$a(v,d,p),C=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{p||(p=[]);const T=E-d,P=C-d;if(T!=P){for(let Z=0;Z<T;Z++){const J=Z<p.length?p[Z]:p[Z]=0,ye=J+Z;P<=ye&&ye<T&&(p[Z]=J+1)}p[v.previousIndex]=P-T}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ah(o))throw new fe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,v,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],v=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,E),c=!0),a=a._next}else d=0,function vC(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Wc()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new zD(a,c),p,d),o}_verifyReinsertion(o,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class zD{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class gw{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new HD,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $a(s,o,a){const c=s.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class bg{constructor(){}supports(o){return o instanceof Map||za(o)}create(){return new VD}}class VD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||za(o)))throw new fe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,v=d._next;return p&&(p._next=v),v&&(v._prev=p),d._next=null,d._prev=null,d}const c=new jD(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class jD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jh(){return new Ll([new hw])}let Ll=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||Jh()),deps:[[s,new S,new Il]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new fe(901,!1)}}return s.\u0275prov=Qe({token:s,providedIn:"root",factory:Jh}),s})();function mw(){return new d_([new bg])}let d_=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||mw()),deps:[[s,new S,new Il]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new fe(901,!1)}}return s.\u0275prov=Qe({token:s,providedIn:"root",factory:mw}),s})();const qD=iw(null,"core",[]);let _w=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Ve(gg))},s.\u0275mod=gn({type:s}),s.\u0275inj=Cn({}),s})();function KD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ut,Ee,F)=>{F.d(Ee,{Z:()=>je});var m=F(2090),ee=F(4859),L=F(9681),re=F(1877);class ie{constructor(fe,De){this._delegate=fe,this.firebase=De,(0,L._addComponent)(fe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(fe,De=L._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(fe);return!Ne.isInitialized()&&"EXPLICIT"===(null===(Se=Ne.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:De})}_removeServiceInstance(fe,De=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(De)}_addComponent(fe){(0,L._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,L._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const nt=function ce(nt){const fe={},De={__esModule:!0,initializeApp:function Ce(xe,V={}){const ge=L.initializeApp(xe,V);if((0,m.r3)(fe,ge.name))return fe[ge.name];const Ue=new nt(ge,De);return fe[ge.name]=Ue,Ue},app:Ne,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Te(xe){const V=xe.name,ge=V.replace("-compat","");if(L._registerComponent(xe)&&"PUBLIC"===xe.type){const Ue=($e=Ne())=>{if("function"!=typeof $e[ge])throw de.create("invalid-app-argument",{appName:V});return $e[ge]()};void 0!==xe.serviceProps&&(0,m.ZB)(Ue,xe.serviceProps),De[ge]=Ue,nt.prototype[ge]=function(...$e){return this._getService.bind(this,V).apply(this,xe.multipleInstances?$e:[])}}return"PUBLIC"===xe.type?De[ge]:null},removeApp:function Se(xe){delete fe[xe]},useAsService:function Fe(xe,V){return"serverAuth"===V?null:V},modularAPIs:L}};function Ne(xe){if(!(0,m.r3)(fe,xe=xe||L._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:xe});return fe[xe]}return De.default=De,Object.defineProperty(De,"apps",{get:function _e(){return Object.keys(fe).map(xe=>fe[xe])}}),Ne.App=nt,De}(ie);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function fe(De){(0,m.ZB)(nt,De)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),nt}(),W=new re.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=$;!function Ie(nt){(0,L.registerVersion)("@firebase/app-compat","0.2.5",nt)}()},9681:(ut,Ee,F)=>{F.r(Ee),F.d(Ee,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>ke,_addComponent:()=>qt,_addOrOverwriteComponent:()=>yt,_apps:()=>Ze,_clearComponents:()=>Cn,_components:()=>We,_getProvider:()=>Qe,_registerComponent:()=>Wt,_removeServiceInstance:()=>Dt,deleteApp:()=>es,getApp:()=>$i,getApps:()=>mi,initializeApp:()=>Jr,onLog:()=>ft,registerVersion:()=>Pi,setLogLevel:()=>ts});var m=F(5861),ee=F(4859),L=F(1877),re=F(2090),ie=F(8766);class te{constructor(be){this.container=be}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function de(Ve){return"VERSION"===Ve.getComponent()?.type}(Xe)){const wt=Xe.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const ce="@firebase/app",$=new L.Yd("@firebase/app"),ke="[DEFAULT]",ze={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ze=new Map,We=new Map;function qt(Ve,be){try{Ve.container.addComponent(be)}catch(Xe){$.debug(`Component ${be.name} failed to register with FirebaseApp ${Ve.name}`,Xe)}}function yt(Ve,be){Ve.container.addOrOverwriteComponent(be)}function Wt(Ve){const be=Ve.name;if(We.has(be))return $.debug(`There were multiple attempts to register component ${be}.`),!1;We.set(be,Ve);for(const Xe of Ze.values())qt(Xe,Ve);return!0}function Qe(Ve,be){const Xe=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Ve.container.getProvider(be)}function Dt(Ve,be,Xe=ke){Qe(Ve,be).clearInstance(Xe)}function Cn(){We.clear()}const ln=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hn{constructor(be,Xe,wt){this._isDeleted=!1,this._options=Object.assign({},be),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this.checkDestroyed(),this._automaticDataCollectionEnabled=be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(be){this._isDeleted=be}checkDestroyed(){if(this.isDeleted)throw ln.create("app-deleted",{appName:this._name})}}const Mi="9.18.0";function Jr(Ve,be={}){let Xe=Ve;"object"!=typeof be&&(be={name:be});const wt=Object.assign({name:ke,automaticDataCollectionEnabled:!1},be),Pt=wt.name;if("string"!=typeof Pt||!Pt)throw ln.create("bad-app-name",{appName:String(Pt)});if(Xe||(Xe=(0,re.aH)()),!Xe)throw ln.create("no-options");const kt=Ze.get(Pt);if(kt){if((0,re.vZ)(Xe,kt.options)&&(0,re.vZ)(wt,kt.config))return kt;throw ln.create("duplicate-app",{appName:Pt})}const oi=new ee.H0(Pt);for(const H of We.values())oi.addComponent(H);const j=new hn(Xe,wt,oi);return Ze.set(Pt,j),j}function $i(Ve=ke){const be=Ze.get(Ve);if(!be&&Ve===ke)return Jr();if(!be)throw ln.create("no-app",{appName:Ve});return be}function mi(){return Array.from(Ze.values())}function es(Ve){return nn.apply(this,arguments)}function nn(){return(nn=(0,m.Z)(function*(Ve){const be=Ve.name;Ze.has(be)&&(Ze.delete(be),yield Promise.all(Ve.container.getProviders().map(Xe=>Xe.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function Pi(Ve,be,Xe){var wt;let Pt=null!==(wt=ze[Ve])&&void 0!==wt?wt:Ve;Xe&&(Pt+=`-${Xe}`);const kt=Pt.match(/\s|\//),oi=be.match(/\s|\//);if(kt||oi){const j=[`Unable to register library "${Pt}" with version "${be}":`];return kt&&j.push(`library name "${Pt}" contains illegal characters (whitespace or "/")`),kt&&oi&&j.push("and"),oi&&j.push(`version name "${be}" contains illegal characters (whitespace or "/")`),void $.warn(j.join(" "))}Wt(new ee.wA(`${Pt}-version`,()=>({library:Pt,version:be}),"VERSION"))}function ft(Ve,be){if(null!==Ve&&"function"!=typeof Ve)throw ln.create("invalid-log-argument");(0,L.Am)(Ve,be)}function ts(Ve){(0,L.Ub)(Ve)}const nr="firebase-heartbeat-database",fn=1,ii="firebase-heartbeat-store";let ns=null;function Mt(){return ns||(ns=(0,ie.X3)(nr,fn,{upgrade:(Ve,be)=>{0===be&&Ve.createObjectStore(ii)}}).catch(Ve=>{throw ln.create("idb-open",{originalErrorMessage:Ve.message})})),ns}function Ct(){return(Ct=(0,m.Z)(function*(Ve){try{return(yield Mt()).transaction(ii).objectStore(ii).get(In(Ve))}catch(be){if(be instanceof re.ZR)$.warn(be.message);else{const Xe=ln.create("idb-get",{originalErrorMessage:be?.message});$.warn(Xe.message)}}})).apply(this,arguments)}function is(Ve,be){return rn.apply(this,arguments)}function rn(){return(rn=(0,m.Z)(function*(Ve,be){try{const wt=(yield Mt()).transaction(ii,"readwrite");return yield wt.objectStore(ii).put(be,In(Ve)),wt.done}catch(Xe){if(Xe instanceof re.ZR)$.warn(Xe.message);else{const wt=ln.create("idb-set",{originalErrorMessage:Xe?.message});$.warn(wt.message)}}})).apply(this,arguments)}function In(Ve){return`${Ve.name}!${Ve.options.appId}`}class so{constructor(be){this.container=be,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Vt(Xe),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var be=this;return(0,m.Z)(function*(){const wt=be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=Kt();if(null===be._heartbeatsCache&&(be._heartbeatsCache=yield be._heartbeatsCachePromise),be._heartbeatsCache.lastSentHeartbeatDate!==Pt&&!be._heartbeatsCache.heartbeats.some(kt=>kt.date===Pt))return be._heartbeatsCache.heartbeats.push({date:Pt,agent:wt}),be._heartbeatsCache.heartbeats=be._heartbeatsCache.heartbeats.filter(kt=>{const oi=new Date(kt.date).valueOf();return Date.now()-oi<=2592e6}),be._storage.overwrite(be._heartbeatsCache)})()}getHeartbeatsHeader(){var be=this;return(0,m.Z)(function*(){if(null===be._heartbeatsCache&&(yield be._heartbeatsCachePromise),null===be._heartbeatsCache||0===be._heartbeatsCache.heartbeats.length)return"";const Xe=Kt(),{heartbeatsToSend:wt,unsentEntries:Pt}=function yr(Ve,be=1024){const Xe=[];let wt=Ve.slice();for(const Pt of Ve){const kt=Xe.find(oi=>oi.agent===Pt.agent);if(kt){if(kt.dates.push(Pt.date),yi(Xe)>be){kt.dates.pop();break}}else if(Xe.push({agent:Pt.agent,dates:[Pt.date]}),yi(Xe)>be){Xe.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:wt}}(be._heartbeatsCache.heartbeats),kt=(0,re.L)(JSON.stringify({version:2,heartbeats:wt}));return be._heartbeatsCache.lastSentHeartbeatDate=Xe,Pt.length>0?(be._heartbeatsCache.heartbeats=Pt,yield be._storage.overwrite(be._heartbeatsCache)):(be._heartbeatsCache.heartbeats=[],be._storage.overwrite(be._heartbeatsCache)),kt})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(be){this.app=be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var be=this;return(0,m.Z)(function*(){return(yield be._canUseIndexedDBPromise)&&(yield function gt(Ve){return Ct.apply(this,arguments)}(be.app))||{heartbeats:[]}})()}overwrite(be){var Xe=this;return(0,m.Z)(function*(){var wt;if(yield Xe._canUseIndexedDBPromise){const kt=yield Xe.read();return is(Xe.app,{lastSentHeartbeatDate:null!==(wt=be.lastSentHeartbeatDate)&&void 0!==wt?wt:kt.lastSentHeartbeatDate,heartbeats:be.heartbeats})}})()}add(be){var Xe=this;return(0,m.Z)(function*(){var wt;if(yield Xe._canUseIndexedDBPromise){const kt=yield Xe.read();return is(Xe.app,{lastSentHeartbeatDate:null!==(wt=be.lastSentHeartbeatDate)&&void 0!==wt?wt:kt.lastSentHeartbeatDate,heartbeats:[...kt.heartbeats,...be.heartbeats]})}})()}}function yi(Ve){return(0,re.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function _r(Ve){Wt(new ee.wA("platform-logger",be=>new te(be),"PRIVATE")),Wt(new ee.wA("heartbeat",be=>new so(be),"PRIVATE")),Pi(ce,"0.9.5",Ve),Pi(ce,"0.9.5","esm2017"),Pi("fire-js","")}("")},4859:(ut,Ee,F)=>{F.d(Ee,{H0:()=>ce,wA:()=>L,zt:()=>ie});var m=F(5861),ee=F(2090);class L{constructor($,W,Q){this.name=$,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const re="[DEFAULT]";class ie{constructor($,W){this.name=$,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const W=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(W)){const Q=new ee.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:W});Be&&Q.resolve(Be)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate($){var W;const Q=this.normalizeInstanceIdentifier($?.identifier),Be=null!==(W=$?.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(Be)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function de(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[W,Q]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(W);try{const Ie=this.getOrInitializeService({instanceIdentifier:Be});Q.resolve(Ie)}catch{}}}}clearInstance($=re){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,m.Z)(function*(){const W=Array.from($.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=re){return this.instances.has($)}getOptions($=re){return this.instancesOptions.get($)||{}}initialize($={}){const{options:W={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[Ie,je]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&je.resolve(Be);return Be}onInit($,W){var Q;const Be=this.normalizeInstanceIdentifier(W),Ie=null!==(Q=this.onInitCallbacks.get(Be))&&void 0!==Q?Q:new Set;Ie.add($),this.onInitCallbacks.set(Be,Ie);const je=this.instances.get(Be);return je&&$(je,Be),()=>{Ie.delete($)}}invokeOnInitCallbacks($,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const Be of Q)try{Be($,W)}catch{}}getOrInitializeService({instanceIdentifier:$,options:W={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===re?void 0:le),options:W}),this.instances.set($,Q),this.instancesOptions.set($,W),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch{}var le;return Q||null}normalizeInstanceIdentifier($=re){return this.component?this.component.multipleInstances?$:re:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor($){this.name=$,this.providers=new Map}addComponent($){const W=this.getProvider($.name);if(W.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);W.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const W=new ie($,this);return this.providers.set($,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ee,F)=>{F.d(Ee,{Am:()=>le,Ub:()=>ce,Yd:()=>de,in:()=>ee});const m=[];var ee=(()=>{return($=ee||(ee={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",ee;var $})();const L={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},re=ee.INFO,ie={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},te=($,W,...Q)=>{if(W<$.logLevel)return;const Be=(new Date).toISOString(),Ie=ie[W];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ie](`[${Be}]  ${$.name}:`,...Q)};class de{constructor(W){this.name=W,this._logLevel=re,this._logHandler=te,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ee))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...W),this._logHandler(this,ee.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...W),this._logHandler(this,ee.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...W),this._logHandler(this,ee.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...W),this._logHandler(this,ee.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...W),this._logHandler(this,ee.ERROR,...W)}}function ce($){m.forEach(W=>{W.setLogLevel($)})}function le($,W){for(const Q of m){let Be=null;W&&W.level&&(Be=L[W.level]),Q.userLogHandler=null===$?null:(Ie,je,...nt)=>{const fe=nt.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");je>=(Be??Ie.logLevel)&&$({level:ee[je].toLowerCase(),message:fe,args:nt,type:Ie.name})}}}},259:(ut,Ee,F)=>{F.d(Ee,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=F(9681);(0,m.registerVersion)("firebase","9.18.0","app")},9260:(ut,Ee,F)=>{F.d(Ee,{Z:()=>m.Z});var m=F(3942);m.Z.registerVersion("firebase","9.18.0","app-compat")},8971:(ut,Ee,F)=>{F.r(Ee);var m=F(5861),ee=F(3942),L=F(2090),re=F(9681),ie=F(1877),te=F(655),de=F(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q_EMAIL_SIGNIN="EMAIL_SIGNIN",Q_PASSWORD_RESET="PASSWORD_RESET",Q_RECOVER_EMAIL="RECOVER_EMAIL",Q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Q_VERIFY_EMAIL="VERIFY_EMAIL";const je=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ie.Yd("@firebase/auth");function Ne(_,...f){Se.logLevel<=ie.in.ERROR&&Se.error(`Auth (${re.SDK_VERSION}): ${_}`,...f)}function Ce(_,...f){throw xe(_,...f)}function _e(_,...f){return xe(_,...f)}function Te(_,f,g){const b=Object.assign(Object.assign({},nt()),{[f]:g});return new L.LL("auth","Firebase",b).create(f,{appName:_.name})}function Fe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ce(_,"argument-error"),Te(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xe(_,...f){if("string"!=typeof _){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(g,...b)}return fe.create(_,...f)}function V(_,f,...g){if(!_)throw xe(f,...g)}function ge(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ne(f),new Error(f)}function Ue(_,f){_||ge(f)}const $e=new Map;function dt(_){Ue(_ instanceof Function,"Expected a class definition");let f=$e.get(_);return f?(Ue(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,$e.set(_,f),f)}function ue(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function me(){return"http:"===Me()||"https:"===Me()}function Me(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ze{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ue(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(me()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function We(_,f){Ue(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class qt{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wt=new Ze(3e4,6e4);function Qe(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Dt(_,f,g,b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(_,f,g,b,M={}){return Jt(_,M,(0,m.Z)(function*(){let O={},K={};b&&("GET"===f?K=b:O={body:JSON.stringify(b)});const ae=(0,L.xO)(Object.assign({key:_.config.apiKey},K)).slice(1),Oe=yield _._getAdditionalHeaders();return Oe["Content-Type"]="application/json",_.languageCode&&(Oe["X-Firebase-Locale"]=_.languageCode),qt.fetch()(Jr(_,_.config.apiHost,g,ae),Object.assign({method:f,headers:Oe,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Jt(_,f,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,m.Z)(function*(_,f,g){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},yt),f);try{const M=new $i(_),O=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw mi(_,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const ae=O.ok?K.errorMessage:K.error.message,[Oe,Ke]=ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw mi(_,"credential-already-in-use",K);if("EMAIL_EXISTS"===Oe)throw mi(_,"email-already-in-use",K);if("USER_DISABLED"===Oe)throw mi(_,"user-disabled",K);const bt=b[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Te(_,bt,Ke);Ce(_,bt)}}catch(M){if(M instanceof L.ZR)throw M;Ce(_,"internal-error",{message:String(M)})}})).apply(this,arguments)}function hn(_,f,g,b){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,m.Z)(function*(_,f,g,b,M={}){const O=yield Dt(_,f,g,b,M);return"mfaPendingCredential"in O&&Ce(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Jr(_,f,g,b){const M=`${f}${g}?${b}`;return _.config.emulator?We(_.config,M):`${_.config.apiScheme}://${M}`}class $i{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(_e(this.auth,"network-request-failed")),Wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mi(_,f,g){const b={appName:_.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const M=_e(_,f,b);return M.customData._tokenResponse=g,M}function nn(){return(nn=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ft(){return(ft=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Mt(){return(Mt=(0,m.Z)(function*(_,f=!1){const g=(0,L.m9)(_),b=yield g.getIdToken(f),M=Ct(b);V(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,K=O?.sign_in_provider;return{claims:M,token:b,authTime:fn(gt(M.auth_time)),issuedAtTime:fn(gt(M.iat)),expirationTime:fn(gt(M.exp)),signInProvider:K||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(_){return 1e3*Number(_)}function Ct(_){const[f,g,b]=_.split(".");if(void 0===f||void 0===g||void 0===b)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(g);return M?JSON.parse(M):(Ne("Failed to decode base64 JWT payload"),null)}catch(M){return Ne("Caught error parsing JWT payload as JSON",M?.toString()),null}}function rn(_,f){return In.apply(this,arguments)}function In(){return(In=(0,m.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof L.ZR&&function ri({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}class si{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,m.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class so{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fn(this.lastLoginAt),this.creationTime=fn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kt(_){return yr.apply(this,arguments)}function yr(){return yr=(0,m.Z)(function*(_){var f;const g=_.auth,b=yield _.getIdToken(),M=yield rn(_,function ts(_,f){return nr.apply(this,arguments)}(g,{idToken:b}));V(M?.users.length,g,"internal-error");const O=M.users[0];_._notifyReloadListener(O);const K=null!==(f=O.providerUserInfo)&&void 0!==f&&f.length?function Ve(_){return _.map(f=>{var{providerId:g}=f,b=(0,te._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(O.providerUserInfo):[],ae=function _r(_,f){return[..._.filter(b=>!f.some(M=>M.providerId===b.providerId)),...f]}(_.providerData,K),bt=!!_.isAnonymous&&!(_.email&&O.passwordHash||ae?.length),pt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ae,metadata:new so(O.createdAt,O.lastLoginAt),isAnonymous:bt};Object.assign(_,pt)}),yr.apply(this,arguments)}function yi(){return(yi=(0,m.Z)(function*(_){const f=(0,L.m9)(_);yield Kt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Xe(){return(Xe=(0,m.Z)(function*(_,f){const g=yield Jt(_,{},(0,m.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:O}=_.config,K=Jr(_,M,"/v1/token",`key=${O}`),ae=yield _._getAdditionalHeaders();return ae["Content-Type"]="application/x-www-form-urlencoded",qt.fetch()(K,{method:"POST",headers:ae,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){V(f.idToken,"internal-error"),V(typeof f.idToken<"u","internal-error"),V(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function is(_){const f=Ct(_);return V(f,"internal-error"),V(typeof f.exp<"u","internal-error"),V(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,m.Z)(function*(){return V(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,m.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:K}=yield function be(_,f){return Xe.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(M,O,Number(K))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:M,expirationTime:O}=g,K=new wt;return b&&(V("string"==typeof b,"internal-error",{appName:f}),K.refreshToken=b),M&&(V("string"==typeof M,"internal-error",{appName:f}),K.accessToken=M),O&&(V("number"==typeof O,"internal-error",{appName:f}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new wt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Pt(_,f){V("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class kt{constructor(f){var{uid:g,auth:b,stsTokenManager:M}=f,O=(0,te._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new so(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,m.Z)(function*(){const b=yield rn(g,g.stsTokenManager.getToken(g.auth,f));return V(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function ns(_){return Mt.apply(this,arguments)}(this,f)}reload(){return function Vt(_){return yi.apply(this,arguments)}(this)}_assign(f){this!==f&&(V(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new kt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,m.Z)(function*(){let M=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),M=!0),g&&(yield Kt(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,m.Z)(function*(){const g=yield f.getIdToken();return yield rn(f,function es(_,f){return nn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,M,O,K,ae,Oe,Ke,bt;const pt=null!==(b=g.displayName)&&void 0!==b?b:void 0,Wn=null!==(M=g.email)&&void 0!==M?M:void 0,Si=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Ac=null!==(K=g.photoURL)&&void 0!==K?K:void 0,Bf=null!==(ae=g.tenantId)&&void 0!==ae?ae:void 0,Zs=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,Gr=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,zo=null!==(bt=g.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:Mc,emailVerified:Pc,isAnonymous:xc,providerData:zf,stsTokenManager:Rc}=g;V(Mc&&Rc,f,"internal-error");const Y_=wt.fromJSON(this.name,Rc);V("string"==typeof Mc,f,"internal-error"),Pt(pt,f.name),Pt(Wn,f.name),V("boolean"==typeof Pc,f,"internal-error"),V("boolean"==typeof xc,f,"internal-error"),Pt(Si,f.name),Pt(Ac,f.name),Pt(Bf,f.name),Pt(Zs,f.name),Pt(Gr,f.name),Pt(zo,f.name);const Oc=new kt({uid:Mc,auth:f,email:Wn,emailVerified:Pc,displayName:pt,isAnonymous:xc,photoURL:Ac,phoneNumber:Si,tenantId:Bf,stsTokenManager:Y_,createdAt:Gr,lastLoginAt:zo});return zf&&Array.isArray(zf)&&(Oc.providerData=zf.map(kc=>Object.assign({},kc))),Zs&&(Oc._redirectEventId=Zs),Oc}static _fromIdTokenResponse(f,g,b=!1){return(0,m.Z)(function*(){const M=new wt;M.updateFromServerResponse(g);const O=new kt({uid:g.localId,auth:f,stsTokenManager:M,isAnonymous:b});return yield Kt(O),O})()}}const j=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,b){var M=this;return(0,m.Z)(function*(){M.storage[g]=b})()}_get(g){var b=this;return(0,m.Z)(function*(){const M=b.storage[g];return void 0===M?null:M})()}_remove(g){var b=this;return(0,m.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return _.type="NONE",_})();function H(_,f,g){return`firebase:${_}:${f}:${g}`}class q{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:M,name:O}=this.auth;this.fullUserKey=H(this.userKey,M.apiKey,O),this.fullPersistenceKey=H("persistence",M.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,m.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?kt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,m.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,m.Z)(function*(){if(!g.length)return new q(dt(j),f,b);const M=(yield Promise.all(g.map(function(){var Ke=(0,m.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let O=M[0]||dt(j);const K=H(b,f.config.apiKey,f.name);let ae=null;for(const Ke of g)try{const bt=yield Ke._get(K);if(bt){const pt=kt._fromJSON(f,bt);Ke!==O&&(ae=pt),O=Ke;break}}catch{}const Oe=M.filter(Ke=>Ke._shouldAllowMigration);return O._shouldAllowMigration&&Oe.length?(O=Oe[0],ae&&(yield O._set(K,ae.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,m.Z)(function*(bt){if(bt!==O)try{yield bt._remove(K)}catch{}});return function(bt){return Ke.apply(this,arguments)}}())),new q(O,f,b)):new q(O,f,b)})()}}function pe(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Gt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ne(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(pn(f))return"Blackberry";if(Rn(f))return"Webos";if(rt(f))return"Safari";if((f.includes("chrome/")||_t(f))&&!f.includes("edge/"))return"Chrome";if(vt(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function ne(_=(0,L.z$)()){return/firefox\//i.test(_)}function rt(_=(0,L.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function _t(_=(0,L.z$)()){return/crios\//i.test(_)}function Gt(_=(0,L.z$)()){return/iemobile/i.test(_)}function vt(_=(0,L.z$)()){return/android/i.test(_)}function pn(_=(0,L.z$)()){return/blackberry/i.test(_)}function Rn(_=(0,L.z$)()){return/webos/i.test(_)}function Bt(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ld(_=(0,L.z$)()){return Bt(_)||vt(_)||Rn(_)||pn(_)||/windows phone/i.test(_)||Gt(_)}function Ka(_,f=[]){let g;switch(_){case"Browser":g=pe((0,L.z$)());break;case"Worker":g=`${pe((0,L.z$)())}-${_}`;break;default:g=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${re.SDK_VERSION}/${b}`}class Vl{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=O=>new Promise((K,ae)=>{try{K(f(O))}catch(Oe){ae(Oe)}});b.onAbort=g,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,m.Z)(function*(){if(g.auth.currentUser===f)return;const b=[];try{for(const M of g.queue)yield M(f),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const O of b)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class au{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lu(this),this.idTokenSubscription=new lu(this),this.beforeStateQueue=new Vl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=dt(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var M,O;if(!b._deleted&&(b.persistenceManager=yield q.create(b,f),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,m.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,m.Z)(function*(){var b;const M=yield g.assertedPersistence.getCurrentUser();let O=M,K=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ae=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,Oe=O?._redirectEventId,Ke=yield g.tryRedirectSignIn(f);(!ae||ae===Oe)&&Ke?.user&&(O=Ke.user,K=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(K)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ae){O=M,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ae))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return V(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var g=this;return(0,m.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,m.Z)(function*(){try{yield Kt(f)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,m.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,m.Z)(function*(){const b=f?(0,L.m9)(f):null;return b&&V(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,m.Z)(function*(){if(!b._deleted)return f&&V(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,m.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,m.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(dt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,m.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(g);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&dt(f)||g._popupRedirectResolver;V(b,g,"argument-error"),g.redirectPersistenceManager=yield q.create(g,[dt(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,m.Z)(function*(){var b,M;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,m.Z)(function*(){if(f===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,M){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),K=this._isInitialized?Promise.resolve():this._initializationPromise;return V(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof g?f.addObserver(g,b,M):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ka(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,m.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(b["X-Firebase-Client"]=M),b})()}}function gn(_){return(0,L.m9)(_)}class lu{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ia(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function jt(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Dn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,g){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function On(_,f){return qn.apply(this,arguments)}function qn(){return(qn=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:resetPassword",Qe(_,f))})).apply(this,arguments)}function Wi(_,f){return qe.apply(this,arguments)}function qe(){return(qe=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sn(){return(sn=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:update",Qe(_,f))})).apply(this,arguments)}function Nr(){return(Nr=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPassword",Qe(_,f))})).apply(this,arguments)}function kn(_,f){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:sendOobCode",Qe(_,f))})).apply(this,arguments)}function oo(){return(oo=(0,m.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function Nt(){return(Nt=(0,m.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function rs(){return(rs=(0,m.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function rr(){return(rr=(0,m.Z)(function*(_,f){return kn(_,f)})).apply(this,arguments)}function ao(){return(ao=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithEmailLink",Qe(_,f))})).apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithEmailLink",Qe(_,f))})).apply(this,arguments)}class vr extends Dn{constructor(f,g,b,M=null){super("password",b),this._email=f,this._password=g,this._tenantId=M}static _fromEmailAndPassword(f,g){return new vr(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new vr(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,m.Z)(function*(){switch(g.signInMethod){case"password":return function _i(_,f){return Nr.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ai(_,f){return ao.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ce(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,m.Z)(function*(){switch(b.signInMethod){case"password":return Wi(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ts(_,f){return Zi.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:Ce(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Fr(_,f){return en.apply(this,arguments)}function en(){return(en=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithIdp",Qe(_,f))})).apply(this,arguments)}class qi extends Dn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new qi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:M}=g,O=(0,te._T)(g,["providerId","signInMethod"]);if(!b||!M)return null;const K=new qi(b,M);return K.idToken=O.idToken||void 0,K.accessToken=O.accessToken||void 0,K.secret=O.secret,K.nonce=O.nonce,K.pendingToken=O.pendingToken||null,K}_getIdTokenResponse(f){return Fr(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Fr(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,L.xO)(g)}return f}}function lo(){return(lo=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:sendVerificationCode",Qe(_,f))})).apply(this,arguments)}function vi(){return(vi=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",Qe(_,f))})).apply(this,arguments)}function uu(){return(uu=(0,m.Z)(function*(_,f){const g=yield hn(_,"POST","/v1/accounts:signInWithPhoneNumber",Qe(_,f));if(g.temporaryProof)throw mi(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const xi={USER_NOT_FOUND:"user-not-found"};function sa(){return(sa=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithPhoneNumber",Qe(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),xi)})).apply(this,arguments)}class or extends Dn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new or({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new or({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function As(_,f){return vi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function li(_,f){return uu.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function sr(_,f){return sa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:M}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}=f;return b||g||M||O?new or({verificationId:g,verificationCode:b,phoneNumber:M,temporaryProof:O}):null}}class oa{constructor(f){var g,b,M,O,K,ae;const Oe=(0,L.zd)((0,L.pd)(f)),Ke=null!==(g=Oe.apiKey)&&void 0!==g?g:null,bt=null!==(b=Oe.oobCode)&&void 0!==b?b:null,pt=function Gl(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Oe.mode)&&void 0!==M?M:null);V(Ke&&bt&&pt,"argument-error"),this.apiKey=Ke,this.operation=pt,this.code=bt,this.continueUrl=null!==(O=Oe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=Oe.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(ae=Oe.tenantId)&&void 0!==ae?ae:null}static parseLink(f){const g=function Ri(_){const f=(0,L.zd)((0,L.pd)(_)).link,g=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||g||f||_}(f);try{return new oa(g)}catch{return null}}}let Zl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,b){return vr._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const M=oa.parseLink(b);return V(M,"argument-error"),vr._fromEmailAndCode(g,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ur{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class co extends Ur{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class aa extends co{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return V("providerId"in g&&"signInMethod"in g,"argument-error"),qi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return V(f.idToken||f.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return aa.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return aa.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:O,nonce:K,providerId:ae}=f;if(!b&&!M&&!g&&!O||!ae)return null;try{return new aa(ae)._credential({idToken:g,accessToken:b,nonce:K,pendingToken:O})}catch{return null}}}let ql=(()=>{class _ extends co{constructor(){super("facebook.com")}static credential(g){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ud=(()=>{class _ extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:M}=g;if(!b&&!M)return null;try{return _.credential(b,M)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Bd=(()=>{class _ extends co{constructor(){super("github.com")}static credential(g){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class uo extends Dn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Fr(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Fr(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:M,pendingToken:O}=g;return b&&M&&O&&b===M?new uo(b,O):null}static _create(f,g){return new uo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wr extends Ur{constructor(f){V(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return wr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return wr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=uo.fromJSON(f);return V(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return uo._create(b,g)}catch{return null}}}let mf=(()=>{class _ extends co{constructor(){super("twitter.com")}static credential(g,b){return qi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=g;if(!b||!M)return null;try{return _.credential(b,M)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ya(_,f){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signUp",Qe(_,f))})).apply(this,arguments)}class bi{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,M=!1){return(0,m.Z)(function*(){const O=yield kt._fromIdTokenResponse(f,b,M),K=Yl(b);return new bi({user:O,providerId:K,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,m.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const M=Yl(b);return new bi({user:f,providerId:M,_tokenResponse:b,operationType:g})})()}}function Yl(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function zd(){return(zd=(0,m.Z)(function*(_){var f;const g=gn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new bi({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Ya(g,{returnSecureToken:!0}),M=yield bi._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Qa extends L.ZR{constructor(f,g,b,M){var O;super(g.code,g.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,Qa.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,M){return new Qa(f,g,b,M)}}function Ps(_,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Qa._fromErrorAndOperation(_,O,f,b):O})}function xs(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function ho(){return ho=(0,m.Z)(function*(_,f){const g=(0,L.m9)(_);yield Rs(!0,g,f);const{providerUserInfo:b}=yield function Pi(_,f){return ft.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),M=xs(b||[]);return g.providerData=g.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ho.apply(this,arguments)}function Ja(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,m.Z)(function*(_,f,g=!1){const b=yield rn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return bi._forOperation(_,"link",b)})).apply(this,arguments)}function Rs(_,f,g){return la.apply(this,arguments)}function la(){return(la=(0,m.Z)(function*(_,f,g){yield Kt(f);const M=!1===_?"provider-already-linked":"no-such-provider";V(xs(f.providerData).has(g)===_,f.auth,M)})).apply(this,arguments)}function Ql(_,f){return po.apply(this,arguments)}function po(){return(po=(0,m.Z)(function*(_,f,g=!1){const{auth:b}=_,M="reauthenticate";try{const O=yield rn(_,Ps(b,M,f,_),g);V(O.idToken,b,"internal-error");const K=Ct(O.idToken);V(K,b,"internal-error");const{sub:ae}=K;return V(_.uid===ae,b,"user-mismatch"),bi._forOperation(_,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(b,"user-mismatch"),O}})).apply(this,arguments)}function go(_,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,m.Z)(function*(_,f,g=!1){const b="signIn",M=yield Ps(_,b,f),O=yield bi._fromIdTokenResponse(_,b,M);return g||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function vn(_,f){return el.apply(this,arguments)}function el(){return(el=(0,m.Z)(function*(_,f){return go(gn(_),f)})).apply(this,arguments)}function Sn(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(_,f){const g=(0,L.m9)(_);return yield Rs(!1,g,f.providerId),Ja(g,f)})).apply(this,arguments)}function Os(_,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(_,f){return Ql((0,L.m9)(_),f)})).apply(this,arguments)}function yo(){return(yo=(0,m.Z)(function*(_,f){return hn(_,"POST","/v1/accounts:signInWithCustomToken",Qe(_,f))})).apply(this,arguments)}function jn(){return jn=(0,m.Z)(function*(_,f){const g=gn(_),b=yield function Xl(_,f){return yo.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),M=yield bi._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(M.user),M}),jn.apply(this,arguments)}class ca{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?_o._fromServerResponse(f,g):Ce(f,"internal-error")}}class _o extends ca{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new _o(g)}}function tl(_,f,g){var b;V((null===(b=g.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),V(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(V(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(V(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ua(){return ua=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_),M={requestType:"PASSWORD_RESET",email:f};g&&tl(b,M,g),yield function Lr(_,f){return Nt.apply(this,arguments)}(b,M)}),ua.apply(this,arguments)}function St(){return(St=(0,m.Z)(function*(_,f,g){yield On((0,L.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function hu(){return hu=(0,m.Z)(function*(_,f){yield function Rt(_,f){return sn.apply(this,arguments)}((0,L.m9)(_),{oobCode:f})}),hu.apply(this,arguments)}function il(_,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,m.Z)(function*(_,f){const g=(0,L.m9)(_),b=yield On(g,{oobCode:f}),M=b.requestType;switch(V(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(b.mfaInfo,g,"internal-error");default:V(b.email,g,"internal-error")}let O=null;return b.mfaInfo&&(O=ca._fromServerResponse(gn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function rl(){return(rl=(0,m.Z)(function*(_,f){const{data:g}=yield il((0,L.m9)(_),f);return g.email})).apply(this,arguments)}function tc(){return(tc=(0,m.Z)(function*(_,f,g){const b=gn(_),M=yield Ya(b,{returnSecureToken:!0,email:f,password:g}),O=yield bi._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function nc(){return nc=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_),M={requestType:"EMAIL_SIGNIN",email:f};V(g.handleCodeInApp,b,"argument-error"),g&&tl(b,M,g),yield function $l(_,f){return rs.apply(this,arguments)}(b,M)}),nc.apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_),M=Zl.credentialWithLink(f,g||ue());return V(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),vn(b,M)})).apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:createAuthUri",Qe(_,f))})).apply(this,arguments)}function al(){return al=(0,m.Z)(function*(_,f){const b={identifier:f,continueUri:me()?ue():"http://localhost"},{signinMethods:M}=yield function sl(_,f){return ki.apply(this,arguments)}((0,L.m9)(_),b);return M||[]}),al.apply(this,arguments)}function ic(){return ic=(0,m.Z)(function*(_,f){const g=(0,L.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&tl(g.auth,M,f);const{email:O}=yield function mn(_,f){return oo.apply(this,arguments)}(g.auth,M);O!==_.email&&(yield _.reload())}),ic.apply(this,arguments)}function Un(){return Un=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&tl(b.auth,O,g);const{email:K}=yield function Wl(_,f){return rr.apply(this,arguments)}(b.auth,O);K!==_.email&&(yield _.reload())}),Un.apply(this,arguments)}function ss(){return(ss=(0,m.Z)(function*(_,f){return Dt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Er(){return Er=(0,m.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,L.m9)(_),O={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},K=yield rn(b,function Ni(_,f){return ss.apply(this,arguments)}(b.auth,O));b.displayName=K.displayName||null,b.photoURL=K.photoUrl||null;const ae=b.providerData.find(({providerId:Oe})=>"password"===Oe);ae&&(ae.displayName=b.displayName,ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(K)}),Er.apply(this,arguments)}function mu(_,f,g){return rc.apply(this,arguments)}function rc(){return(rc=(0,m.Z)(function*(_,f,g){const{auth:b}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(O.email=f),g&&(O.password=g);const K=yield rn(_,Wi(b,O));yield _._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class zr{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class yu extends zr{constructor(f,g,b,M){super(f,g,b),this.username=M}}class oc extends zr{constructor(f,g){super(f,"facebook.com",g)}}class _u extends yu{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Vd extends zr{constructor(f,g){super(f,"google.com",g)}}class cl extends yu{constructor(f,g,b){super(f,"twitter.com",g,b)}}function jd(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function sc(_){var f,g;if(!_)return null;const{providerId:b}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&_?.idToken){const K=null===(g=null===(f=Ct(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(K)return new zr(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!b)return null;switch(b){case"facebook.com":return new oc(O,M);case"github.com":return new _u(O,M);case"google.com":return new Vd(O,M);case"twitter.com":return new cl(O,M,_.screenName||null);case"custom":case"anonymous":return new zr(O,null);default:return new zr(O,b,M)}}(g)}class bo{constructor(f,g,b){this.type=f,this.credential=g,this.auth=b}static _fromIdtoken(f,g){return new bo("enroll",f,g)}static _fromMfaPendingCredential(f){return new bo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return bo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return bo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class lc{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=gn(f),M=g.customData._serverResponse,O=(M.mfaInfo||[]).map(ae=>ca._fromServerResponse(b,ae));V(M.mfaPendingCredential,b,"internal-error");const K=bo._fromMfaPendingCredential(M.mfaPendingCredential);return new lc(K,O,function(){var ae=(0,m.Z)(function*(Oe){const Ke=yield Oe._process(b,K);delete M.mfaInfo,delete M.mfaPendingCredential;const bt=Object.assign(Object.assign({},M),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const pt=yield bi._fromIdTokenResponse(b,g.operationType,bt);return yield b._updateCurrentUser(pt.user),pt;case"reauthenticate":return V(g.user,b,"internal-error"),bi._forOperation(g.user,g.operationType,bt);default:Ce(b,"internal-error")}});return function(Oe){return ae.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,m.Z)(function*(){return g.signInResolver(f)})()}}class pa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>ca._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new pa(f)}getSession(){var f=this;return(0,m.Z)(function*(){return bo._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var b=this;return(0,m.Z)(function*(){const M=f,O=yield b.getSession(),K=yield rn(b.user,M._process(b.user.auth,O,g));return yield b.user._updateTokensIfNecessary(K),b.user.reload()})()}unenroll(f){var g=this;return(0,m.Z)(function*(){const b="string"==typeof f?f:f.uid,M=yield g.user.getIdToken();try{const O=yield rn(g.user,function bf(_,f){return Dt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(_,f))}(g.user.auth,{idToken:M,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:K})=>K!==b),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Ls=new WeakMap,os="__sak";class ga{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(os,"1"),this.storage.removeItem(os),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ul=(()=>{class _ extends ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ma(){const _=(0,L.z$)();return rt(_)||Bt(_)}()&&function na(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ld(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),O=this.localCache[b];M!==O&&g(b,O,M)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((ae,Oe,Ke)=>{this.notifyListeners(ae,Ke)});const M=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ae=this.storage.getItem(M);if(g.newValue!==ae)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!b)return}const O=()=>{const ae=this.storage.getItem(M);!b&&this.localCache[M]===ae||this.notifyListeners(M,ae)},K=this.storage.getItem(M);!function Ss(){return(0,L.w1)()&&10===document.documentMode}()||K===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var M=()=>super._set,O=this;return(0,m.Z)(function*(){yield M().call(O,g,b),O.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,M=this;return(0,m.Z)(function*(){const O=yield b().call(M,g);return M.localCache[g]=JSON.stringify(O),O})()}_remove(g){var b=()=>super._remove,M=this;return(0,m.Z)(function*(){yield b().call(M,g),delete M.localCache[g]})()}}return _.type="LOCAL",_})(),Fs=(()=>{class _ extends ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return _.type="SESSION",_})();let Wd=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(O=>O.isListeningto(g));if(b)return b;const M=new _(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,m.Z)(function*(){const M=g,{eventId:O,eventType:K,data:ae}=M.data,Oe=b.handlersMap[K];if(!Oe?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const Ke=Array.from(Oe).map(function(){var pt=(0,m.Z)(function*(Wn){return Wn(M.origin,ae)});return function(Wn){return pt.apply(this,arguments)}}()),bt=yield function wu(_){return Promise.all(_.map(function(){var f=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(Ke);M.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:bt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Us(_="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return _+g}class ya{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var M=this;return(0,m.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,ae;return new Promise((Oe,Ke)=>{const bt=Us("",20);O.port1.start();const pt=setTimeout(()=>{Ke(new Error("unsupported_event"))},b);ae={messageChannel:O,onMessage(Wn){const Si=Wn;if(Si.data.eventId===bt)switch(Si.data.status){case"ack":clearTimeout(pt),K=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Oe(Si.data.response);break;default:clearTimeout(pt),clearTimeout(K),Ke(new Error("invalid_response"))}}},M.handlers.add(ae),O.port1.addEventListener("message",ae.onMessage),M.target.postMessage({eventType:f,eventId:bt,data:g},[O.port2])}).finally(()=>{ae&&M.removeMessageHandler(ae)})})()}}function yn(){return window}function Hr(){return typeof yn().WorkerGlobalScope<"u"&&"function"==typeof yn().importScripts}function Eo(){return(Eo=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dl="firebaseLocalStorageDb",hl=1,ls="firebaseLocalStorage",Co="fbase_key";class Io{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ba(_,f){return _.transaction([ls],f?"readwrite":"readonly").objectStore(ls)}function fl(){const _=indexedDB.open(dl,hl);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(ls,{keyPath:Co})}catch(M){g(M)}}),_.addEventListener("success",(0,m.Z)(function*(){const b=_.result;b.objectStoreNames.contains(ls)?f(b):(b.close(),yield function wa(){const _=indexedDB.deleteDatabase(dl);return new Io(_).toPromise()}(),f(yield fl()))}))})}function Qn(_,f,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,m.Z)(function*(_,f,g){const b=ba(_,!0).put({[Co]:f,value:g});return new Io(b).toPromise()})).apply(this,arguments)}function cs(){return(cs=(0,m.Z)(function*(_,f){const g=ba(_,!1).get(f),b=yield new Io(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ca(_,f){const g=ba(_,!0).delete(f);return new Io(g).toPromise()}const Bs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield fl()),g.db})()}_withRetries(g){var b=this;return(0,m.Z)(function*(){let M=0;for(;;)try{const O=yield b._openDb();return yield g(O)}catch(O){if(M++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return Hr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=Wd._getInstance(function va(){return Hr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,m.Z)(function*(M,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(M,O){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,m.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var b,M;if(g.activeServiceWorker=yield function Vr(){return Eo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ya(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(b=O[0])&&void 0!==b&&b.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,m.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function uc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield fl();return yield Qn(g,os,"1"),yield Ca(g,os),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,m.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var M=this;return(0,m.Z)(function*(){return M._withPendingWrite((0,m.Z)(function*(){return yield M._withRetries(O=>Qn(O,g,b)),M.localCache[g]=b,M.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,m.Z)(function*(){const M=yield b._withRetries(O=>function Do(_,f){return cs.apply(this,arguments)}(O,g));return b.localCache[g]=M,M})()}_remove(g){var b=this;return(0,m.Z)(function*(){return b._withPendingWrite((0,m.Z)(function*(){return yield b._withRetries(M=>Ca(M,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const b=yield g._withRetries(K=>{const ae=ba(K,!1).getAll();return new Io(ae).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:K,value:ae}of b)O.add(K),JSON.stringify(g.localCache[K])!==JSON.stringify(ae)&&(g.notifyListeners(K,ae),M.push(K));for(const K of Object.keys(g.localCache))g.localCache[K]&&!O.has(K)&&(g.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(g,b){this.localCache[g]=b;const M=this.listeners[g];if(M)for(const O of Array.from(M))O(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function gl(){return(gl=(0,m.Z)(function*(_){return(yield Dt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ir(_){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=M=>{const O=_e("internal-error");O.customData=M,g(O)},b.type="text/javascript",b.charset="UTF-8",function zs(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Cu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const ar=1e12;class wf{constructor(f){this.auth=f,this.counter=ar,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Iu(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||ar;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ar))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,m.Z)(function*(){var b;return null===(b=g._widgets.get(f||ar))||void 0===b||b.execute(),""})()}}class Iu{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;V(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yl(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<_;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Du=Cu("rcb"),hc=new Ze(3e4,6e4);class $r{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=yn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return V(function So(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(yn().grecaptcha):new Promise((b,M)=>{const O=yn().setTimeout(()=>{M(_e(f,"network-request-failed"))},hc.get());yn()[Du]=()=>{yn().clearTimeout(O),delete yn()[Du];const ae=yn().grecaptcha;if(!ae)return void M(_e(f,"internal-error"));const Oe=ae.render;ae.render=(Ke,bt)=>{const pt=Oe(Ke,bt);return this.counter++,pt},this.hostLanguage=g,b(ae)},Ir(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Du,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),M(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=yn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vl{load(f){return(0,m.Z)(function*(){return new wf(f)})()}clearedOneInstance(){}}const Su="recaptcha",Gd={theme:"light",type:"image"};class Sa{constructor(f,g=Object.assign({},Gd),b){this.parameters=g,this.type=Su,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gn(b),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;V(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vl:new $r,this.validateStartingState()}verify(){var f=this;return(0,m.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(O=>{const K=ae=>{ae&&(f.tokenChangeListeners.delete(K),O(ae))};f.tokenChangeListeners.add(K),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=yn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,m.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,m.Z)(function*(){V(me()&&!Hr(),f.auth,"internal-error"),yield function Zd(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Cr(_){return gl.apply(this,arguments)}(f.auth);V(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Tu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=or._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Au(){return(Au=(0,m.Z)(function*(_,f,g){const b=gn(_),M=yield pc(b,f,(0,L.m9)(g));return new Tu(M,O=>vn(b,O))})).apply(this,arguments)}function fc(){return(fc=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_);yield Rs(!1,b,"phone");const M=yield pc(b.auth,f,(0,L.m9)(g));return new Tu(M,O=>Sn(b,O))})).apply(this,arguments)}function Mu(){return(Mu=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_),M=yield pc(b.auth,f,(0,L.m9)(g));return new Tu(M,O=>Os(b,O))})).apply(this,arguments)}function pc(_,f,g){return bl.apply(this,arguments)}function bl(){return bl=(0,m.Z)(function*(_,f,g){var b;const M=yield g.verify();try{let O;if(V("string"==typeof M,_,"argument-error"),V(g.type===Su,_,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const K=O.session;if("phoneNumber"in O)return V("enroll"===K.type,_,"internal-error"),(yield function $d(_,f){return Dt(_,"POST","/v2/accounts/mfaEnrollment:start",Qe(_,f))}(_,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{V("signin"===K.type,_,"internal-error");const ae=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return V(ae,_,"missing-multi-factor-info"),(yield function Da(_,f){return Dt(_,"POST","/v2/accounts/mfaSignIn:start",Qe(_,f))}(_,{mfaPendingCredential:K.credential,mfaEnrollmentId:ae,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function cu(_,f){return lo.apply(this,arguments)}(_,{phoneNumber:O.phoneNumber,recaptchaToken:M});return K}}finally{g._reset()}}),bl.apply(this,arguments)}function qd(){return(qd=(0,m.Z)(function*(_,f){yield Ja((0,L.m9)(_),f)})).apply(this,arguments)}let gc=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=gn(g)}verifyPhoneNumber(g,b){return pc(this.auth,g,(0,L.m9)(b))}static credential(g,b){return or._fromVerification(g,b)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:M}=g;return b&&M?or._fromTokenResponse(b,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function an(_,f){return f?dt(f):(V(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Aa extends Dn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Fr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Fr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Fr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function wl(_){return go(_.auth,new Aa(_),_.bypassAuthState)}function Pu(_){const{auth:f,user:g}=_;return V(g,f,"internal-error"),Ql(g,new Aa(_),_.bypassAuthState)}function Li(_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,m.Z)(function*(_){const{auth:f,user:g}=_;return V(g,f,"internal-error"),Ja(g,new Aa(_),_.bypassAuthState)})).apply(this,arguments)}class El{constructor(f,g,b,M,O=!1){this.auth=f,this.resolver=b,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,m.Z)(function*(b,M){f.pendingPromise={resolve:b,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(b,M){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,m.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:O,tenantId:K,error:ae,type:Oe}=f;if(ae)return void g.reject(ae);const Ke={auth:g.auth,requestUri:b,sessionId:M,tenantId:K||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)(Ke))}catch(bt){g.reject(bt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return wl;case"linkViaPopup":case"linkViaRedirect":return Li;case"reauthViaPopup":case"reauthViaRedirect":return Pu;default:Ce(this.auth,"internal-error")}}resolve(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const To=new Ze(2e3,1e4);function Cl(){return(Cl=(0,m.Z)(function*(_,f,g){const b=gn(_);Fe(_,f,Ur);const M=an(b,g);return new Vs(b,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Kd(){return(Kd=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_);Fe(b.auth,f,Ur);const M=an(b.auth,g);return new Vs(b.auth,"reauthViaPopup",f,M,b).executeNotNull()})).apply(this,arguments)}function Ei(){return(Ei=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_);Fe(b.auth,f,Ur);const M=an(b.auth,g);return new Vs(b.auth,"linkViaPopup",f,M,b).executeNotNull()})).apply(this,arguments)}let Vs=(()=>{class _ extends El{constructor(g,b,M,O,K){super(g,b,O,K),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const b=yield g.execute();return V(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,m.Z)(function*(){Ue(1===g.filter.length,"Popup operations only handle one event");const b=Us();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,To.get())};g()}}return _.currentPopupAction=null,_})();const lr="pendingRedirect",Mo=new Map;class Yd extends El{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,m.Z)(function*(){let b=Mo.get(g.auth._key());if(!b){try{const O=(yield function bn(_,f){return Ci.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(O)}catch(M){b=()=>Promise.reject(M)}Mo.set(g.auth._key(),b)}return g.bypassAuthState||Mo.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,m.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const M=yield b.auth._redirectUserForId(f.eventId);if(M)return b.user=M,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Ci(){return(Ci=(0,m.Z)(function*(_,f){const g=Fi(f),b=us(_);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(g));return yield b._remove(g),M})).apply(this,arguments)}function ot(_,f){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,m.Z)(function*(_,f){return us(_)._set(Fi(f),"true")})).apply(this,arguments)}function xu(_,f){Mo.set(_._key(),f)}function us(_){return dt(_._redirectPersistence)}function Fi(_){return H(lr,_.config.apiKey,_.name)}function mc(_,f,g){return function Il(_,f,g){return I.apply(this,arguments)}(_,f,g)}function I(){return(I=(0,m.Z)(function*(_,f,g){const b=gn(_);Fe(_,f,Ur),yield b._initializationPromise;const M=an(b,g);return yield ot(M,b),M._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function S(_,f,g){return function x(_,f,g){return z.apply(this,arguments)}(_,f,g)}function z(){return(z=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_);Fe(b.auth,f,Ur),yield b.auth._initializationPromise;const M=an(b.auth,g);yield ot(M,b.auth);const O=yield Tt(b);return M._openRedirect(b.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function X(_,f,g){return function G(_,f,g){return Ae.apply(this,arguments)}(_,f,g)}function Ae(){return(Ae=(0,m.Z)(function*(_,f,g){const b=(0,L.m9)(_);Fe(b.auth,f,Ur),yield b.auth._initializationPromise;const M=an(b.auth,g);yield Rs(!1,b,f.providerId),yield ot(M,b.auth);const O=yield Tt(b);return M._openRedirect(b.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function ct(){return(ct=(0,m.Z)(function*(_,f){return yield gn(_)._initializationPromise,st(_,f,!1)})).apply(this,arguments)}function st(_,f){return at.apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(_,f,g=!1){const b=gn(_),M=an(b,f),K=yield new Yd(b,M,g).execute();return K&&!g&&(delete K.user._redirectEventId,yield b._persistUserIfCurrent(K.user),yield b._setRedirectUser(null,f)),K})).apply(this,arguments)}function Tt(_){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,m.Z)(function*(_){const f=Us(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Po{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ui(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!xo(f)){const M=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,M))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(js(f))}saveEventToCache(f){this.cachedEventUids.add(js(f)),this.lastProcessedEventTime=Date.now()}}function js(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function xo({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Bi(_){return ds.apply(this,arguments)}function ds(){return(ds=(0,m.Z)(function*(_,f={}){return Dt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ef=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qd=/^https?/;function hs(){return(hs=(0,m.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Bi(_);for(const g of f)try{if(Xd(g))return}catch{}Ce(_,"unauthorized-domain")})).apply(this,arguments)}function Xd(_){const f=ue(),{protocol:g,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const K=new URL(_);return""===K.hostname&&""===b?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&K.hostname===b}if(!Qd.test(g))return!1;if(Ef.test(_))return b===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const Di=new Ze(3e4,6e4);function Ru(){const _=yn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let _n=null;const q_=new Ze(5e3,15e3),cr="__/auth/iframe",zi="emulator/auth/iframe",Jd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K_(_){const f=_.config;V(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?We(f,zi):`https://${_.config.authDomain}/${cr}`,b={apiKey:f.apiKey,appName:_.name,v:re.SDK_VERSION},M=Fg.get(_.config.apiHost);M&&(b.eid=M);const O=_._getFrameworks();return O.length&&(b.fw=O.join(",")),`${g}?${(0,L.xO)(b).slice(1)}`}function fs(){return fs=(0,m.Z)(function*(_){const f=yield function Ou(_){return _n=_n||function Cf(_){return new Promise((f,g)=>{var b,M,O;function K(){Ru(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ru(),g(_e(_,"network-request-failed"))},timeout:Di.get()})}if(null!==(M=null===(b=yn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)f(gapi.iframes.getContext());else{if(null===(O=yn().gapi)||void 0===O||!O.load){const ae=Cu("iframefcb");return yn()[ae]=()=>{gapi.load?K():g(_e(_,"network-request-failed"))},Ir(`https://apis.google.com/js/api.js?onload=${ae}`).catch(Oe=>g(Oe))}K()}}).catch(f=>{throw _n=null,f})}(_),_n}(_),g=yn().gapi;return V(g,_,"internal-error"),f.open({where:document.body,url:K_(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jd,dontclear:!0},b=>new Promise(function(){var M=(0,m.Z)(function*(O,K){yield b.restyle({setHideOnLeave:!1});const ae=_e(_,"network-request-failed"),Oe=yn().setTimeout(()=>{K(ae)},q_.get());function Ke(){yn().clearTimeout(Oe),O(b)}b.ping(Ke).then(Ke,()=>{K(ae)})});return function(O,K){return M.apply(this,arguments)}}()))}),fs.apply(this,arguments)}const ci={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ps=500,If=600,yc="_blank",ku="http://localhost";class Sr{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const eh="__/auth/handler",Ot="emulator/auth/handler";function $s(_,f,g,b,M,O){V(_.config.authDomain,_,"auth-domain-config-required"),V(_.config.apiKey,_,"invalid-api-key");const K={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:b,v:re.SDK_VERSION,eventId:M};if(f instanceof Ur){f.setDefaultLanguage(_.languageCode),K.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(K.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Oe,Ke]of Object.entries(O||{}))K[Oe]=Ke}if(f instanceof co){const Oe=f.getScopes().filter(Ke=>""!==Ke);Oe.length>0&&(K.scopes=Oe.join(","))}_.tenantId&&(K.tid=_.tenantId);const ae=K;for(const Oe of Object.keys(ae))void 0===ae[Oe]&&delete ae[Oe];return`${function zg({config:_}){return _.emulator?We(_,Ot):`https://${_.authDomain}/${eh}`}(_)}?${(0,L.xO)(ae).slice(1)}`}const Oo="webStorageSupport",th=class Hg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fs,this._completeRedirectFn=st,this._overrideRedirectResult=xu}_openPopup(f,g,b,M){var O=this;return(0,m.Z)(function*(){var K;Ue(null===(K=O.eventManagers[f._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const ae=$s(f,g,b,ue(),M);return function Ug(_,f,g,b=ps,M=If){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-b)/2,0).toString();let ae="";const Oe=Object.assign(Object.assign({},ci),{width:b.toString(),height:M.toString(),top:O,left:K}),Ke=(0,L.z$)().toLowerCase();g&&(ae=_t(Ke)?yc:g),ne(Ke)&&(f=f||ku,Oe.scrollbars="yes");const bt=Object.entries(Oe).reduce((Wn,[Si,Ac])=>`${Wn}${Si}=${Ac},`,"");if(function Ln(_=(0,L.z$)()){var f;return Bt(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ke)&&"_self"!==ae)return function Bg(_,f){const g=document.createElement("a");g.href=_,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",ae),new Sr(null);const pt=window.open(f||"",ae,bt);V(pt,_,"popup-blocked");try{pt.focus()}catch{}return new Sr(pt)}(f,ae,Us())})()}_openRedirect(f,g,b,M){var O=this;return(0,m.Z)(function*(){return yield O._originValidation(f),function _a(_){yn().location.href=_}($s(f,g,b,ue(),M)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:M,promise:O}=this.eventManagers[g];return M?Promise.resolve(M):(Ue(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,m.Z)(function*(){const b=yield function Ro(_){return fs.apply(this,arguments)}(f),M=new Po(f);return b.register("authEvent",O=>(V(O?.authEvent,f,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:M},g.iframes[f._key()]=b,M})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Oo,{type:Oo},M=>{var O;const K=null===(O=M?.[0])||void 0===O?void 0:O[Oo];void 0!==K&&g(!!K),Ce(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Dl(_){return hs.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ld()||rt()||Bt()}};class gs{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}class Nu extends gs{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Nu(f)}_finalizeEnroll(f,g,b){return function vf(_,f){return Dt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(_,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Eu(_,f){return Dt(_,"POST","/v2/accounts/mfaSignIn:finalize",Qe(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hi=(()=>{class _{constructor(){}static assertion(g){return Nu._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _c="@firebase/auth";class $n{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function No(){return window}(0,L.Pz)("authIdTokenMaxAge"),function ko(_){(0,re._registerComponent)(new de.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:O,authDomain:K}=b.options;return((ae,Oe)=>{V(O&&!O.includes(":"),"invalid-api-key",{appName:ae.name}),V(!K?.includes(":"),"argument-error",{appName:ae.name});const Ke={apiKey:O,authDomain:K,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ka(_)},bt=new au(ae,Oe,Ke);return function oe(_,f){const g=f?.persistence||[],b=(Array.isArray(g)?g:[g]).map(dt);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,f?.popupRedirectResolver)}(bt,g),bt})(b,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new de.wA("auth-internal",f=>{const g=gn(f.getProvider("auth").getImmediate());return new $n(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(_c,"0.21.5",function wn(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,re.registerVersion)(_c,"0.21.5","esm2017")}("Browser");const Af=2e3;function Sl(){return Sl=(0,m.Z)(function*(_,f,g){var b;const{BuildInfo:M}=No();Ue(f.sessionId,"AuthEvent did not contain a session ID");const O=yield function vc(_){return Pa.apply(this,arguments)}(f.sessionId),K={};return Bt()?K.ibi=M.packageName:vt()?K.apn=M.packageName:Ce(_,"operation-not-supported-in-this-environment"),M.displayName&&(K.appDisplayName=M.displayName),K.sessionId=O,$s(_,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,K)}),Sl.apply(this,arguments)}function Lt(){return(Lt=(0,m.Z)(function*(_){const{BuildInfo:f}=No(),g={};Bt()?g.iosBundleId=f.packageName:vt()?g.androidPackageName=f.packageName:Ce(_,"operation-not-supported-in-this-environment"),yield Bi(_,g)})).apply(this,arguments)}function ur(){return(ur=(0,m.Z)(function*(_,f,g){const{cordova:b}=No();let M=()=>{};try{yield new Promise((O,K)=>{let ae=null;function Oe(){var pt;O();const Wn=null===(pt=b.plugins.browsertab)||void 0===pt?void 0:pt.close;"function"==typeof Wn&&Wn(),"function"==typeof g?.close&&g.close()}function Ke(){ae||(ae=window.setTimeout(()=>{K(_e(_,"redirect-cancelled-by-user"))},Af))}function bt(){"visible"===document?.visibilityState&&Ke()}f.addPassiveListener(Oe),document.addEventListener("resume",Ke,!1),vt()&&document.addEventListener("visibilitychange",bt,!1),M=()=>{f.removePassiveListener(Oe),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",bt,!1),ae&&window.clearTimeout(ae)}})}finally{M()}})).apply(this,arguments)}function Pa(){return(Pa=(0,m.Z)(function*(_){const f=function sh(_){if(Ue(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let b=0;b<_.length;b++)g[b]=_.charCodeAt(b);return g}(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const bc=20;class ms extends Po{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,m.Z)(function*(){yield f.initPromise})()}}function Mf(_){return xa.apply(this,arguments)}function xa(){return(xa=(0,m.Z)(function*(_){const f=yield Uu()._get(oh(_));return f&&(yield Uu()._remove(oh(_))),f})).apply(this,arguments)}function Pf(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<bc;g++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Uu(){return dt(ul)}function oh(_){return H("authEvent",_.config.apiKey,_.name)}function Fo(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,L.zd)(g.join("?"))}const lh=class xf{constructor(){this._redirectPersistence=Fs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=st,this._overrideRedirectResult=xu}_initialize(f){var g=this;return(0,m.Z)(function*(){const b=f._key();let M=g.eventManagers.get(b);return M||(M=new ms(f),g.eventManagers.set(b,M),g.attachCallbackListeners(f,M)),M})()}_openPopup(f){Ce(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,M){var O=this;return(0,m.Z)(function*(){!function $g(_){var f,g,b,M,O,K,ae,Oe,Ke,bt;const pt=No();V("function"==typeof(null===(f=pt?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(g=pt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(O=null===(M=null===(b=pt?.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Oe=null===(ae=null===(K=pt?.cordova)||void 0===K?void 0:K.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===Oe?void 0:Oe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(bt=null===(Ke=pt?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===bt?void 0:bt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const K=yield O._initialize(f);yield K.initialized(),K.resetRedirect(),function Yi(){Mo.clear()}(),yield O._originValidation(f);const ae=function Lu(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Pf(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(f,b,M);yield function wc(_,f){return Uu()._set(oh(_),f)}(f,ae);const Oe=yield function rh(_,f,g){return Sl.apply(this,arguments)}(f,ae,g),Ke=yield function Ma(_){const{cordova:f}=No();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let M=null;b?f.plugins.browsertab.openUrl(_):M=f.InAppBrowser.open(_,function ir(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(M)})})}(Oe);return function jg(_,f,g){return ur.apply(this,arguments)}(f,K,Ke)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Lo(_){return Lt.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:M,BuildInfo:O}=No(),K=setTimeout((0,m.Z)(function*(){yield Mf(f),g.onEvent(Rf())}),500),ae=function(){var bt=(0,m.Z)(function*(pt){clearTimeout(K);const Wn=yield Mf(f);let Si=null;Wn&&pt?.url&&(Si=function Fu(_,f){var g,b;const M=function Gg(_){const f=Fo(_),g=f.link?decodeURIComponent(f.link):void 0,b=Fo(g).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Fo(M).link||M||b||g||_}(f);if(M.includes("/__/auth/callback")){const O=Fo(M),K=O.firebaseError?function Wg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ae=null===(b=null===(g=K?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],Oe=ae?_e(ae):null;return Oe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:M,postBody:null}}return null}(Wn,pt.url)),g.onEvent(Si||Rf())});return function(Wn){return bt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,ae);const Oe=M,Ke=`${O.packageName.toLowerCase()}://`;No().handleOpenURL=function(){var bt=(0,m.Z)(function*(pt){if(pt.toLowerCase().startsWith(Ke)&&ae({url:pt}),"function"==typeof Oe)try{Oe(pt)}catch(Wn){console.error(Wn)}});return function(pt){return bt.apply(this,arguments)}}()}};function Rf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}const Ra=1e3;function Tr(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function qg(_=(0,L.z$)()){return!("file:"!==Tr()&&"ionic:"!==Tr()&&"capacitor:"!==Tr()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oa(){try{const _=self.localStorage,f=Us();if(_)return _.setItem(f,"1"),_.removeItem(f),!function Tl(_=(0,L.z$)()){return function Cc(){return(0,L.w1)()&&11===document?.documentMode}()||function Yg(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch{return Ws()&&(0,L.hl)()}return!1}function Ws(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Al(){return(function zu(){return"http:"===Tr()||"https:"===Tr()}()||(0,L.ru)()||qg())&&!function Kg(){return(0,L.b$)()||(0,L.UG)()}()&&Oa()&&!Ws()}function Hu(){return qg()&&typeof document<"u"}function Wr(){return(Wr=(0,m.Z)(function*(){return!!Hu()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},Ra);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Vi={LOCAL:"local",NONE:"none",SESSION:"session"},Uo=V,Vu="persistence";function Bo(_){return ju.apply(this,arguments)}function ju(){return(ju=(0,m.Z)(function*(_){yield _._initializationPromise;const f=kf(),g=H(Vu,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function kf(){var _;try{return(null===(_=function Of(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Nf=V;class ys{constructor(){this.browserResolver=dt(th),this.cordovaResolver=dt(lh),this.underlyingResolver=null,this._redirectPersistence=Fs,this._completeRedirectFn=st,this._overrideRedirectResult=xu}_initialize(f){var g=this;return(0,m.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,M){var O=this;return(0,m.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,g,b,M)})()}_openRedirect(f,g,b,M){var O=this;return(0,m.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,g,b,M)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Hu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,m.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ic(){return Wr.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Na(_){return _.unwrap()}function Dc(_){return Sc(_)}function Sc(_){const{_tokenResponse:f}=_ instanceof L.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return gc.credentialFromResult(_);const g=f.providerId;if(!g||g===le.PASSWORD)return null;let b;switch(g){case le.GOOGLE:b=Ud;break;case le.FACEBOOK:b=ql;break;case le.GITHUB:b=Bd;break;case le.TWITTER:b=mf;break;default:const{oauthIdToken:M,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:ae,nonce:Oe}=f;return O||K||M||ae?ae?g.startsWith("saml.")?uo._create(g,ae):qi._fromParams({providerId:g,signInMethod:g,pendingToken:ae,idToken:M,accessToken:O}):new aa(g).credential({idToken:M,accessToken:O,rawNonce:Oe}):null}return _ instanceof L.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function ui(_,f){return f.catch(g=>{throw g instanceof L.ZR&&function Ar(_,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new dh(_,function Yn(_,f){var g;const b=(0,L.m9)(_),M=f;return V(f.customData.operationType,b,"argument-error"),V(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),lc._fromError(b,M)}(_,f));else if(b){const M=Sc(f),O=f;M&&(O.credential=M,O.tenantId=b.tenantId||void 0,O.email=b.email||void 0,O.phoneNumber=b.phoneNumber||void 0)}}(_,g),g}).then(g=>{const M=g.user;return{operationType:g.operationType,credential:Dc(g),additionalUserInfo:jd(g),user:Gs.getOrCreate(M)}})}function $u(_,f){return uh.apply(this,arguments)}function uh(){return(uh=(0,m.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>ui(_,g.confirm(b))}})).apply(this,arguments)}class dh{constructor(f,g){this.resolver=g,this.auth=function dr(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ui(Na(this.auth),this.resolver.resolveSignIn(f))}}class Gs{constructor(f){this._delegate=f,this.multiFactor=function cc(_){const f=(0,L.m9)(_);return Ls.has(f)||Ls.set(f,pa._fromUser(f)),Ls.get(f)}(f)}static getOrCreate(f){return Gs.USER_MAP.has(f)||Gs.USER_MAP.set(f,new Gs(f)),Gs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,m.Z)(function*(){return ui(g.auth,Sn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,m.Z)(function*(){return $u(b.auth,function Lg(_,f,g){return fc.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,m.Z)(function*(){return ui(g.auth,function Z_(_,f,g){return Ei.apply(this,arguments)}(g._delegate,f,ys))})()}linkWithRedirect(f){var g=this;return(0,m.Z)(function*(){return yield Bo(gn(g.auth)),X(g._delegate,f,ys)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,m.Z)(function*(){return ui(g.auth,Os(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return $u(this.auth,function Hs(_,f,g){return Mu.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ui(this.auth,function G_(_,f,g){return Kd.apply(this,arguments)}(this._delegate,f,ys))}reauthenticateWithRedirect(f){var g=this;return(0,m.Z)(function*(){return yield Bo(gn(g.auth)),S(g._delegate,f,ys)})()}sendEmailVerification(f){return function pu(_,f){return ic.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,m.Z)(function*(){return yield function Xa(_,f){return ho.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function gu(_,f){return mu((0,L.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function fa(_,f){return mu((0,L.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ta(_,f){return qd.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ns(_,f){return Er.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function ll(_,f,g){return Un.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gs.USER_MAP=new WeakMap;const Ml=V;let Tc=(()=>{class _{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=g.options;Ml(M,"invalid-api-key",{appName:g.name}),Ml(M,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?ys:void 0;this._delegate=b.initialize({options:{persistence:Lf(M,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function jl(_,f,g){const b=gn(_);V(b._canInitEmulator,b,"emulator-config-failed"),V(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const M=!!g?.disableWarnings,O=ia(f),{host:K,port:ae}=function ra(_){const f=ia(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const O=M[1];return{host:O,port:jt(b.substr(O.length+1))}}{const[O,K]=b.split(":");return{host:O,port:jt(K)}}}(f);b.config.emulator={url:`${O}//${K}${null===ae?"":`:${ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:K,port:ae,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Fn(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,b)}applyActionCode(g){return function nl(_,f){return hu.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return il(this._delegate,g)}confirmPasswordReset(g,b){return function da(_,f,g){return St.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var M=this;return(0,m.Z)(function*(){return ui(M._delegate,function Hd(_,f,g){return tc.apply(this,arguments)}(M._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ol(_,f){return al.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function fu(_,f){return"EMAIL_SIGNIN"===oa.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,m.Z)(function*(){Ml(Al(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function Je(_,f){return ct.apply(this,arguments)}(g._delegate,ys);return b?ui(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Zg(_,f){gn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,M){const{next:O,error:K,complete:ae}=Wu(g,b,M);return this._delegate.onAuthStateChanged(O,K,ae)}onIdTokenChanged(g,b,M){const{next:O,error:K,complete:ae}=Wu(g,b,M);return this._delegate.onIdTokenChanged(O,K,ae)}sendSignInLinkToEmail(g,b){return function $t(_,f,g){return nc.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function Br(_,f,g){return ua.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,m.Z)(function*(){let M;switch(function ka(_,f){Uo(Object.values(Vi).includes(f),_,"invalid-persistence-type"),(0,L.b$)()?Uo(f!==Vi.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?Uo(f===Vi.NONE,_,"unsupported-persistence-type"):Ws()?Uo(f===Vi.NONE||f===Vi.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):Uo(f===Vi.NONE||Oa(),_,"unsupported-persistence-type")}(b._delegate,g),g){case Vi.SESSION:M=Fs;break;case Vi.LOCAL:M=(yield dt(Bs)._isAvailable())?Bs:ul;break;case Vi.NONE:M=j;break;default:return Ce("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ui(this._delegate,function du(_){return zd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ui(this._delegate,vn(this._delegate,g))}signInWithCustomToken(g){return ui(this._delegate,function ks(_,f){return jn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return ui(this._delegate,function he(_,f,g){return vn((0,L.m9)(_),Zl.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return ui(this._delegate,function Kn(_,f,g){return ha.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return $u(this._delegate,function Qt(_,f,g){return Au.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,m.Z)(function*(){return Ml(Al(),b._delegate,"operation-not-supported-in-this-environment"),ui(b._delegate,function Ao(_,f,g){return Cl.apply(this,arguments)}(b._delegate,g,ys))})()}signInWithRedirect(g){var b=this;return(0,m.Z)(function*(){return Ml(Al(),b._delegate,"operation-not-supported-in-this-environment"),yield Bo(b._delegate),mc(b._delegate,g,ys)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ec(_,f){return rl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Vi,_})();function Wu(_,f,g){let b=_;"function"!=typeof _&&({next:b,error:f,complete:g}=_);const M=b;return{next:K=>M(K&&Gs.getOrCreate(K)),error:f,complete:g}}function Lf(_,f){const g=function ch(_,f){const g=kf();if(!g)return[];const b=H(Vu,_,f);switch(g.getItem(b)){case Vi.NONE:return[j];case Vi.LOCAL:return[Bs,Fs];case Vi.SESSION:return[Fs];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(Bs)&&g.push(Bs),typeof window<"u")for(const b of[ul,Fs])g.includes(b)||g.push(b);return g.includes(j)||g.push(j),g}class Gu{constructor(){this.providerId="phone",this._delegate=new gc(Na(ee.Z.auth()))}static credential(f,g){return gc.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Gu.PHONE_SIGN_IN_METHOD=gc.PHONE_SIGN_IN_METHOD,Gu.PROVIDER_ID=gc.PROVIDER_ID;const Ff=V;class La{constructor(f,g,b=ee.Z.app()){var M;Ff(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Sa(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Uf(_){_.INTERNAL.registerComponent(new de.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Tc(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q_EMAIL_SIGNIN,PASSWORD_RESET:Q_PASSWORD_RESET,RECOVER_EMAIL:Q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q_VERIFY_EMAIL}},EmailAuthProvider:Zl,FacebookAuthProvider:ql,GithubAuthProvider:Bd,GoogleAuthProvider:Ud,OAuthProvider:aa,SAMLAuthProvider:wr,PhoneAuthProvider:Gu,PhoneMultiFactorGenerator:Hi,RecaptchaVerifier:La,TwitterAuthProvider:mf,Auth:Tc,AuthCredential:Dn,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.3.5")}(ee.Z)},8766:(ut,Ee,F)=>{F.d(Ee,{Lj:()=>Ce,X3:()=>Ne});var m=F(5861);const ee=(V,ge)=>ge.some(Ue=>V instanceof Ue);let L,re;const de=new WeakMap,ce=new WeakMap,le=new WeakMap,$=new WeakMap,W=new WeakMap;let Ie={get(V,ge,Ue){if(V instanceof IDBTransaction){if("done"===ge)return ce.get(V);if("objectStoreNames"===ge)return V.objectStoreNames||le.get(V);if("store"===ge)return Ue.objectStoreNames[1]?void 0:Ue.objectStore(Ue.objectStoreNames[0])}return De(V[ge])},set:(V,ge,Ue)=>(V[ge]=Ue,!0),has:(V,ge)=>V instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in V};function fe(V){return"function"==typeof V?function nt(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...ge){return V.apply(Se(this),ge),De(de.get(this))}:function(...ge){return De(V.apply(Se(this),ge))}:function(ge,...Ue){const $e=V.call(Se(this),ge,...Ue);return le.set($e,ge.sort?ge.sort():[ge]),De($e)}}(V):(V instanceof IDBTransaction&&function Be(V){if(ce.has(V))return;const ge=new Promise((Ue,$e)=>{const dt=()=>{V.removeEventListener("complete",Ye),V.removeEventListener("error",oe),V.removeEventListener("abort",oe)},Ye=()=>{Ue(),dt()},oe=()=>{$e(V.error||new DOMException("AbortError","AbortError")),dt()};V.addEventListener("complete",Ye),V.addEventListener("error",oe),V.addEventListener("abort",oe)});ce.set(V,ge)}(V),ee(V,function ie(){return L||(L=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Ie):V)}function De(V){if(V instanceof IDBRequest)return function Q(V){const ge=new Promise((Ue,$e)=>{const dt=()=>{V.removeEventListener("success",Ye),V.removeEventListener("error",oe)},Ye=()=>{Ue(De(V.result)),dt()},oe=()=>{$e(V.error),dt()};V.addEventListener("success",Ye),V.addEventListener("error",oe)});return ge.then(Ue=>{Ue instanceof IDBCursor&&de.set(Ue,V)}).catch(()=>{}),W.set(ge,V),ge}(V);if($.has(V))return $.get(V);const ge=fe(V);return ge!==V&&($.set(V,ge),W.set(ge,V)),ge}const Se=V=>W.get(V);function Ne(V,ge,{blocked:Ue,upgrade:$e,blocking:dt,terminated:Ye}={}){const oe=indexedDB.open(V,ge),ue=De(oe);return $e&&oe.addEventListener("upgradeneeded",me=>{$e(De(oe.result),me.oldVersion,me.newVersion,De(oe.transaction))}),Ue&&oe.addEventListener("blocked",()=>Ue()),ue.then(me=>{Ye&&me.addEventListener("close",()=>Ye()),dt&&me.addEventListener("versionchange",()=>dt())}).catch(()=>{}),ue}function Ce(V,{blocked:ge}={}){const Ue=indexedDB.deleteDatabase(V);return ge&&Ue.addEventListener("blocked",()=>ge()),De(Ue).then(()=>{})}const _e=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],Fe=new Map;function xe(V,ge){if(!(V instanceof IDBDatabase)||ge in V||"string"!=typeof ge)return;if(Fe.get(ge))return Fe.get(ge);const Ue=ge.replace(/FromIndex$/,""),$e=ge!==Ue,dt=Te.includes(Ue);if(!(Ue in($e?IDBIndex:IDBObjectStore).prototype)||!dt&&!_e.includes(Ue))return;const Ye=function(){var oe=(0,m.Z)(function*(ue,...me){const Me=this.transaction(ue,dt?"readwrite":"readonly");let ke=Me.store;return $e&&(ke=ke.index(me.shift())),(yield Promise.all([ke[Ue](...me),dt&&Me.done]))[0]});return function(me){return oe.apply(this,arguments)}}();return Fe.set(ge,Ye),Ye}!function je(V){Ie=V(Ie)}(V=>({...V,get:(ge,Ue,$e)=>xe(ge,Ue)||V.get(ge,Ue,$e),has:(ge,Ue)=>!!xe(ge,Ue)||V.has(ge,Ue)}))},5861:(ut,Ee,F)=>{function m(L,re,ie,te,de,ce,le){try{var $=L[ce](le),W=$.value}catch(Q){return void ie(Q)}$.done?re(W):Promise.resolve(W).then(te,de)}function ee(L){return function(){var re=this,ie=arguments;return new Promise(function(te,de){var ce=L.apply(re,ie);function le(W){m(ce,te,de,le,$,"next",W)}function $(W){m(ce,te,de,le,$,"throw",W)}le(void 0)})}}F.d(Ee,{Z:()=>ee})}},ut=>{ut(ut.s=5845)}]);